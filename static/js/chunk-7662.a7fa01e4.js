(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7662"],{"6oYh":function(e,n,t){"use strict";var a=t("Zn1E");t.n(a).a},Zn1E:function(e,n,t){},xHEn:function(e,n,t){"use strict";t.r(n);var a=t("aOAA"),i=(t("+n12"),t("Smy8")),o={data:function(){return{pageModel:{},pageIndex:null,pageSize:null,selectedDictionaryInfo:[]}},created:function(){this.pageModel={config:{selectionMode:"selection",readonly:!1,columns:[{label:"字典标识",name:"name",width:"200px"},{label:"字典名称",name:"label",width:"200px",type:"link",router:{url:"/setting/dictionary/view"}},{label:"数据类型",name:"dataType",minwidth:"100px"},{label:"描述",name:"desc",minwidth:"350px"},{label:"标记",name:"system",minwidth:"100px",type:"template"},{label:"更新时间",name:"updated",minwidth:"160px",type:"date"}],actionWidth:"70",actions:[{name:"edit",icon:"el-icon-edit",label:"编辑",type:"text"},{name:"delete",label:"删除",icon:"el-icon-delete",type:"text",validation:function(e){if("自定义"==e.system)return!0}}]},page:[]}},mounted:function(){this.pageModel.page=i.dictionary},methods:{loadPage:function(e,n){var t=this;this.pageIndex=e,this.pageSize=n,uiServiceApi.queryEnums(null,e,n).then(function(e){t.pageModel.config.total=e.total,t.pageModel.config.pageSize=n,t.pageModel.page=e.rows},function(e){a.a.error("查询失败",e)})},rowAction:function(e,n,t){var i=this;"remove"===e?a.a.confirm("提示","是否删除该字典!",function(){uiServiceApi.deleteEnums(t.name).then(function(e){i.loadPage(i.pageIndex,i.pageSize)},function(e){a.a.error("删除失败",e)})}):"edit"===e&&this.$router.push({name:"dictionaryEdit",params:{name:t.name}})},hasDictionarySelected:function(e){this.selectedDictionaryInfo=e},deleteBatch:function(e){var n=this;0!==e.length?a.a.confirm("提示","是否删除选中的字典!",function(){for(var t="",i=0;i<e.length;i++)i<e.length-1?t+=e[i].name+",":t+=e[i].name;uiServiceApi.deleteEnums(t).then(function(e){n.loadPage(n.pageIndex,n.pageSize),n.$message.success("删除字典成功"),n.loadPage(n.pageIndex,n.pageSize)},function(e){a.a.error("删除失败",e)})}):a.a.notify("提示","没有选择任何数据!")}}},l=(t("6oYh"),t("KHd+")),c=Object(l.a)(o,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-row",{staticClass:"app-container ilayout-container"},[t("el-col",{attrs:{span:24}},[t("el-header",[t("el-row",[t("router-link",{attrs:{to:"/setting/dictionary/add"}},[t("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("新增\n          ")])],1),e._v(" "),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.deleteBatch(e.selectedDictionaryInfo)}}},[e._v("删除")])],1)],1),e._v(" "),t("el-main",[t("itsnow-filter-page-list",{on:{rowAction:e.rowAction,loadPage:e.loadPage,selected:e.hasDictionarySelected},scopedSlots:e._u([{key:"row",fn:function(n){var a=n.row;return["system"===n.column.name?t("div",["系统"==a.system?t("span",[e._v("系统")]):e._e(),e._v(" "),"自定义"==a.system?t("span",[e._v("自定义")]):e._e()]):e._e()]}}]),model:{value:e.pageModel,callback:function(n){e.pageModel=n},expression:"pageModel"}})],1)],1)],1)},[],!1,null,"1d0b67c0",null);n.default=c.exports}}]);