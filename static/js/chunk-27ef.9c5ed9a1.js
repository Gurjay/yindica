(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-27ef","9kT/","Ff/F","Z6R/"],{"4NwN":function(e,t,a){"use strict";var r=a("DCIw");a.n(r).a},"9kT/":function(e,t,a){"use strict";function r(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),e.associations||(e.associations="department,company"),e.order||(e.order="updateTime desc"),itsmRequest({url:"/api/v1/ci/UserView",method:"get",params:e})}function n(e,t){return t||(t={}),t.associations||(t.associations="roles,department,company,groups"),itsmRequest({url:"/api/v1/ci/UserView/"+e,method:"get",params:t})}function i(){return itsmRequest({url:"/api/v1/ci/Person/count/byCompany",method:"get"})}function s(e){return itsmRequest({url:"/api/v1/ci/Person/count/byDepartment/"+e,method:"get"})}function o(e){return itsmRequest({url:"/api/v1/ci/Person",method:"post",data:e})}function l(e){return itsmRequest({url:"/api/v1/ci/Person/"+e.id,method:"put",data:e})}function u(e){return itsmRequest({url:"/api/v1/ci/Person/"+e,method:"delete"})}function d(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),itsmRequest({url:"/api/v1/ci/TitleEnum",method:"get",params:e})}function p(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),itsmRequest({url:"/api/v1/ci/AccountTypeEnum",method:"get",params:e})}function c(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),itsmRequest({url:"/api/v1/ci/AccountStateEnum",method:"get",params:e})}function m(e){return itsmRequest({url:"/api/v1/passopen/send/"+e+"/pin",method:"get"})}function b(e){e||(e={});var t={};return e.pageIndex?t.pageNum=e.pageIndex:t.pageNum=1,e.pageSize?t.pageSize=e.pageSize:t.pageSize=10,t.where=e.where,passportRequest({url:"/api/v2/users",method:"get",params:t})}function f(e){return passportRequest({url:"/api/v2/users/"+e,method:"get"})}function g(e){return passportRequest({header:"itsm",url:"/api/v2/users",method:"post",data:e})}function v(e){return passportRequest({url:"/api/v2/users/"+e.id,method:"put",data:e})}function h(e){return passportRequest({url:"/api/v2/users/"+e,method:"delete"})}function y(e){return passportRequest({url:"/api/v2/users/"+e+"/status",method:"put",params:{value:"unlock"}})}function _(e){return passportRequest({url:"/api/v2/users/"+e+"/status",method:"put",params:{value:"lock"}})}function w(e){return passportRequest({url:"/api/v2/users/"+e+"/exit",method:"put"})}function x(e){return passportRequest({url:"/api/v2/users/"+e+"/roles",method:"get"})}function C(e,t){return passportRequest({url:"/api/v2/users/"+e+"/roles/"+t,method:"post"})}function q(e,t){return passportRequest({url:"/api/v2/users/"+e+"/roles/"+t,method:"delete"})}function F(e){return passportRequest({url:"/api/v2/users/"+e+"/orgs",method:"get"})}a.r(t),a.d(t,"queryPerson",function(){return r}),a.d(t,"getPerson",function(){return n}),a.d(t,"countPersonByCompany",function(){return i}),a.d(t,"countPersonByDepartment",function(){return s}),a.d(t,"addPerson",function(){return o}),a.d(t,"updatePerson",function(){return l}),a.d(t,"deletePerson",function(){return u}),a.d(t,"queryTitleEnum",function(){return d}),a.d(t,"queryAccountTypeEnum",function(){return p}),a.d(t,"queryAccountStateEnum",function(){return c}),a.d(t,"sendPin",function(){return m}),a.d(t,"queryUser",function(){return b}),a.d(t,"getUser",function(){return f}),a.d(t,"addUser",function(){return g}),a.d(t,"updateUser",function(){return v}),a.d(t,"deleteUser",function(){return h}),a.d(t,"enableUser",function(){return y}),a.d(t,"disableUser",function(){return _}),a.d(t,"exitUser",function(){return w}),a.d(t,"queryRoleByUser",function(){return x}),a.d(t,"addRoleByUser",function(){return C}),a.d(t,"deleteRoleByUser",function(){return q}),a.d(t,"queryOrgByUser",function(){return F})},DCIw:function(e,t,a){},"Ff/F":function(e,t,a){"use strict";a.r(t),a.d(t,"queryCompany",function(){return n}),a.d(t,"addCompany",function(){return i}),a.d(t,"updateCompany",function(){return s}),a.d(t,"deleteCompany",function(){return o}),a.d(t,"getCompany",function(){return l}),a.d(t,"queryCompanySortEnum",function(){return u}),a.d(t,"queryCompanyLogoEnum",function(){return d});var r=a("v0Ws");function n(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),e.pageSize||(e.pageSize=-1),Object(r.d)({url:"/api/v1/ci/Company",method:"get",params:e})}function i(e){return Object(r.d)({url:"/api/v1/ci/Company",method:"post",data:e})}function s(e){return Object(r.d)({url:"/api/v1/ci/Company/"+e.id,method:"put",data:e})}function o(e){return Object(r.d)({url:"/api/v1/ci/Company/"+e,method:"delete"})}function l(e){return Object(r.d)({url:"/api/v1/ci/Company/"+e,method:"get"})}function u(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),Object(r.d)({url:"/api/v1/ci/CompanySortEnum",method:"get",params:e})}function d(e){return e||(e={}),e.pageIndex&&(e.pageIndex=e.pageIndex-1),Object(r.d)({url:"/api/v1/ci/CompanyLogoEnum",method:"get",params:e})}},Nfcp:function(e,t,a){"use strict";a.r(t);var r=a("9kT/"),n=a("Smy8"),i=a("Ff/F"),s=a("Z6R/"),o={name:"org_Details",props:{headerBar:{type:Boolean,default:function(){return!1}},readonlyView:{type:Boolean,default:function(){return!1}}},data:function(){var e=this;return{usersDialogVisible:!1,insideNew:!1,radioSex:1,activeNames:["1"],avatar:{},url:"src/images/common/avatar_default.png",sexOptions:[{label:"男",value:"M"},{label:"女",value:"F"}],birthdayConfig:{type:"date"},placeholderConfig:{placeholder:"请输入"},nameConfig:{placeholder:"请输入"},departmentLabel:"技术研发部 / 研发工程组",departConfig:{disabled:!0,placeholder:"请选择"},companyConfig:{disabled:!0,placeholder:"请选择"},titleOptions:[],imageUrl:"",props:{value:"label",children:"cities"},userForm:{sex:"M",authorizationState:2,company:null,department:null,org:null},menuTree:[{label:"技术研发部",id:1,system:!0,children:[{label:"研发工程组",id:2,system:!1}]}],userPageModel:{config:{selectionMode:"single",readonly:!1,columns:[{name:"company",label:"租户",minwidth:"100"},{name:"name",label:"账户",type:"link",router:{url:"/setting/account/view/{guserId}",params:["guserId"]},minwidth:"150"},{name:"fullname",label:"昵称",minwidth:"150"},{name:"locked",label:"状态",width:"100",type:"template"},{name:"mobile",label:"手机",minwidth:"120"}]},page:[]},rules:{type:[{required:!0,message:"请选择账户类型",trigger:"blur"}],realName:[{required:!0,max:50,message:"长度不超过50个字符",trigger:"blur"}],label:[{required:!0,message:"请输入昵称",trigger:"blur"},{max:20,message:"长度不超过20个字符",trigger:"blur"},{pattern:/^[a-zA-Z0-9_:\-\(\)\[\]\{\}\u4E00-\u9FA5（）【】]*$/,message:"支持字母、数字、汉字及‘-_[](){}’组合！",trigger:"blur"},{validator:function(t,a,n){var i=e,s={};s=e.userForm.id?{where:"label='"+a+"' and id!="+e.userForm.id}:{where:"label='"+a+"'"},Object(r.queryPerson)(s).then(function(e){e.body.length>0?n(new Error("昵称已存在")):n()}).catch(function(e){i.$message.error(e)})},trigger:"blur"}],workPhone:[{max:20,message:"长度不超过20个字符",trigger:"blur"}],identification:[{pattern:/^(([1-9]\d{14})|([1-9]\d{16}(\d|X|x)))$/,message:"请输入正确的身份证号码！",trigger:"blur"}],address:[{max:100,message:"长度不超过100个字符",trigger:"blur"}],nativePlaceAddress:[{max:100,message:"长度不超过100个字符",trigger:"blur"}],mobilePhoneNumber:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1(3[0-9]|4[579]|5[0-35-9]|6[56]|7[0-8]|8[0-9]|9[189])\d{8}$/,message:"请输入正确的手机号码！",trigger:"blur"}],qq:[{pattern:/^(([1-9]\d{4,10})|([A-Za-z\d]+([\-_\.][A-Za-z\d]+)*@([A-Za-z\d]+[\-\.])+[A-Za-z\d]{2,5}))$/,message:"请输入正确的QQ号码！",trigger:"blur"}],im:[{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],weixin:[{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],email:[{pattern:/^[A-Za-z\d]+([\-_\.][A-Za-z\d]+)*@([A-Za-z\d]+[\-\.])+[A-Za-z\d]{2,5}$/,message:"请输入正确的email！",trigger:"blur"}]},departmentVisible:!1,orgVisible:!1}},created:function(){var e=this;"personView"==this.$route.name&&(this.editable=!1,this.statusC=3),"personAddOfCompany"==this.$route.name&&(this.addable=!0,this.statusC=0),"personAddOfCompany2"==this.$route.name&&(this.addable=!0,this.statusC=1),"personAddOfCompany3"==this.$route.name&&(this.addable=!0,this.statusC=2),cacheApi.getEnum("TitleEnum").then(function(t){e.titleOptions=[];var a=t.values;if(a&&a.length>0)for(var r=0;r<a.length;r++){var n=a[r];e.titleOptions.push({label:n.label,value:n.value})}});var t=this.$route.params.id;t&&Object(r.getPerson)(t).then(function(t){e.userForm=t,e.userForm.passportId&&Object(r.getUser)(e.userForm.passportId).then(function(t){e.user=t.data})});var a=this.$route.params.companyId;a&&Object(i.getCompany)(a).then(function(t){e.userForm.company=t});var n=this.$route.params.departmentId;n&&Object(s.getDepartment)(n).then(function(t){e.userForm.department=t,e.departmentVisible=!0});var o=this.$route.params.orgId;o&&Object(s.getOrg)(o).then(function(t){e.userForm.org=t,e.orgVisible=!0})},watch:{"userForm.birthday":{handler:function(e,t){}},"userForm.department":{handler:function(e,t){e&&(this.departmentLabel=e.label)}}},mounted:function(){this.userPageModel.page=[n.account[3]]},methods:{toAddPerson:function(){var e=this,t={where:"status='0'"};Object(i.queryCompany)(t).then(function(t){var a=t.body[0].id,r={name:"personAddOfOrg"};r.params={companyId:a},e.$router.push(r)})},onSubmit:function(){var e=this;this.$refs.userForm.validate(function(t){t&&(e.userForm.id?Object(r.updatePerson)(e.userForm).then(function(){e.$message.success("更新用户成功")},function(t){e.$message.error(t)}):Object(r.addPerson)(e.userForm).then(function(t){e.$message.success("创建用户成功"),e.$router.push({name:"personEdit",params:{id:t.id}})},function(t){e.$message.error(t)}))})},queryDeptNameByCompany:function(e,t){var a=this,r={},n=this.userForm.company.id;r.where=e?"label like '%"+e+"%' escape '!' and company.id = "+n:"company.id = "+n,Object(s.queryDepartment)(r).then(function(e){for(var r=e.body,n=[],i=0;i<r.length;i++)n.push({value:r[i].label,id:r[i].id});n.length<1&&(a.userForm.department=null),t(n)})},loadDepartInfo:function(e){var t=this;if(e){var a=Number(e.id);isNaN(a)||Object(s.getDepartment)(a).then(function(e){t.userForm.department=e})}}}},l=(a("4NwN"),a("KHd+")),u=Object(l.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"app-container ilayout-container"},[a("el-container",{staticClass:"sub"},[e.headerBar?e._e():a("el-header",[a("el-row",[a("router-link",{attrs:{to:"/setting/org"}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("返回")])],1),e._v(" "),e.addable?e._e():a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("上一条")]),e._v(" "),e.addable?e._e():a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("下一条")]),e._v(" "),e.editable||e.addable?e._e():a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.editable=!0}}},[e._v("编辑")]),e._v(" "),e.editable||e.addable?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v("保存")]):e._e(),e._v(" "),e.addable?e._e():a("router-link",{attrs:{to:"/setting/org/add"}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-main",[a("el-collapse",{staticClass:"its_collapse",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("div",{staticClass:"its_det"},[a("el-row",{staticClass:"its_form_row"},[a("el-form",{ref:"userForm",attrs:{"label-width":"80px",model:e.userForm,rules:e.rules,"status-icon":""}},[a("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[a("el-collapse-item",{attrs:{title:"人员信息",name:"1"}},[a("div",{staticClass:"clearfix its_card_header"}),e._v(" "),a("el-row",{staticClass:"its_card_body"},[a("el-col",{attrs:{span:10,offset:1}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓",prop:"realName"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable}})],1)],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"名","label-width":"40px",prop:"fullname"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable}})],1)],1)],1),e._v(" "),e.userForm.company?a("el-form-item",{attrs:{label:"公司",prop:"company"}},[a("el-autocomplete",{attrs:{disabled:!e.editable&&!e.addable,config:e.companyConfig},model:{value:e.userForm.company.label,callback:function(t){e.$set(e.userForm.company,"label",t)},expression:"userForm.company.label"}})],1):e._e(),e._v(" "),3==e.statusC?a("el-form-item",{directives:[{name:"else",rawName:"v-else"}],attrs:{label:"公司",prop:"company"}},[a("el-autocomplete",{attrs:{value:"依赐诺网络科技",disabled:""}})],1):e._e(),e._v(" "),0==e.statusC?a("el-form-item",{directives:[{name:"else",rawName:"v-else"}],attrs:{label:"公司",prop:"company"}},[a("el-select",{attrs:{value:"依赐诺网络科技",placeholder:"请选择"}},[a("el-option",{attrs:{label:"依赐诺网络科技",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"国际软件公司",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"广州基楚科技",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"个人",value:"4"}})],1)],1):e._e(),e._v(" "),1==e.statusC?a("el-form-item",{directives:[{name:"else",rawName:"v-else"}],attrs:{label:"公司",prop:"company"}},[a("el-autocomplete",{attrs:{disabled:"",value:"依赐诺网络科技",placeholder:"请选择"}})],1):e._e(),e._v(" "),2==e.statusC?a("el-form-item",{directives:[{name:"else",rawName:"v-else"}],attrs:{label:"公司",prop:"company"}},[a("el-autocomplete",{attrs:{disabled:"",value:"个人",placeholder:"请选择"}})],1):e._e(),e._v(" "),2!=e.statusC&&3!=e.statusC?a("el-form-item",{attrs:{label:"部门",prop:"org"}},[a("el-col",{staticStyle:{width:"calc(100% - 32px)"},attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:!e.editable&&!e.addable},model:{value:e.departmentLabel,callback:function(t){e.departmentLabel=t},expression:"departmentLabel"}})],1),e._v(" "),a("el-button",{staticClass:"inputBtn",attrs:{type:"primary",plain:"",size:"mini",icon:"iconfont icontable"},on:{click:function(t){e.insideNew=!0}}})],1):e._e(),e._v(" "),3==e.statusC?a("el-form-item",{attrs:{label:"部门",prop:"org"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:!e.editable&&!e.addable},model:{value:e.departmentLabel,callback:function(t){e.departmentLabel=t},expression:"departmentLabel"}})],1):e._e(),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.insideNew,title:"组织",width:"280px",top:"8vh"},on:{"update:visible":function(t){e.insideNew=t}}},[a("el-row",{staticClass:"its_dialogBody"},[a("div",{staticClass:"its_det"},[a("el-row",{staticClass:"its_form_row"},[a("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[a("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[a("el-row",{staticClass:"its_card_body"},[a("el-header",{staticStyle:{margin:"0"}},[a("el-row",[a("itsnow-text",{staticStyle:{width:"100px"}}),e._v(" "),a("el-button",{staticStyle:{padding:"5px",width:"auto"},attrs:{size:"mini",type:"primary",icon:"el-icon-search"}}),e._v(" "),e.openFold?a("el-button",{staticStyle:{padding:"5px",width:"auto"},attrs:{size:"mini",type:"primary",icon:"el-icon-folder-opened"},on:{click:function(t){e.openFold=!1}}}):e._e(),e._v(" "),e.openFold?e._e():a("el-button",{staticStyle:{padding:"5px",width:"auto"},attrs:{size:"mini",type:"primary",icon:"el-icon-folder"},on:{click:function(t){e.openFold=!0}}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[a("el-aside",{staticClass:"its_tree",staticStyle:{"min-width":"auto"}},[a("el-tree",{attrs:{"highlight-current":"","node-key":"id","default-expanded-keys":[1],data:e.menuTree}})],1)],1)],1)],1)],1)],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.insideNew=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.insideNew=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"座机"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{disabled:!e.editable&&!e.addable,placeholder:"区号"}})],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{disabled:!e.editable&&!e.addable,placeholder:"电话"}})],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("*")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{disabled:!e.editable&&!e.addable,placeholder:"分机"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"居住地"}},[a("i-district",{attrs:{disabled:!e.editable&&!e.addable}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"address","label-width":"0"}},[a("el-autocomplete",{attrs:{disabled:!e.editable&&!e.addable,placeholder:"请选择"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证",prop:"identification"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable},model:{value:e.userForm.identification,callback:function(t){e.$set(e.userForm,"identification",t)},expression:"userForm.identification"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期"}},[a("i-date-time-picker",{attrs:{config:e.birthdayConfig,readonly:!e.editable&&!e.addable},model:{value:e.userForm.birthday,callback:function(t){e.$set(e.userForm,"birthday",t)},expression:"userForm.birthday"}})],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"籍贯"}},[a("i-district",{attrs:{disabled:!e.editable&&!e.addable}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"nativePlaceAddress","label-width":"0"}},[a("el-autocomplete",{attrs:{disabled:!e.editable&&!e.addable,placeholder:"请选择"}})],1)],1)],1),e._v(" "),e.editable||e.addable?a("el-form-item",{attrs:{label:"账户"}},[a("el-col",{staticStyle:{width:"calc(100% - 32px)"},attrs:{span:24}},[a("itsnow-text",{staticStyle:{width:"100%"},attrs:{readonly:!e.editable&&!e.addable}})],1),e._v(" "),a("el-button",{staticClass:"inputBtn",attrs:{type:"primary",plain:"",size:"mini",icon:"iconfont icontable"},on:{click:function(t){e.usersDialogVisible=!0}}})],1):a("el-form-item",{attrs:{label:"账户"}},[a("itsnow-text",{staticStyle:{width:"100%"},attrs:{readonly:!e.editable&&!e.addable}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-form-item",{staticClass:"avatar_user",attrs:{label:"头像",prop:"avatar"}},[a("el-avatar",{attrs:{shape:"square",size:116,fit:e.cover,src:e.url}}),e._v(" "),a("el-radio-group",{staticClass:"its_radioSex",attrs:{size:"mini"},model:{value:e.radioSex,callback:function(t){e.radioSex=t},expression:"radioSex"}},[a("el-radio-button",{attrs:{label:1}},[a("i",{staticClass:"el-icon-male"})]),e._v(" "),a("el-radio-button",{staticClass:"female",attrs:{label:2}},[a("i",{staticClass:"el-icon-female"})])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable},model:{value:e.userForm.mobilePhoneNumber,callback:function(t){e.$set(e.userForm,"mobilePhoneNumber",t)},expression:"userForm.mobilePhoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信",prop:"weixin"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable},model:{value:e.userForm.weixin,callback:function(t){e.$set(e.userForm,"weixin",t)},expression:"userForm.weixin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("itsnow-text",{attrs:{readonly:!e.editable&&!e.addable},model:{value:e.userForm.qq,callback:function(t){e.$set(e.userForm,"qq",t)},expression:"userForm.qq"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.usersDialogVisible,title:"账户",width:"860px"},on:{"update:visible":function(t){e.usersDialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("itsnow-filter-page-list",{on:{rowAction:e.userRowAction,loadPage:e.loadUserPage,selected:e.hasUserSelected},scopedSlots:e._u([{key:"row",fn:function(t){var r=t.row,n=t.column;return["type"==n.name?a("div",["N"==r.type?a("span",[e._v("子账户")]):e._e(),e._v(" "),"V"==r.type?a("span",[e._v("虚拟账户")]):e._e()]):e._e(),e._v(" "),"locked"==n.name?a("div",[r.locked?a("span",{staticStyle:{color:"red"}},[e._v("锁定")]):e._e(),e._v(" "),r.locked?e._e():a("span",{staticStyle:{color:"#00c100"}},[e._v("解锁")])]):e._e()]}}]),model:{value:e.userPageModel,callback:function(t){e.userPageModel=t},expression:"userPageModel"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.usersDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)],1)],1)},[],!1,null,null,null);t.default=u.exports},"Z6R/":function(e,t,a){"use strict";function r(e){return e||(e={}),e.pageIndex=0,e.pageSize=-1,e.associations="children,parent,company",itsmRequest({url:"/api/v1/ci/Department",method:"get",params:e})}function n(e){var t={associations:"parent,company"};return itsmRequest({url:"/api/v1/ci/Department/"+e,method:"get",params:t})}function i(e){return itsmRequest({url:"/api/v1/ci/Department",method:"post",data:e})}function s(e){return itsmRequest({url:"/api/v1/ci/Department/"+e.id,method:"put",data:e})}function o(e){return itsmRequest({url:"/api/v1/ci/Department/"+e,method:"delete"})}function l(e){e||(e={});var t={};return e.pageIndex?t.pageNum=e.pageIndex:t.pageNum=1,e.pageSize?t.pageSize=e.pageSize:t.pageSize=10,passportRequest({url:"/api/v2/orgs",method:"get",params:t})}function u(e){return passportRequest({url:"/api/v2/orgs/"+e,method:"get"})}function d(e){return passportRequest({url:"/api/v2/orgs",method:"post",data:e})}function p(e){return passportRequest({url:"/api/v2/orgs/"+e.id,method:"put",data:e})}function c(e){return passportRequest({url:"/api/v2/orgs/"+e,method:"delete"})}function m(){return itsmRequest({url:"/api/v1/ci/sync/Department",method:"get"})}a.r(t),a.d(t,"queryDepartment",function(){return r}),a.d(t,"getDepartment",function(){return n}),a.d(t,"addDepartment",function(){return i}),a.d(t,"updateDepartment",function(){return s}),a.d(t,"deleteDepartment",function(){return o}),a.d(t,"queryOrg",function(){return l}),a.d(t,"getOrg",function(){return u}),a.d(t,"addOrg",function(){return d}),a.d(t,"updateOrg",function(){return p}),a.d(t,"deleteOrg",function(){return c}),a.d(t,"syncOrg",function(){return m})}}]);