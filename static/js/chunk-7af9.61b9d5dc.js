(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7af9","YN25"],{"3BES":function(e,t,i){},O0Wa:function(e,t,i){"use strict";var a=i("3BES");i.n(a).a},"SCH+":function(e,t,i){"use strict";i.r(t);var a=i("YN25"),n={data:function(){return{dialogVisibletest:!1,activeNamesTest:["1","2"],pageModel:{},queryList:{},selected:[],topButtonsMap:{},rules:{IP:[{required:!0,trigger:"blur"}],vistKey:[{required:!0,trigger:"blur"}],label:[{required:!0,trigger:"blur"}],indicatorItems:[{required:!0,trigger:"blur"}],lableRules:[{required:!0,trigger:"blur"}]}}},created:function(){this.pageModel={config:{readonly:!1,columns:[{name:"identification",label:"程序标识",minwidth:"200"},{name:"identification",label:"程序名称",type:"link",minwidth:"200",router:{url:"/monitor/monitorSetting/script/view"}},{name:"codeLanguage",label:"程序类型",minwidth:"150"},{name:"description",label:"描述",minwidth:"250"},{name:"plug",label:"插件",minwidth:"100"},{name:"tab",label:"标记",minwidth:"100"},{name:"date",label:"更新日期",minwidth:"160",type:""}],actionWidth:"90",actions:[{icon:"el-icon-set-up",name:"test",label:"测试"},{icon:"el-icon-edit",name:"edit",label:"编辑"},{name:"reset",icon:"el-icon-refresh-left",label:"重置",isExclusion:!0,validation:function(e){return"--"!=e.plug}},{icon:"el-icon-delete",name:"delete",label:"删除",isExclusion:!0,validation:function(e){return"--"==e.plug}}]},page:[{id:"1",date:"2016-05-03 10:12:36",identification:"network_ipRouteTable",codeLanguage:"SNMP",plug:"服务器插件包",description:"这是对总管的描述",tab:"系统"},{id:"2",date:"2019-02-15 15:56:10",identification:"oracle_locked_object_sql",codeLanguage:"SQL",plug:"Oracle插件包",description:"这是对总管的描述",tab:"系统"},{id:"3",date:"2019-02-15 15:54:47",identification:"windows_phyElement_sh",codeLanguage:"SHELL",plug:"--",description:"这是对总管的描述",tab:"自定义"},{id:"4",date:"2019-02-15 15:54:47",identification:"linux_phyElement_py",codeLanguage:"SHELL\t",plug:"--",description:"这是对总管的描述",tab:"自定义"}]},this.initTopButton()},watch:{},methods:{deleteSingle:function(e){var t=this;Object(a.deleteScriptProgramById)(e.id).then(function(i){t.pageModel.page.splice(e.index,1),t.$message.success("删除成功!")},function(e){console.log(e)})},rowAction:function(e,t,i){var a=this;"edit"===e?this.$router.push({name:"scriptEdit",params:{id:i.id}}):"delete"===e?this.$confirm("此操作将永久删除, 是否继续?","提示",{customClass:"its_message_box",cancelButtonClass:"el-button--mini",confirmButtonClass:"el-button--mini",cancelButtonText:"取 消",confirmButtonText:"确 定",type:"warning"}).then(function(){a.deleteSingle(i).then(function(){a.pageModel.page.splice(t,1)},function(e){console.log(e)})}):"test"===e&&(this.dialogVisibletest=!0)},hasSelected:function(e){this.selected=e},initTopButton:function(){var e=this;this.topButtonsMap={add:{name:"add",label:"新增",action:function(t){e.$router.push({name:"scriptAdd"})},noLoading:!0,noNeedSelect:!0},remove:{name:"remove",label:"删除",noNeedLoop:!0,action:function(t){var i=[];if(t){for(var n=0,o=t.length;n<o;n++)i.push(t[n].id);if(i){for(var r=[],l=0,s=i.length;l<s;l++)r.push(Object(a.deleteScriptProgramById)(i[l]));Promise.all(r).then(function(){return e.loadPage(e.pageModel.config.pageIndex,e.pageModel.config.pageSize)}),e.$message({message:"删除成功！",type:"success"})}}},noLoading:!0,confirm:"确定要删除选中的实例?",noNeedSelect:!0}}},languageFormat:function(e){return"DynamicLinkLibrary"===e?"动态链接库":"ExecutableFile"===e?"可执行文件":e}}},o=(i("O0Wa"),i("KHd+")),r=Object(o.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticClass:"app-container ilayout-container"},[i("el-container",[i("el-header",[i("i-top-button",{attrs:{buttonsMap:e.topButtonsMap,selected:e.selected}})],1),e._v(" "),i("el-main",[i("itsnow-filter-page-list",{on:{rowAction:e.rowAction,loadPage:e.loadPage,selected:e.hasSelected},model:{value:e.pageModel,callback:function(t){e.pageModel=t},expression:"pageModel"}})],1)],1),e._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisibletest,title:"测试",width:"850px",top:"8vh"},on:{"update:visible":function(t){e.dialogVisibletest=t}}},[i("el-row",{staticClass:"its_dialogBody"},[i("el-collapse",{staticClass:"its_collapse",model:{value:e.activeNamesTest,callback:function(t){e.activeNamesTest=t},expression:"activeNamesTest"}},[i("div",{staticClass:"its_det"},[i("el-row",{staticClass:"its_form_row"},[i("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[i("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[i("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[i("el-collapse-item",{attrs:{title:"测试参数",name:"1"}},[i("div",{staticClass:"clearfix its_card_header"}),e._v(" "),i("el-row",{staticClass:"its_card_body"},[i("el-col",{attrs:{span:10,offset:1}},[i("el-form-item",{attrs:{label:"IP地址",prop:"IP"}},[i("el-input",{attrs:{placeholder:"请输入"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"访问凭据",prop:"vistKey"}},[i("el-autocomplete",{attrs:{placeholder:"请输入"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:10,offset:1}},[i("el-form-item",{attrs:{label:"端口",prop:"post"}},[i("el-input",{attrs:{placeholder:"请输入"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"its_det"},[i("el-row",{staticClass:"its_form_row"},[i("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[i("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[i("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[i("el-collapse-item",{attrs:{title:"测试结果",name:"2"}},[i("div",{staticClass:"clearfix its_card_header"}),e._v(" "),i("el-row",{staticClass:"its_card_body"},[i("el-col",{attrs:{span:21,offset:1}},[i("el-form-item",{attrs:{label:"回显"}},[i("el-input",{staticClass:"its_terminal",attrs:{disabled:"",autosize:{minRows:2,maxRows:8},type:"textarea",value:"Failed to Connect to ServerAgent[9f141d90-2204-41ef-a264-ccb2cbb04661].com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'java': was expecting ('true', 'false' or 'null')\n                                 at [Source: java.lang.RuntimeException: 112.111.111.111:22 root/root123 connect failed; line: 1, column: 5]"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"}},[e._v("执 行")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisibletest=!1}}},[e._v("取 消")])],1)],1)],1)},[],!1,null,"4cd57832",null);t.default=r.exports},YN25:function(e,t,i){"use strict";i.r(t),i.d(t,"getSingle",function(){return n}),i.d(t,"update",function(){return o}),i.d(t,"deleteScriptProgramById",function(){return r}),i.d(t,"createScriptProgram",function(){return l}),i.d(t,"deleteBatch",function(){return s}),i.d(t,"getScriptPage",function(){return c}),i.d(t,"getIndicatorPage",function(){return d}),i.d(t,"getAttachmentInfo",function(){return u});var a=i("v0Ws");function n(e){return Object(a.e)({url:"/api/v2/monitor/scripts/"+e,method:"get"})}function o(e,t){return Object(a.e)({url:"/api/v2/monitor/scripts/"+e,method:"put",data:t})}function r(e){return Object(a.e)({url:"/api/v2/monitor/scripts/"+e,method:"delete"})}function l(e){return Object(a.e)({url:"/api/v2/monitor/scripts",method:"post",data:e})}function s(e){return Object(a.e)({url:"/api/v2/monitor/scripts/delete",method:"post",data:e})}function c(e){var t="1=1";return e.where&&(t+=e.where),e.where=t,Object(a.e)({url:"/api/v2/monitor/scripts",method:"get",params:e})}function d(e){e||(e={});var t="1=1";return e.where&&(t=t+" and "+e.where),e.where=t,Object(a.e)({url:"/api/v2/monitor/indicators",method:"get",params:e})}function u(e){var t={identify:e};return Object(a.f)({url:"/api/v2/attachment/info",method:"get",params:t})}}}]);