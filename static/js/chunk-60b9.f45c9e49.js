(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-60b9"],{"68ey":function(e,t,l){"use strict";var a=l("gDk/");l.n(a).a},"gDk/":function(e,t,l){},hCfD:function(e,t,l){"use strict";l.r(t);var a=l("54jj");l("dzmM");function i(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var o={data:function(){var e;return i(e={kpiAdd:!1,activeNamesTest:["1","2","3","4","5","6","55","22","33"],monitorPlugin:[],treeT_value:[{label:"服务器",icon:"static/images/resource/host/16x16.png",id:2,children:[{label:"Linux",icon:"static/images/resource/linux/16x16.png",id:3}]}],treeConfig:{showCheckbox:!1,checkStrictly:!1,expandedKeys:[1]},defaultProps:{children:"children",label:"label"},editable:!1,dialogVisible:!1,pageModel:{config:{readonly:!1,columns:[{name:"resourceType",label:"资源类型",minwidth:"100",type:""},{name:"identification",label:"指标标识",type:"",minwidth:"200"},{name:"label",label:"指标名称",minwidth:"250",type:"link",router:{url:"/monitor/monitorSetting/kpi/view/{id}",params:["id"]}},{name:"kpiType",label:"指标分类",width:"100"},{name:"description",label:"描述",minwidth:"200",type:""}],actionWidth:"70",actions:[{icon:"el-icon-edit",name:"edit",label:"编辑"},{icon:"el-icon-delete",name:"delete",label:"删除"}]},page:[]},pageModel1:{config:{readonly:!1,columns:[{name:"resourceType",label:"资源类型",minwidth:"100",type:""},{name:"identification",label:"指标标识",type:"",minwidth:"200"},{name:"label",label:"指标名称",minwidth:"250",type:"link",router:{url:"/monitor/monitorSetting/kpi/view/{id}",params:["id"]}},{name:"kpiType",label:"指标分类",width:"100"},{name:"description",label:"描述",minwidth:"200",type:""}],actionWidth:"70",actions:[{icon:"el-icon-edit",name:"edit",label:"编辑"},{icon:"el-icon-delete",name:"delete",label:"删除",isExclusion:!0,validation:function(e){return"Linux"==e.resourceType}},{name:"reset",icon:"el-icon-refresh-left",label:"重置",isExclusion:!0,validation:function(e){return"Host"==e.resourceType}}]},page:[]},rules:{name:[{trigger:"blur",required:!0}]},link:2,tagBlock:0,childP:!1,activeNames:["1","2","3","4","5"],scriptManage:[],highS:!1,isAble:!1,ruleForm:{date:"",identification:"",codeLanguage:"",plug:"",app:"1",description:"",tab:"自定义",label:"",resourceType:"主机",sourceType:"",type:"2",unit:"",otherLabel:"",dataType:"1",calculationType:"1",configureItem:"1",performanceItem:"1",lableRules:"",soleKey:"2"}},"rules",{identification:[{required:!0,trigger:"blur"}],label:[{required:!0,trigger:"blur"}],indicatorItems:[{required:!0,trigger:"blur"}],lableRules:[{required:!0,trigger:"blur"}]}),i(e,"dialogVisible2",!1),i(e,"dialogVisibleScript",!1),i(e,"identificationData",[{label:"本地时长",date:"2016-05-03 10:12:36",otherLabel:"--",key:"2",ci:"2",per:"2",num:"计算",identification:"localtime",codeLanguage:"oid",typeData:"字符型",description:"这是对总管的描述",unit:"B"}]),e},mounted:function(){this.pageModel.page=[a.monitorKpi[3]],this.pageModel1.page=[a.monitorKpi[3],a.monitorKpi[4]],this.scriptManage=a.scriptManage},created:function(){},methods:{handleNodeClick:function(e){this.link=e.id,console.log(this.link)},test:function(e){this.ruleForm.app,2==e?(this.isAble=!0,this.ruleForm.type="2"):(this.isAble=!1,this.ruleForm.type="1"),console.log(this.ruleForm.type)}}},r=(l("68ey"),l("KHd+")),s=Object(r.a)(o,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-row",[l("el-col",{staticStyle:{"padding-right":"5px"},attrs:{span:5}},[l("el-container",{staticClass:"sub"},[l("el-aside",{staticClass:"its_tree",staticStyle:{"min-width":"auto"}},[l("el-tree",{attrs:{data:e.treeT_value,props:e.defaultProps,"default-expanded-keys":[2],"highlight-current":!0,"node-key":"id"},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var a=t.data;return l("span",{staticClass:"custom-tree-node",staticStyle:{width:"100%"}},[l("el-row",[l("el-col",[a.icon?l("el-image",{staticStyle:{width:"18px",height:"18px","vertical-align":"sub"},attrs:{src:a.icon}}):e._e(),e._v(" "),l("span",{attrs:{title:a.label}},[e._v(e._s(a.label))])],1)],1)],1)}}])})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:19}},[l("div",{staticClass:"its_det"},[l("el-row",{staticClass:"its_form_row"},[l("el-form",{staticClass:"demo-ruleForm",attrs:{"label-width":"100px",rules:e.rules}},[l("el-col",{attrs:{span:24,offset:0}},[l("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[l("el-collapse-item",{attrs:{title:"指标",name:"2"}},[l("div",{staticClass:"clearfix its_card_header"}),e._v(" "),l("el-row",{staticClass:"its_card_body"},[l("div",{staticClass:"filter-container"},[l("el-col",{staticStyle:{padding:"5px 0","padding-left":"6px","border-bottom":"1px solid #cfd2d6"},attrs:{span:24}},[l("el-button",{attrs:{size:"mini",type:"text",plain:""},on:{click:function(t){e.kpiAdd=!0}}},[e._v(" 新增")])],1)],1),e._v(" "),l("div",[2==e.link?l("itsnow-list",{attrs:{config:e.pageModel.config},model:{value:e.pageModel.page,callback:function(t){e.$set(e.pageModel,"page",t)},expression:"pageModel.page"}}):e._e()],1),e._v(" "),3==e.link?l("itsnow-list",{attrs:{config:e.pageModel1.config},model:{value:e.pageModel1.page,callback:function(t){e.$set(e.pageModel1,"page",t)},expression:"pageModel1.page"}}):e._e()],1)],1)],1)],1)],1)],1)],1)]),e._v(" "),l("el-drawer",{attrs:{title:"指标信息",visible:e.kpiAdd,direction:e.direction,size:"44%"},on:{"update:visible":function(t){e.kpiAdd=t}}},[l("el-row",{staticClass:"sub"},[l("el-header",[l("el-row",[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"返回",placement:"top-start"}},[l("el-button",{staticStyle:{padding:"5px",width:"auto"},attrs:{type:"primary",size:"mini",icon:"iconfont iconfanhui"},on:{click:function(t){e.kpiAdd=!1}}})],1),e._v(" "),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"保存",placement:"top-start"}},[l("el-button",{staticStyle:{padding:"5px",width:"auto"},attrs:{type:"primary",size:"mini",icon:"iconfont iconbaocun"}})],1)],1)],1),e._v(" "),l("el-main",{staticStyle:{"max-height":"calc(100vh - 84px)"}},[l("el-collapse",{staticClass:"its_collapse",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[l("div",{staticClass:"its_det"},[l("el-row",{staticClass:"its_form_row"},[l("el-form",{attrs:{"label-width":"100px",rules:e.rules,model:e.form}},[l("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[l("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[l("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},[l("div",{staticClass:"clearfix its_card_header"}),e._v(" "),l("el-row",{staticClass:"its_card_body"},[l("el-col",{attrs:{span:10,offset:1}},[l("el-form-item",{attrs:{label:"指标标识",prop:"identification"}},[l("itsnow-text",{attrs:{placeholder:"请输入",readonly:e.editable},model:{value:e.ruleForm.identification,callback:function(t){e.$set(e.ruleForm,"identification",t)},expression:"ruleForm.identification"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"指标名称"}},[l("itsnow-text",{attrs:{placeholder:"请输入",readonly:e.editable},model:{value:e.ruleForm.label,callback:function(t){e.$set(e.ruleForm,"label",t)},expression:"ruleForm.label"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:10,offset:1}},[l("el-form-item",{attrs:{label:"指标分类"}},[l("el-select",{attrs:{disabled:e.editable},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[l("el-option",{attrs:{label:"单实例",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"多实例",value:"2"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"配置子项"}},[l("el-checkbox",{attrs:{disabled:e.editable},model:{value:e.childP,callback:function(t){e.childP=t},expression:"childP"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:21,offset:1}},[l("el-form-item",{attrs:{label:"描述"}},[l("itsnow-textarea",{attrs:{type:"textarea",readonly:e.editable},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),l("div",{staticClass:"its_det"},[l("el-row",{staticClass:"its_form_row"},[l("el-form",{attrs:{"label-width":"100px",rules:e.rules,model:e.form}},[l("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[l("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[l("el-collapse-item",{attrs:{title:"指标项信息",name:"2"}},[l("div",{staticClass:"clearfix its_card_header"}),e._v(" "),l("el-row",{staticClass:"its_card_body"},[l("el-col",{attrs:{span:21,offset:1}},[l("el-form-item",{attrs:{label:"指标项",prop:"identification"}},[l("el-col",{staticClass:"form_tool"},[e.editable?e._e():l("el-col",{staticClass:"form_tool_bar"},[l("el-button",{attrs:{size:"mini",type:"text",plain:""},on:{click:function(t){e.dialogVisible2=!0}}},[e._v("新增")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"text",plain:""},on:{click:e.itemDelete}},[e._v("删除")])],1),e._v(" "),l("div",{staticClass:"its_table",staticStyle:{"padding-top":"0"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.identificationData,border:""}},[e.editable?e._e():l("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"identification",label:"指标项标识","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                                                            "+e._s(t.row.identification)+"\n                                                                        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"label",label:"指标项名称","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("a",[e._v(e._s(t.row.label))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"otherLabel",label:"别名",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"key",label:"唯一",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{attrs:{value:"true",disabled:e.editable}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"typeData",label:"数据类型",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"num",label:"计算类型",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"unit",label:"单位",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ci",label:"配置项",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{attrs:{value:"true",disabled:e.editable}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"per",label:"性能项",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{attrs:{value:"true",disabled:e.editable}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"250"}}),e._v(" "),e.editable?e._e():l("el-table-column",{attrs:{label:"操作",fixed:"right",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[l("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"}})],1),e._v(" "),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top-start"}},[l("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"}})],1)]}}],null,!1,1101508758)})],1)],1)],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:21,offset:1}},[l("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.ruleForm.type,expression:"ruleForm.type == '2'"}],attrs:{label:"Label格式",prop:"lableRules"}},[l("el-input",{attrs:{disabled:e.editable},model:{value:e.ruleForm.lableRules,callback:function(t){e.$set(e.ruleForm,"lableRules",t)},expression:"ruleForm.lableRules"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.ruleForm.type,expression:"ruleForm.type == '2'"}],staticStyle:{"text-align":"center"},attrs:{label:""}},[l("span",[e._v("格式说明:多实例对象显示定义。支持占位格式:${指标项标识}, 比如: [磁盘${diskname}], 最终展示: [磁盘C:]")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),l("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisible2,title:"指标项",width:"650px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible2=t}}},[l("div",{staticClass:"its_det"},[l("el-row",{staticClass:"its_form_row"},[l("el-form",{attrs:{"label-width":"100px",rules:e.rules}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:"指标项标识",prop:"identification"}},[l("el-input",{attrs:{placeholder:"请输入"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"指标项名称"}},[l("el-input",{attrs:{placeholder:"请输入"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"别名"}},[l("itsnow-text",{model:{value:e.ruleForm.otherLabel,callback:function(t){e.$set(e.ruleForm,"otherLabel",t)},expression:"ruleForm.otherLabel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"配置项"}},[l("el-checkbox",{attrs:{disabled:e.editable},model:{value:e.ruleForm.configureItem,callback:function(t){e.$set(e.ruleForm,"configureItem",t)},expression:"ruleForm.configureItem"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.ruleForm.type,expression:"ruleForm.type == '2'"}],attrs:{label:"唯一"}},[l("el-checkbox",{attrs:{disabled:e.editable},model:{value:e.ruleForm.soleKey,callback:function(t){e.$set(e.ruleForm,"soleKey",t)},expression:"ruleForm.soleKey"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:10,offset:1}},[l("el-form-item",{attrs:{label:"数据类型",prop:"dataType"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.ruleForm.dataType,callback:function(t){e.$set(e.ruleForm,"dataType",t)},expression:"ruleForm.dataType"}},[l("el-option",{attrs:{label:"整型",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"长整型",value:"2"}}),e._v(" "),l("el-option",{attrs:{label:"Double",value:"3"}}),e._v(" "),l("el-option",{attrs:{label:"字符型",value:"4"}}),e._v(" "),l("el-option",{attrs:{label:"布尔型",value:"5"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"计算类型",prop:"calculationType"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.ruleForm.calculationType,callback:function(t){e.$set(e.ruleForm,"calculationType",t)},expression:"ruleForm.calculationType"}},[l("el-option",{attrs:{label:"计算",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"计数",value:"2"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"单位",prop:"unit"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.unit,callback:function(t){e.$set(e.ruleForm,"unit",t)},expression:"ruleForm.unit"}},[l("el-option",{attrs:{label:"--",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"B",value:"2"}}),e._v(" "),l("el-option",{attrs:{label:"KB",value:"3"}}),e._v(" "),l("el-option",{attrs:{label:"MB",value:"4"}}),e._v(" "),l("el-option",{attrs:{label:"GB",value:"5"}}),e._v(" "),l("el-option",{attrs:{label:"/s",value:"6"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"性能项"}},[l("el-checkbox",{attrs:{disabled:e.editable},model:{value:e.ruleForm.performanceItem,callback:function(t){e.$set(e.ruleForm,"performanceItem",t)},expression:"ruleForm.performanceItem"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:21}},[l("el-form-item",{attrs:{label:"描述"}},[l("itsnow-textarea",{attrs:{type:"textarea"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1)],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible2=!1}}},[e._v("确 定")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")])],1)]),e._v(" "),l("div",{staticClass:"its_det"},[l("el-row",{staticClass:"its_form_row"},[l("el-form",{attrs:{"label-width":"100px",rules:e.rules,model:e.form}},[l("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[l("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[l("el-collapse-item",{attrs:{title:"程序信息",name:"3"}},[l("div",{staticClass:"clearfix its_card_header"}),e._v(" "),l("el-row",{staticClass:"its_card_body"},[l("el-col",{attrs:{span:21,offset:1}},[l("el-form-item",{attrs:{label:"程序"}},[l("el-col",{staticClass:"form_tool"},[e.editable?e._e():l("el-col",{staticClass:"form_tool_bar"},[l("el-button",{attrs:{size:"mini",type:"text",plain:""},on:{click:function(t){e.dialogVisibleScript=!0}}},[e._v("新增")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"text",plain:""},on:{click:e.itemDelete}},[e._v("删除")])],1),e._v(" "),l("div",{staticClass:"its_table"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scriptManage,border:""}},[e.editable?e._e():l("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"identification",label:"程序名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                                                            "+e._s(t.row.identification)+"\n                                                                        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"codeLanguage",label:"程序类型",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"description",label:"描述",width:"350"}}),e._v(" "),e.editable?e._e():l("el-table-column",{attrs:{label:"操作",fixed:"right",width:"60"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top-start"}},[l("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"}})],1)]}}],null,!1,3950296515)})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),l("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisibleScript,title:"程序",width:"940px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisibleScript=t}}},[l("el-row",{staticClass:"its_det"},[l("el-col",{staticClass:"its_card_body"},[l("itsnow-filter"),e._v(" "),l("div",{staticClass:"its_table"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scriptManage,border:""}},[l("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"identification",label:"程序名称","min-width":"200"}}),e._v(" "),l("el-table-column",{attrs:{prop:"codeLanguage",label:"程序类型","min-width":"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"350"}})],1)],1),e._v(" "),l("div",{staticClass:"block its_pagination"},[l("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"page-sizes":[10,25,50,80,100],"page-size":25,total:4,background:"",layout:"total, sizes, prev, pager, next, jumper"}})],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisibleScript=!1}}},[e._v("确 定")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisibleScript=!1}}},[e._v("取 消")])],1)],1)],1)],1)],1)],1)],1)},[],!1,null,"5c69d298",null);t.default=s.exports}}]);