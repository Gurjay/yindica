(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2a2a"],{FbDf:function(e,a,t){},J1W3:function(e,a,t){"use strict";var o=t("FbDf");t.n(o).a},lbgY:function(e,a){ace.define("ace/theme/chrome",["require","exports","module","ace/lib/dom"],function(e,a,t){a.isDark=!1,a.cssClass="ace-chrome",a.cssText='.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(a.cssText,a.cssClass)})},"nTe+":function(e,a,t){"use strict";t.r(a);var o=t("aOAA"),r=(t("+n12"),t("1IE/")),c=t("54jj"),i=(t("fJ7X"),{components:{ElRow:t("Lgs+").a,editor:t("fJ7X")},data:function(){return{smartUserRule:["Linux"],contentScript:!1,resourceType:[],resourceChoice:!1,dialogVisibletest:!1,pageModel:{},selectedTool:[],pArray:[],pageIndex:null,pageSize:null,activeNamesTest:["1","2"],activeNames:["1","2","3","4"],activeNamesss:["1","2","3","4"],highS:!1,dynamicValidateForm:{domains2:"",domains:[{value:"",compare:""}]},formInline:{user:"",region:""},rules:{resource:[{trigger:"blur",message:"不能为空",required:!0}],ping:[{required:!0,trigger:"blur",message:"不能为空"}]}}},mounted:function(){this.pageModel.page=r.toolSet,this.resourceType=c.resourceType,this.taskinfo=r.taskinfo,this.taskinfo2=r.taskinfo2},created:function(){this.pageModel={config:{selectionMode:"selection",readonly:!1,columns:[{label:"工具名称",name:"name",minwidth:"150px",type:"link",router:{url:"/operation/operationSettings/toolSetting/view/{id}",params:["id"]}},{label:"管理状态",name:"manage",minwidth:"100px",type:"template"},{label:"工具位置",name:"location",width:"100px"},{label:"常用工具",name:"often",width:"100px"},{label:"更新时间",name:"update",minwidth:"160px",type:"date"}],actionWidth:"120",actions:[{icon:"el-icon-set-up",name:"test",label:"测试"},{icon:"el-icon-video-play",isExclusion:!0,name:"enable",label:"启用",validation:function(e){return"停用"==e.manage}},{name:"disable",icon:"el-icon-circle-close",isExclusion:!0,label:"停用",validation:function(e){return"启用"==e.manage}},{icon:"el-icon-edit",name:"edit",label:"编辑"},{icon:"el-icon-delete",name:"remove",label:"删除",validation:function(e){return!0}}]},page:[]};var e=new Promise(function(e,a){cacheApi.getEnum("ManageStateEnum").then(function(a){e(a)},function(e){a(e)})}),a=new Promise(function(e,a){cacheApi.getEnum("ToolPlaceEnum").then(function(a){e(a)},function(e){a(e)})});this.pArray.push(e),this.pArray.push(a)},methods:{editorInit:function(){t("IJmI"),t("vp08"),t("uzal"),t("AymK"),t("lbgY"),t("aiGj")},rowAction:function(e,a,t){"remove"===e?this.removeTool(t):"edit"===e?this.$router.push({name:"toolSettingEdit",params:{id:t.id}}):"enable"===e?this.enableTool(t):"disable"===e?this.disableTool(t):"test"===e&&(this.dialogVisibletest=!0)},doTool:function(){this.contentScript=!0},enableTool:function(e){if(e&&0===e.length)o.a.notify("提示","没有选择任何数据!");else{var a=this,t=[];if(e instanceof Array)for(var r=0;r<e.length;r++)t.push(e[r].id);else t.push(e.id);o.a.confirm("提示","是否启用工具!",function(){monitorserverApi.toolEnable(t).then(function(e){a.$message.success("启用工具成功"),a.loadPage(a.pageIndex,a.pageSize)},function(e){o.a.error("启用失败",e)})})}},disableTool:function(e){if(e&&0===e.length)o.a.notify("提示","没有选择任何数据!");else{var a=this,t=[];if(e instanceof Array)for(var r=0;r<e.length;r++)t.push(e[r].id);else t.push(e.id);o.a.confirm("提示","是否停用工具!",function(){monitorserverApi.toolDisable(t).then(function(e){a.$message.success("停用工具成功"),a.loadPage(a.pageIndex,a.pageSize)},function(e){o.a.error("停用失败",e)})})}},removeTool:function(e){var a=this,t=[];if(e instanceof Array)for(var r=0;r<e.length;r++)t.push(e[r].id);else t.push(e.id);o.a.confirm("提示","是否删除该工具!",function(){monitorserverApi.removeTool(t.join(",")).then(function(e){a.$message.success("删除工具成功"),a.loadPage(a.pageIndex,a.pageSize)},function(e){o.a.error("删除失败",e)})})},hasToolSelected:function(e){this.selectedTool=e}}}),l=(t("J1W3"),t("KHd+")),n=Object(l.a)(i,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-row",{staticClass:"app-container ilayout-container"},[t("el-container",[t("el-col",{staticClass:"sub",attrs:{span:24}},[t("el-header",[t("el-row",[t("router-link",{attrs:{to:"/operation/operationSettings/toolSetting/add"}},[t("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("新增")])],1),e._v(" "),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.enableTool(e.selectedTool)}}},[e._v("启用")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.disableTool(e.selectedTool)}}},[e._v("停用")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.removeTool(e.selectedTool)}}},[e._v("删除")])],1)],1),e._v(" "),t("el-main",[t("itsnow-filter-page-list",{on:{rowAction:e.rowAction,loadPage:e.loadPage,selected:e.hasToolSelected},scopedSlots:e._u([{key:"row",fn:function(a){var o=a.row,r=a.column;return["common"===r.name?t("div",[1===o.common?t("span",[e._v("是")]):t("span",[e._v("否")])]):e._e(),e._v(" "),"manage"===r.name?t("div",["启用"==o.manage?t("span",{staticStyle:{color:"#00c100"}},[e._v(e._s(o.manage))]):e._e(),e._v(" "),"停用"==o.manage?t("span",{staticStyle:{color:"red"}},[e._v(e._s(o.manage))]):e._e()]):e._e()]}}]),model:{value:e.pageModel,callback:function(a){e.pageModel=a},expression:"pageModel"}})],1)],1),e._v(" "),t("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisibletest,title:"测试",width:"800px",top:"8vh"},on:{"update:visible":function(a){e.dialogVisibletest=a}}},[t("el-row",{staticClass:"its_dialogBody"},[t("el-collapse",{staticClass:"its_collapse",model:{value:e.activeNamesTest,callback:function(a){e.activeNamesTest=a},expression:"activeNamesTest"}},[t("el-form",{attrs:{"label-width":"80px",rules:e.rules}},[t("div",{staticClass:"its_det"},[t("el-row",{staticClass:"its_form_row"},[t("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[t("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[t("el-collapse-item",{attrs:{title:"参数",name:"1"}},[t("div",{staticClass:"clearfix its_card_header"}),e._v(" "),t("el-row",{staticClass:"its_card_body"},[t("el-col",{attrs:{span:10,offset:1}},[t("el-form-item",{attrs:{label:"资源",prop:"resource"}},[t("el-col",{staticStyle:{width:"calc(100% - 32px)"},attrs:{span:24}},[t("el-select",{attrs:{filterable:"","allow-create":"",remote:"",size:"mini","popper-class":"its_multipleSelect_dropDown",multiple:"",placeholder:"请选择"},model:{value:e.smartUserRule,callback:function(a){e.smartUserRule=a},expression:"smartUserRule"}})],1),e._v(" "),t("el-button",{staticClass:"inputBtn",attrs:{type:"primary",plain:"",size:"mini",icon:"iconfont icontable"},on:{click:function(a){e.resourceChoice=!0}}})],1)],1),e._v(" "),t("el-col",{attrs:{span:10,offset:1}},[t("el-form-item",{attrs:{label:"Ping",prop:"ping"}},[t("el-input",{attrs:{placeholder:"请输入"}})],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),e.contentScript?t("div",{staticClass:"its_det"},[t("el-row",{staticClass:"its_form_row"},[t("el-col",{staticClass:"its_card_form",attrs:{span:24,offset:0}},[t("el-card",{staticClass:"box-card",attrs:{shadow:"naver"}},[t("el-collapse-item",{attrs:{title:"结果",name:"2"}},[t("div",{staticClass:"clearfix its_card_header"}),e._v(" "),t("el-row",{staticClass:"its_card_body"},[t("el-col",{attrs:{span:21,offset:1}},[t("el-form-item",{attrs:{label:"回显"}},[t("editor",{attrs:{lang:"javascript",theme:"chrome",height:"300"},on:{init:e.editorInit}})],1)],1)],1)],1)],1)],1)],1)],1):e._e()])],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.doTool()}}},[e._v("执 行")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.dialogVisibletest=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.resourceChoice,title:"资源",width:"860px",top:"8vh"},on:{"update:visible":function(a){e.resourceChoice=a}}},[t("el-row",{staticClass:"its_det"},[t("itsnow-filter"),e._v(" "),t("div",{staticClass:"its_table"},[t("el-table",{ref:"resourceType",staticStyle:{width:"100%"},attrs:{data:e.resourceType,stripe:"",border:""}},[t("el-table-column",{attrs:{width:"45",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-radio",{model:{value:e.radio,callback:function(a){e.radio=a},expression:"radio"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"resourceName",label:"配置项名称","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a",{staticClass:"link-type"},[t("router-link",{attrs:{to:"/configuration/ciDB/view"}},[e._v(e._s(a.row.resourceName))])],1)]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"resourceType",label:"配置项类型",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"applicability",label:"监控状态",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return["true"==a.row.applicability?t("i",{staticClass:"el-icon-check",staticStyle:{height:"20px",width:"20px","border-radius":"20px","border-color":"rgb(88, 255, 19)",background:"radial-gradient(circle at 50% 30%,#98ffae,#00e014 56%,#ffffff 100%)",padding:"0",color:"#fff","line-height":"20px"}}):e._e(),e._v(" "),"false"==a.row.applicability?t("i",{staticClass:"el-icon-close",staticStyle:{height:"20px",width:"20px","border-radius":"20px","border-color":"rgba(255, 0, 0, 0.15)",background:"radial-gradient(circle at 50% 30%,#ff5d5d,#ea0000 56%,#ffffff 100%)",padding:"0",color:"#fff","line-height":"20px"}}):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"IP",label:"IP地址",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"description",label:"描述",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"date",label:"更新时间","min-width":"160"}})],1)],1),e._v(" "),t("div",{staticClass:"block its_pagination"},[t("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"page-sizes":[10,25,50,80,100],"page-size":25,total:4,background:"",layout:"total, sizes, prev, pager, next, jumper"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.resourceChoice=!1}}},[e._v("确 定")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.resourceChoice=!1}}},[e._v("取 消")])],1)],1)],1)],1)},[],!1,null,"48a5bf76",null);a.default=n.exports}}]);