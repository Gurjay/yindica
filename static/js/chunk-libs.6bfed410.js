(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-libs"],{"00b4":function(t,e,n){"use strict";n("ac1f");var r=n("23e7"),i=n("861d"),o=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),a=/./.test;r({target:"RegExp",proto:!0,forced:!o},{test:function(t){if("function"!==typeof this.exec)return a.call(this,t);var e=this.exec(t);if(null!==e&&!i(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},"00ee":function(t,e,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"03d6":function(t,e,n){var r=n("9c0e"),i=n("6ca1"),o=n("39ad")(!1),a=n("5a94")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},"044b":function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},"04f6":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=32,i=7;function o(t){var e=0;while(t>=r)e|=1&t,t>>=1;return t+e}function a(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){while(i<n&&r(t[i],t[i-1])<0)i++;s(t,e,i)}else while(i<n&&r(t[i],t[i-1])>=0)i++;return i-e}function s(t,e,n){n--;while(e<n){var r=t[e];t[e++]=t[n],t[n--]=r}}function u(t,e,n,r,i){for(r===e&&r++;r<n;r++){var o,a=t[r],s=e,u=r;while(s<u)o=s+u>>>1,i(a,t[o])<0?u=o:s=o+1;var c=r-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:while(c>0)t[s+c]=t[s+c-1],c--}t[s]=a}}function c(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])>0){s=r-i;while(u<s&&o(t,e[n+i+u])>0)a=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{s=i+1;while(u<s&&o(t,e[n+i-u])<=0)a=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s);var c=a;a=i-u,u=i-c}a++;while(a<u){var l=a+(u-a>>>1);o(t,e[n+l])>0?a=l+1:u=l}return u}function l(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])<0){s=i+1;while(u<s&&o(t,e[n+i-u])<0)a=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s);var c=a;a=i-u,u=i-c}else{s=r-i;while(u<s&&o(t,e[n+i+u])>=0)a=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}a++;while(a<u){var l=a+(u-a>>>1);o(t,e[n+l])<0?u=l:a=l+1}return u}function h(t,e){var n,r,o=i,a=0,s=0;a=t.length;var u=[];function h(t,e){n[s]=t,r[s]=e,s+=1}function f(){while(s>1){var t=s-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;p(t)}}function d(){while(s>1){var t=s-2;t>0&&r[t-1]<r[t+1]&&t--,p(t)}}function p(i){var o=n[i],a=r[i],u=n[i+1],h=r[i+1];r[i]=a+h,i===s-3&&(n[i+1]=n[i+2],r[i+1]=r[i+2]),s--;var f=l(t[u],t,o,a,0,e);o+=f,a-=f,0!==a&&(h=c(t[o+a-1],t,u,h,h-1,e),0!==h&&(a<=h?m(o,a,u,h):g(o,a,u,h)))}function m(n,r,a,s){var h=0;for(h=0;h<r;h++)u[h]=t[n+h];var f=0,d=a,p=n;if(t[p++]=t[d++],0!==--s)if(1!==r){var m,g,v,y=o;while(1){m=0,g=0,v=!1;do{if(e(t[d],u[f])<0){if(t[p++]=t[d++],g++,m=0,0===--s){v=!0;break}}else if(t[p++]=u[f++],m++,g=0,1===--r){v=!0;break}}while((m|g)<y);if(v)break;do{if(m=l(t[d],u,f,r,0,e),0!==m){for(h=0;h<m;h++)t[p+h]=u[f+h];if(p+=m,f+=m,r-=m,r<=1){v=!0;break}}if(t[p++]=t[d++],0===--s){v=!0;break}if(g=c(u[f],t,d,s,0,e),0!==g){for(h=0;h<g;h++)t[p+h]=t[d+h];if(p+=g,d+=g,s-=g,0===s){v=!0;break}}if(t[p++]=u[f++],1===--r){v=!0;break}y--}while(m>=i||g>=i);if(v)break;y<0&&(y=0),y+=2}if(o=y,o<1&&(o=1),1===r){for(h=0;h<s;h++)t[p+h]=t[d+h];t[p+s]=u[f]}else{if(0===r)throw new Error;for(h=0;h<r;h++)t[p+h]=u[f+h]}}else{for(h=0;h<s;h++)t[p+h]=t[d+h];t[p+s]=u[f]}else for(h=0;h<r;h++)t[p+h]=u[f+h]}function g(n,r,a,s){var h=0;for(h=0;h<s;h++)u[h]=t[a+h];var f=n+r-1,d=s-1,p=a+s-1,m=0,g=0;if(t[p--]=t[f--],0!==--r)if(1!==s){var v=o;while(1){var y=0,_=0,b=!1;do{if(e(u[d],t[f])<0){if(t[p--]=t[f--],y++,_=0,0===--r){b=!0;break}}else if(t[p--]=u[d--],_++,y=0,1===--s){b=!0;break}}while((y|_)<v);if(b)break;do{if(y=r-l(u[d],t,n,r,r-1,e),0!==y){for(p-=y,f-=y,r-=y,g=p+1,m=f+1,h=y-1;h>=0;h--)t[g+h]=t[m+h];if(0===r){b=!0;break}}if(t[p--]=u[d--],1===--s){b=!0;break}if(_=s-c(t[f],u,0,s,s-1,e),0!==_){for(p-=_,d-=_,s-=_,g=p+1,m=d+1,h=0;h<_;h++)t[g+h]=u[m+h];if(s<=1){b=!0;break}}if(t[p--]=t[f--],0===--r){b=!0;break}v--}while(y>=i||_>=i);if(b)break;v<0&&(v=0),v+=2}if(o=v,o<1&&(o=1),1===s){for(p-=r,f-=r,g=p+1,m=f+1,h=r-1;h>=0;h--)t[g+h]=t[m+h];t[p]=u[d]}else{if(0===s)throw new Error;for(m=p-(s-1),h=0;h<s;h++)t[m+h]=u[h]}}else{for(p-=r,f-=r,g=p+1,m=f+1,h=r-1;h>=0;h--)t[g+h]=t[m+h];t[p]=u[d]}else for(m=p-(s-1),h=0;h<s;h++)t[m+h]=u[h]}return a<120?5:a<1542?10:a<119151?19:40,n=[],r=[],{mergeRuns:f,forceMergeRuns:d,pushRun:h}}function f(t,e,n,i){n||(n=0),i||(i=t.length);var s=i-n;if(!(s<2)){var c=0;if(s<r)return c=a(t,n,i,e),void u(t,n,i,n+c,e);var l=h(t,e),f=o(s);do{if(c=a(t,n,i,e),c<f){var d=s;d>f&&(d=f),u(t,n,n+d,n+c,e),c=d}l.pushRun(n,c),l.mergeRuns(),s-=c,n+=c}while(0!==s);l.forceMergeRuns()}}},"04f7":function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return y}));var r=n("07fd"),i=n("e0d3"),o=n("6d8b"),a=n("2b17"),s=n("b7d9"),u=n("edae"),c=n("ec6f"),l=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return Object(s["d"])(t,e)},t}();function h(t,e){var n=new l,i=t.data,s=n.sourceFormat=t.sourceFormat,c=t.startIndex,h="";t.seriesLayoutBy!==r["a"]&&Object(u["c"])(h);var g=[],v={},y=t.dimensionsDefine;if(y)Object(o["k"])(y,(function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};if(g.push(r),null!=n){var i="";Object(o["q"])(v,n)&&Object(u["c"])(i),v[n]=r}}));else for(var _=0;_<t.dimensionsDetectedCount;_++)g.push({index:_});var b=Object(a["c"])(s,r["a"]);e.__isBuiltIn&&(n.getRawDataItem=function(t){return b(i,c,g,t)},n.getRawData=Object(o["c"])(f,null,t)),n.cloneRawData=Object(o["c"])(d,null,t);var x=Object(a["b"])(s,r["a"]);n.count=Object(o["c"])(x,null,i,c,g);var w=Object(a["d"])(s);n.retrieveValue=function(t,e){var n=b(i,c,g,t);return T(n,e)};var T=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=g[e];return n?w(t,e,n.name):void 0}};return n.getDimensionInfo=Object(o["c"])(p,null,g,v),n.cloneAllDimensionInfo=Object(o["c"])(m,null,g),n}function f(t){var e=t.sourceFormat;if(!b(e)){var n="";0,Object(u["c"])(n)}return t.data}function d(t){var e=t.sourceFormat,n=t.data;if(!b(e)){var i="";0,Object(u["c"])(i)}if(e===r["c"]){for(var a=[],s=0,c=n.length;s<c;s++)a.push(n[s].slice());return a}if(e===r["e"]){for(a=[],s=0,c=n.length;s<c;s++)a.push(Object(o["m"])({},n[s]));return a}}function p(t,e,n){if(null!=n)return"number"===typeof n||!isNaN(n)&&!Object(o["q"])(e,n)?t[n]:Object(o["q"])(e,n)?e[n]:void 0}function m(t){return Object(o["d"])(t)}var g=Object(o["g"])();function v(t){t=Object(o["d"])(t);var e=t.type,n="";e||Object(u["c"])(n);var r=e.split(":");2!==r.length&&Object(u["c"])(n);var i=!1;"echarts"===r[0]&&(e=r[1],i=!0),t.__isBuiltIn=i,g.set(e,t)}function y(t,e,n){var r=Object(i["r"])(t),o=r.length,a="";o||Object(u["c"])(a);for(var s=0,c=o;s<c;s++){var l=r[s];e=_(l,e,n,1===o?null:s),s!==c-1&&(e.length=Math.max(e.length,1))}return e}function _(t,e,n,a){var s="";e.length||Object(u["c"])(s),Object(o["A"])(t)||Object(u["c"])(s);var l=t.type,f=g.get(l);f||Object(u["c"])(s);var d=Object(o["H"])(e,(function(t){return h(t,f)})),p=Object(i["r"])(f.transform({upstream:d[0],upstreamList:d,config:Object(o["d"])(t.config)}));return Object(o["H"])(p,(function(t,n){var i="";Object(o["A"])(t)||Object(u["c"])(i),t.data||Object(u["c"])(i);var a,s=Object(c["d"])(t.data);b(s)||Object(u["c"])(i);var l=e[0];if(l&&0===n&&!t.dimensions){var h=l.startIndex;h&&(t.data=l.data.slice(0,h).concat(t.data)),a={seriesLayoutBy:r["a"],sourceHeader:h,dimensions:l.metaRawOption.dimensions}}else a={seriesLayoutBy:r["a"],sourceHeader:0,dimensions:t.dimensions};return Object(c["b"])(t.data,a,null)}))}function b(t){return t===r["c"]||t===r["e"]}},"051b":function(t,e,n){var r=n("1a14"),i=n("10db");t.exports=n("0bad")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},"05f5":function(t,e,n){var r=n("7a41"),i=n("ef08").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"0655":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("8728"),i=1e-8;function o(t,e){return Math.abs(t-e)<i}function a(t,e,n){var i=0,a=t[0];if(!a)return!1;for(var s=1;s<t.length;s++){var u=t[s];i+=Object(r["a"])(a[0],a[1],u[0],u[1],e,n),a=u}var c=t[0];return o(a[0],c[0])&&o(a[1],c[1])||(i+=Object(r["a"])(a[0],a[1],c[0],c[1],e,n)),0!==i}},"0676":function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"06ad":function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return x}));var r={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-r.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*r.bounceIn(2*t):.5*r.bounceOut(2*t-1)+.5}},i=r,o=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var n=(t-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var r=this.easing,o="string"===typeof r?i[r]:r,a="function"===typeof o?o(n):n;if(this.onframe&&this.onframe(a),1===n){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),a=o,s=n("41ef"),u=n("6d8b"),c=Array.prototype.slice;function l(t,e,n){return(e-t)*n+t}function h(t,e,n){return n>.5?e:t}function f(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=l(e[o],n[o],r)}function d(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=l(e[a][s],n[a][s],r)}}function p(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+n[o]*r;return t}function m(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*r}return t}function g(t,e,n){var r=t,i=e;if(r.push&&i.push){var o=r.length,a=i.length;if(o!==a){var s=o>a;if(s)r.length=a;else for(var u=o;u<a;u++)r.push(1===n?i[u]:c.call(i[u]))}var l=r[0]&&r[0].length;for(u=0;u<r.length;u++)if(1===n)isNaN(r[u])&&(r[u]=i[u]);else for(var h=0;h<l;h++)isNaN(r[u][h])&&(r[u][h]=i[u][h])}}function v(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function y(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function _(t,e,n,r,i,o,a,s){for(var u=e.length,c=0;c<u;c++)t[c]=y(e[c],n[c],r[c],i[c],o,a,s)}function b(t,e,n,r,i,o,a,s){for(var u=e.length,c=e[0].length,l=0;l<u;l++){t[l]||(t[1]=[]);for(var h=0;h<c;h++)t[l][h]=y(e[l][h],n[l][h],r[l][h],i[l][h],o,a,s)}}function x(t){if(Object(u["u"])(t)){var e=t.length;if(Object(u["u"])(t[0])){for(var n=[],r=0;r<e;r++)n.push(c.call(t[r]));return n}return c.call(t)}return t}function w(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function T(t){return Object(u["u"])(t&&t[0])?2:1}var S=[0,0,0,0],O=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var n=this.keyframes,r=n.length;if(this.interpolable)if(Object(u["u"])(e)){var i=T(e);if(r>0&&this.arrDim!==i)return void(this.interpolable=!1);if(1===i&&"number"!==typeof e[0]||2===i&&"number"!==typeof e[0][0])return void(this.interpolable=!1);if(r>0){var o=n[r-1];this._isAllValueEqual&&(1===i&&v(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=i}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"===typeof e){var a=s["parse"](e);a?(e=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!==typeof e||isNaN(e))return void(this.interpolable=!1);if(this._isAllValueEqual&&r>0){o=n[r-1];(this.isValueColor&&!v(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1)}}var c={time:t,value:e,percent:0};return this.keyframes.push(c),c},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var n=this.arrDim,r=e.length,i=e[r-1],o=0;o<r;o++)e[o].percent=e[o].time/this.maxTime,n>0&&o!==r-1&&g(e[o].value,i.value,n);if(t&&this.needsAnimate()&&t.needsAnimate()&&n===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var a=e[0].value;for(o=0;o<r;o++)0===n?this.isValueColor?e[o].additiveValue=p([],e[o].value,a,-1):e[o].additiveValue=e[o].value-a:1===n?e[o].additiveValue=p([],e[o].value,a,-1):2===n&&(e[o].additiveValue=m([],e[o].value,a,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r=null!=this._additiveTrack,i=r?"additiveValue":"value",o=this.keyframes,a=this.keyframes.length,s=this.propName,u=this.arrDim,c=this.isValueColor;if(e<0)n=0;else if(e<this._lastFramePercent){var p=Math.min(this._lastFrame+1,a-1);for(n=p;n>=0;n--)if(o[n].percent<=e)break;n=Math.min(n,a-2)}else{for(n=this._lastFrame;n<a;n++)if(o[n].percent>e)break;n=Math.min(n-1,a-2)}var m=o[n+1],g=o[n];if(g&&m){this._lastFrame=n,this._lastFramePercent=e;var v=m.percent-g.percent;if(0!==v){var x=(e-g.percent)/v,T=r?this._additiveValue:c?S:t[s];if((u>0||c)&&!T&&(T=this._additiveValue=[]),this.useSpline){var O=o[n][i],M=o[0===n?n:n-1][i],E=o[n>a-2?a-1:n+1][i],A=o[n>a-3?a-1:n+2][i];if(u>0)1===u?_(T,M,O,E,A,x,x*x,x*x*x):b(T,M,O,E,A,x,x*x,x*x*x);else if(c)_(T,M,O,E,A,x,x*x,x*x*x),r||(t[s]=w(T));else{var C=void 0;C=this.interpolable?y(M,O,E,A,x,x*x,x*x*x):E,r?this._additiveValue=C:t[s]=C}}else if(u>0)1===u?f(T,g[i],m[i],x):d(T,g[i],m[i],x);else if(c)f(T,g[i],m[i],x),r||(t[s]=w(T));else{C=void 0;C=this.interpolable?l(g[i],m[i],x):h(g[i],m[i],x),r?this._additiveValue=C:t[s]=C}r&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,n=this.propName,r=this._additiveValue;0===e?this.isValueColor?(s["parse"](t[n],S),p(S,S,r,1),t[n]=w(S)):t[n]=t[n]+r:1===e?p(t[n],t[n],r,1):2===e&&m(t[n],t[n],r,1)},t}(),M=function(){function t(t,e,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&n?Object(u["G"])("Can' use additive animation on looped animation."):this._additiveAnimators=n}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,Object(u["F"])(e))},t.prototype.whenWithKeys=function(t,e,n){for(var r=this._tracks,i=0;i<n.length;i++){var o=n[i],a=r[o];if(!a){a=r[o]=new O(o);var s=void 0,u=this._getAdditiveTrack(o);if(u){var c=u.keyframes[u.keyframes.length-1];s=c&&c.value,u.isValueColor&&s&&(s=w(s))}else s=this._target[o];if(null==s)continue;0!==t&&a.addKeyframe(0,x(s)),this._trackKeys.push(o)}a.addKeyframe(t,x(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(t);i&&(e=i)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],u=this._getAdditiveTrack(o),c=s.keyframes;if(s.prepare(u),s.needsAnimate())r.push(s);else if(!s.interpolable){var l=c[c.length-1];l&&(n._target[s.propName]=l.value)}}if(r.length||e){var h=new a({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){n._started=2;var e=n._additiveAnimators;if(e){for(var i=!1,o=0;o<e.length;o++)if(e[o]._clip){i=!0;break}i||(n._additiveAnimators=null)}for(o=0;o<r.length;o++)r[o].step(n._target,t);var a=n._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](n._target,t)},ondestroy:function(){n._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&"spline"!==t&&(h.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<t.length;i++){var o=n[t[i]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var n=0;n<e.length;n++){var r=e[n],i=this._tracks[r];if(i&&!i.isFinished()){var o=i.keyframes,a=o[o.length-1];if(a){var s=x(a.value);i.isValueColor&&(s=w(s)),t[r]=s}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||Object(u["F"])(t);for(var n=0;n<e.length;n++){var r=e[n],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var a=o.pop();i.addKeyframe(a.time,t[r]),i.prepare(i.getAdditiveTrack())}}}},t}();e["b"]=M},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var r=n("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"06cf":function(t,e,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),a=n("fc6a"),s=n("c04e"),u=n("5135"),c=n("0cfb"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},"072d":function(t,e,n){"use strict";var r=n("0bad"),i=n("9876"),o=n("fed5"),a=n("1917"),s=n("0983"),u=n("9fbb"),c=Object.assign;t.exports=!c||n("4b8b")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){var n=s(t),c=arguments.length,l=1,h=o.f,f=a.f;while(c>l){var d,p=u(arguments[l++]),m=h?i(p).concat(h(p)):i(p),g=m.length,v=0;while(g>v)d=m[v++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:c},"07fd":function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f}));var r=n("6d8b"),i=Object(r["g"])(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),o="original",a="arrayRows",s="objectRows",u="keyedColumns",c="typedArray",l="unknown",h="column",f="row"},"0924":function(t,e,n){"use strict";function r(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}function i(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function o(t,e,n,r){switch(n){case"color":var i=t.ensureUniqueItemVisual(e,"style");i[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r);break;default:0}}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}))},"0983":function(t,e,n){var r=n("c901");t.exports=function(t){return Object(r(t))}},"0a06":function(t,e,n){"use strict";var r=n("2444"),i=n("c532"),o=n("f6b4"),a=n("5270");function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"===typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(r,{method:"get"},this.defaults,t),t.method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],(function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=s},"0ae2":function(t,e,n){var r=n("9876"),i=n("fed5"),o=n("1917");t.exports=function(t){var e=r(t),n=i.f;if(n){var a,s=n(t),u=o.f,c=0;while(s.length>c)u.call(t,a=s[c++])&&e.push(a)}return e}},"0b99":function(t,e,n){"use strict";var r=n("19fa")(!0);n("393a")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},"0bad":function(t,e,n){t.exports=!n("4b8b")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"0c47":function(t,e,n){var r=n("da84"),i=n("d44e");i(r.JSON,"JSON",!0)},"0ccb":function(t,e,n){var r=n("50c4"),i=n("1148"),o=n("1d80"),a=Math.ceil,s=function(t){return function(e,n,s){var u,c,l=String(o(e)),h=l.length,f=void 0===s?" ":String(s),d=r(n);return d<=h||""==f?l:(u=d-h,c=i.call(f,a(u/f.length)),c.length>u&&(c=c.slice(0,u)),t?l+c:c+l)}};t.exports={start:s(!1),end:s(!0)}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0da8":function(t,e,n){"use strict";var r=n("21a10"),i=n("19eb"),o=n("9850"),a=n("6d8b"),s=Object(a["j"])({x:0,y:0},i["b"]),u={style:Object(a["j"])({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},i["a"].style)};function c(t){return!!(t&&"string"!==typeof t&&t.width&&t.height)}var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.createStyle=function(t){return Object(a["h"])(s,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var r=c(e.image)?e.image:this.__image;if(!r)return 0;var i="width"===t?"height":"width",o=e[i];return null==o?r[t]:r[t]/r[i]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return u},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new o["a"](t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(i["c"]);l.prototype.type="image",e["a"]=l},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0e15":function(t,e,n){var r=n("597f");t.exports=function(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}},"0f99":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return d}));var r=n("e0d3"),i=n("6d8b"),o=n("07fd"),a={Must:1,Might:2,Not:3},s=Object(r["o"])();function u(t){s(t).datasetMap=Object(i["g"])()}function c(t,e,n){var r={},o=h(e);if(!o||!t)return r;var a,u,c=[],l=[],f=e.ecModel,d=s(f).datasetMap,p=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),Object(i["k"])(t,(function(e,n){var o=Object(i["A"])(e)?e:t[n]={name:e};"ordinal"===o.type&&null==a&&(a=n,u=v(o)),r[o.name]=[]}));var m=d.get(p)||d.set(p,{categoryWayDim:u,valueWayDim:0});function g(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function v(t){var e=t.dimsDef;return e?e.length:1}return Object(i["k"])(t,(function(t,e){var n=t.name,i=v(t);if(null==a){var o=m.valueWayDim;g(r[n],o,i),g(l,o,i),m.valueWayDim+=i}else if(a===e)g(r[n],0,i),g(c,0,i);else{o=m.categoryWayDim;g(r[n],o,i),g(l,o,i),m.categoryWayDim+=i}})),c.length&&(r.itemName=c),l.length&&(r.seriesName=l),r}function l(t,e,n){var r={},s=h(t);if(!s)return r;var u,c=e.sourceFormat,l=e.dimensionsDefine;c!==o["e"]&&c!==o["d"]||Object(i["k"])(l,(function(t,e){"name"===(Object(i["A"])(t)?t.name:t)&&(u=e)}));var f=function(){for(var t={},r={},i=[],o=0,s=Math.min(5,n);o<s;o++){var h=p(e.data,c,e.seriesLayoutBy,l,e.startIndex,o);i.push(h);var f=h===a.Not;if(f&&null==t.v&&o!==u&&(t.v=o),(null==t.n||t.n===t.v||!f&&i[t.n]===a.Not)&&(t.n=o),d(t)&&i[t.n]!==a.Not)return t;f||(h===a.Might&&null==r.v&&o!==u&&(r.v=o),null!=r.n&&r.n!==r.v||(r.n=o))}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(r)?r:null}();if(f){r.value=[f.v];var d=null!=u?u:f.n;r.itemName=[d],r.seriesName=[d]}return r}function h(t){var e=t.get("data",!0);if(!e)return Object(r["v"])(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},r["b"]).models[0]}function f(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Object(r["v"])(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},r["b"]).models:[]}function d(t,e){return p(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function p(t,e,n,s,u,c){var l,h,f,d=5;if(Object(i["E"])(t))return a.Not;if(s){var p=s[c];Object(i["A"])(p)?(h=p.name,f=p.type):Object(i["C"])(p)&&(h=p)}if(null!=f)return"ordinal"===f?a.Must:a.Not;if(e===o["c"]){var m=t;if(n===o["b"]){for(var g=m[c],v=0;v<(g||[]).length&&v<d;v++)if(null!=(l=S(g[u+v])))return l}else for(v=0;v<m.length&&v<d;v++){var y=m[u+v];if(y&&null!=(l=S(y[c])))return l}}else if(e===o["e"]){var _=t;if(!h)return a.Not;for(v=0;v<_.length&&v<d;v++){var b=_[v];if(b&&null!=(l=S(b[h])))return l}}else if(e===o["d"]){var x=t;if(!h)return a.Not;g=x[h];if(!g||Object(i["E"])(g))return a.Not;for(v=0;v<g.length&&v<d;v++)if(null!=(l=S(g[v])))return l}else if(e===o["f"]){var w=t;for(v=0;v<w.length&&v<d;v++){b=w[v];var T=Object(r["h"])(b);if(!Object(i["t"])(T))return a.Not;if(null!=(l=S(T[c])))return l}}function S(t){var e=Object(i["C"])(t);return null!=t&&isFinite(t)&&""!==t?e?a.Might:a.Not:e&&"-"!==t?a.Must:void 0}return a.Not}},1098:function(t,e,n){"use strict";e.__esModule=!0;var r=n("17ed"),i=u(r),o=n("f893"),a=u(o),s="function"===typeof a.default&&"symbol"===typeof i.default?function(t){return typeof t}:function(t){return t&&"function"===typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}e.default="function"===typeof a.default&&"symbol"===s(i.default)?function(t){return"undefined"===typeof t?"undefined":s(t)}:function(t){return t&&"function"===typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":"undefined"===typeof t?"undefined":s(t)}},"10db":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1148:function(t,e,n){"use strict";var r=n("a691"),i=n("1d80");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"11b0":function(t,e,n){function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630"),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),a=n("1d80"),s=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),h=n("9263"),f=n("d039"),d=[].push,p=Math.min,m=4294967295,g=!f((function(){return!RegExp(m,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);var s,u,c,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(s=h.call(g,r)){if(u=g.lastIndex,u>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&d.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=o))break;g.lastIndex===s.index&&g.lastIndex++}return p===r.length?!c&&g.test("")||l.push(""):l.push(r.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var h=o(t),f=String(this),d=s(h,RegExp),v=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),_=new d(g?h:"^(?:"+h.source+")",y),b=void 0===i?m:i>>>0;if(0===b)return[];if(0===f.length)return null===l(_,f)?[f]:[];var x=0,w=0,T=[];while(w<f.length){_.lastIndex=g?w:0;var S,O=l(_,g?f:f.slice(w));if(null===O||(S=p(c(_.lastIndex+(g?0:w)),f.length))===x)w=u(f,w,v);else{if(T.push(f.slice(x,w)),T.length===b)return T;for(var M=1;M<=O.length-1;M++)if(T.push(O[M]),T.length===b)return T;w=x=S}}return T.push(f.slice(x)),T}]}),!g)},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"131a":function(t,e,n){var r=n("23e7"),i=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:i})},"13d5":function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),a=n("ae40"),s=o("reduce"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(l){c.forEach=o}}},1609:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},1687:function(t,e,n){"use strict";function r(){return[1,0,0,1,0,0]}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function u(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*c,t[1]=-r*c+a*l,t[2]=i*l+s*c,t[3]=-i*c+l*s,t[4]=l*o+c*u,t[5]=l*u-c*o,t}function c(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function l(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*r;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-a*i)*u,t[5]=(o*i-n*s)*u,t):null}function h(t){var e=r();return o(e,t),e}n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return h}))},1792:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function i(t,e){if("china"===t){var n=r[e.name];if(n){var i=e.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,e.setCenter(i)}}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"17ed":function(t,e,n){t.exports={default:n("511f"),__esModule:!0}},1830:function(t,e,n){"use strict";var r=n("6d8b"),i=n("b682"),o=n("b1d4"),a=n("2f45"),s=n("e0d3"),u=n("1f39"),c=function(){function t(t){this.coordSysDims=[],this.axisMap=Object(r["g"])(),this.categoryAxisMap=Object(r["g"])(),this.coordSysName=t}return t}();function l(t){var e=t.get("coordinateSystem"),n=new c(e),r=h[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var h={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",s["b"]).models[0],o=t.getReferringComponents("yAxis",s["b"]).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),f(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),f(o)&&(r.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",s["b"]).models[0];e.coordSysDims=["single"],n.set("single",i),f(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",s["b"]).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),f(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),f(a)&&(r.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();Object(r["k"])(a.parallelAxisIndex,(function(t,r){var a=o.getComponent("parallelAxis",t),u=s[r];n.set(u,a),f(a)&&(i.set(u,a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))}))}};function f(t){return"category"===t.get("type")}var d=n("ec6f"),p=n("ee1a"),m=n("0f99"),g=n("07fd");function v(t,e){var n,i=t.get("coordinateSystem"),o=u["a"].get(i);return e&&e.coordSysDims&&(n=r["H"](e.coordSysDims,(function(t){var n={name:t},r=e.axisMap.get(t);if(r){var i=r.get("type");n.type=Object(a["a"])(i)}return n}))),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),n}function y(t,e,n){var i,o;return n&&r["k"](t,(function(t,r){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==i&&(i=r),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(o=!0)})),o||null==i||(t[i].otherDims.itemName=0),i}function _(t,e,n){n=n||{};var a,s=e.getSourceManager(),u=!1;t?(u=!0,a=Object(d["c"])(t)):(a=s.getSource(),u=a.sourceFormat===g["f"]);var c=l(e),h=v(e,c),f=n.useEncodeDefaulter,_=r["w"](f)?f:f?r["i"](m["c"],h,e):null,x={coordDimensions:h,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:_,canOmitUnusedDimensions:!u},w=Object(o["b"])(a,x),T=y(w.dimensions,n.createInvertedIndices,c),S=u?null:s.getSharedDataStore(w),O=Object(p["a"])(e,{schema:w,store:S}),M=new i["a"](w,e);M.setCalculationInfo(O);var E=null!=T&&b(a)?function(t,e,n,r){return r===T?n:this.defaultDimValueGetter(t,e,n,r)}:null;return M.hasItemOption=!1,M.initData(u?a:S,null,E),M}function b(t){if(t.sourceFormat===g["f"]){var e=x(t.data||[]);return null!=e&&!r["t"](Object(s["h"])(e))}}function x(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}e["a"]=_},1836:function(t,e,n){var r=n("6ca1"),i=n("6438").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},"18c0":function(t,e,n){"use strict";var r=n("7fae"),i=n("e0d8"),o=n("8e43"),a=n("944e"),s=n("6d8b"),u=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new o["a"]({})),Object(s["t"])(r)&&(r=new o["a"]({categories:Object(s["H"])(r,(function(t){return Object(s["A"])(t)?t.value:t}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return Object(r["b"])(e,t),e.prototype.parse=function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),a["a"](t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),a["d"](t,this._extent)},e.prototype.scale=function(t){return t=Math.round(a["e"](t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,n=e[0];while(n<=e[1])t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);i<a;++i){var s=e[i];n[i]=s,r[s]=i}for(var u=0;i<o;++i){while(null!=r[u])u++;n.push(u),r[u]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(i["a"]);i["a"].registerClass(u),e["a"]=u},1917:function(t,e){e.f={}.propertyIsEnumerable},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"19eb":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("21a10"),i=n("d5b7"),o=n("9850"),a=n("6d8b"),s=n("4bc4"),u="__zr_style_"+Math.round(10*Math.random()),c={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},l={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};c[u]=!0;var h=["z","z2","invisible"],f=["invisible"],d=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype._init=function(e){for(var n=Object(a["F"])(e),r=0;r<n.length;r++){var i=n[r];"style"===i?this.useStyle(e[i]):t.prototype.attrKV.call(this,i,e[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&g(this,t,e)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(r&&this.parent){var a=this.parent;while(a){if(a.ignore)return!1;a=a.parent}}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return r.contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,a=r.shadowOffsetX||0,s=r.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new o["a"](0,0,0,0)),e?o["a"].applyTransform(t,n,e):t.copy(n),(i||a||s)&&(t.width+=2*i+Math.abs(a),t.height+=2*i+Math.abs(s),t.x=Math.min(t.x,t.x+a-i),t.y=Math.min(t.y,t.y+s-i));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+2*u),t.height=Math.ceil(t.height+1+2*u))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new o["a"](0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"===typeof t?this.style[t]=e:Object(a["m"])(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=s["c"],this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&s["c"])},e.prototype.styleUpdated=function(){this.__dirty&=~s["c"]},e.prototype.createStyle=function(t){return Object(a["h"])(c,t)},e.prototype.useStyle=function(t){t[u]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[u]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,h)},e.prototype._applyStateObj=function(e,n,r,i,o,s){t.prototype._applyStateObj.call(this,e,n,r,i,o,s);var u,c=!(n&&i);if(n&&n.style?o?i?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(u,n.style)):c&&(u=r.style),u)if(o){var l=this.style;if(this.style=this.createStyle(c?{}:l),c)for(var d=Object(a["F"])(l),p=0;p<d.length;p++){var m=d[p];m in u&&(u[m]=u[m],this.style[m]=l[m])}var g=Object(a["F"])(u);for(p=0;p<g.length;p++){m=g[p];this.style[m]=this.style[m]}this._transitionState(e,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);var v=this.__inHover?f:h;for(p=0;p<v.length;p++){m=v[p];n&&null!=n[m]?this[m]=n[m]:c&&null!=r[m]&&(this[m]=r[m])}},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(r.style=n),r},e.prototype._mergeStyle=function(t,e){return Object(a["m"])(t,e),t},e.prototype.getAnimationStyleProps=function(){return l},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=s["a"]|s["c"]}(),e}(i["a"]),p=new o["a"](0,0,0,0),m=new o["a"](0,0,0,0);function g(t,e,n){return p.copy(t.getBoundingRect()),t.transform&&p.applyTransform(t.transform),m.width=e,m.height=n,!p.intersect(m)}e["c"]=d},"19fa":function(t,e,n){var r=n("fc5e"),i=n("c901");t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},"1a14":function(t,e,n){var r=n("77e9"),i=n("faf5"),o=n("3397"),a=Object.defineProperty;e.f=n("0bad")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1be7":function(t,e,n){"use strict";n.d(e,"a",(function(){return qe})),n.d(e,"d",(function(){return Un})),n.d(e,"l",(function(){return Vn})),n.d(e,"m",(function(){return Wn})),n.d(e,"j",(function(){return qn})),n.d(e,"k",(function(){return Xn})),n.d(e,"o",(function(){return Yn})),n.d(e,"e",(function(){return $n})),n.d(e,"f",(function(){return Zn})),n.d(e,"b",(function(){return Kn})),n.d(e,"g",(function(){return Jn})),n.d(e,"p",(function(){return Qn})),n.d(e,"h",(function(){return nr})),n.d(e,"i",(function(){return rr})),n.d(e,"c",(function(){return ir})),n.d(e,"n",(function(){return or}));var r=n("7fae"),i=n("697e7"),o=n("6d8b"),a=n("41ef"),s=n("22d1"),u=n("04f6"),c=n("6fd3"),l=n("e0d3"),h=n("4319"),f=n("6cb7"),d="";"undefined"!==typeof navigator&&(d=navigator.platform||"");var p,m,g,v="rgba(0, 0, 0, 0.2)",y={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:v,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:v,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:v,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:v,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:v,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:v,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:d.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},_=n("0f99"),b=n("2f1f"),x=n("4041"),w=n("edae"),T="\0_ec_inner",S=1;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype.init=function(t,e,n,r,i,o){r=r||{},this.option=null,this._theme=new h["a"](r),this._locale=new h["a"](i),this._optionManager=o},e.prototype.setOption=function(t,e,n){var r=D(e);this._optionManager.setOption(t,n,r),this._resetOption(null,r)},e.prototype.resetOption=function(t,e){return this._resetOption(t,D(e))},e.prototype._resetOption=function(t,e){var n=!1,r=this._optionManager;if(!t||"recreate"===t){var i=r.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(i,e)):g(this,i),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=r.getTimelineOption(this);a&&(n=!0,this._mergeOption(a,e))}if(!t||"recreate"===t||"media"===t){var s=r.getMediaOption(this);s.length&&Object(o["k"])(s,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,r=this._componentsMap,i=this._componentsCount,a=[],s=Object(o["g"])(),u=e&&e.replaceMergeMainTypeMap;function c(e){var a=Object(b["a"])(this,e,l["r"](t[e])),s=r.get(e),c=s?u&&u.get(e)?"replaceMerge":"normalMerge":"replaceAll",h=l["q"](s,a,c);l["x"](h,e,f["a"]),n[e]=null,r.set(e,null),i.set(e,0);var d=[],m=[],g=0;Object(o["k"])(h,(function(t,n){var r=t.existing,i=t.newOption;if(i){var a="series"===e,s=f["a"].getClass(e,t.keyInfo.subType,!a);if(!s)return;if(r&&r.constructor===s)r.name=t.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var u=Object(o["m"])({componentIndex:n},t.keyInfo);r=new s(i,this,this,u),Object(o["m"])(r,u),t.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(d.push(r.option),m.push(r),g++):(d.push(void 0),m.push(void 0))}),this),n[e]=d,r.set(e,m),i.set(e,g),"series"===e&&p(this)}Object(_["g"])(this),Object(o["k"])(t,(function(t,e){null!=t&&(f["a"].hasClass(e)?e&&(a.push(e),s.set(e,!0)):n[e]=null==n[e]?Object(o["d"])(t):Object(o["I"])(n[e],t,!0))})),u&&u.each((function(t,e){f["a"].hasClass(e)&&!s.get(e)&&(a.push(e),s.set(e,!0))})),f["a"].topologicalTravel(a,f["a"].getAllClassMainTypes(),c,this),this._seriesIndices||p(this)},e.prototype.getOption=function(){var t=Object(o["d"])(this.option);return Object(o["k"])(t,(function(e,n){if(f["a"].hasClass(n)){for(var r=l["r"](e),i=r.length,o=!1,a=i-1;a>=0;a--)r[a]&&!l["l"](r[a])?o=!0:(r[a]=null,!o&&i--);r.length=i,t[n]=r}})),delete t[T],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var r=n[e||0];if(r)return r;if(null==e)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,a=t.name,s=this._componentsMap.get(e);return s&&s.length?(null!=r?(n=[],Object(o["k"])(l["r"](r),(function(t){s[t]&&n.push(s[t])}))):n=null!=i?A("id",i,s):null!=a?A("name",a,s):Object(o["n"])(s,(function(t){return!!t})),C(n,t)):[]},e.prototype.findComponents=function(t){var e=t.query,n=t.mainType,r=a(e),i=r?this.queryComponents(r):Object(o["n"])(this._componentsMap.get(n),(function(t){return!!t}));return s(C(i,t));function a(t){var e=n+"Index",r=n+"Id",i=n+"Name";return!t||null==t[e]&&null==t[r]&&null==t[i]?null:{mainType:n,index:t[e],id:t[r],name:t[i]}}function s(e){return t.filter?Object(o["n"])(e,t.filter):e}},e.prototype.eachComponent=function(t,e,n){var r=this._componentsMap;if(Object(o["w"])(t)){var i=e,a=t;r.each((function(t,e){for(var n=0;t&&n<t.length;n++){var r=t[n];r&&a.call(i,e,r,r.componentIndex)}}))}else for(var s=Object(o["C"])(t)?r.get(t):Object(o["A"])(t)?this.findComponents(t):null,u=0;s&&u<s.length;u++){var c=s[u];c&&e.call(n,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=l["e"](t,null);return Object(o["n"])(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Object(o["n"])(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return Object(o["n"])(this._componentsMap.get("series"),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){m(this),Object(o["k"])(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)}),this)},e.prototype.eachRawSeries=function(t,e){Object(o["k"])(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){m(this),Object(o["k"])(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return Object(o["k"])(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return m(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){m(this);var n=[];Object(o["k"])(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=Object(o["g"])(n)},e.prototype.restoreData=function(t){p(this);var e=this._componentsMap,n=[];e.each((function(t,e){f["a"].hasClass(e)&&n.push(e)})),f["a"].topologicalTravel(n,f["a"].getAllClassMainTypes(),(function(n){Object(o["k"])(e.get(n),(function(e){!e||"series"===n&&M(e,t)||e.restoreData()}))}))},e.internalField=function(){p=function(t){var e=t._seriesIndices=[];Object(o["k"])(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=Object(o["g"])(e)},m=function(t){0},g=function(t,e){t.option={},t.option[T]=S,t._componentsMap=Object(o["g"])({series:[]}),t._componentsCount=Object(o["g"])();var n=e.aria;Object(o["A"])(n)&&null==n.enabled&&(n.enabled=!0),E(e,t._theme.option),Object(o["I"])(e,y,!1),t._mergeOption(e,null)}}(),e}(h["a"]);function M(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}function E(t,e){var n=t.color&&!t.colorLayer;Object(o["k"])(e,(function(e,r){"colorLayer"===r&&n||f["a"].hasClass(r)||("object"===typeof e?t[r]=t[r]?Object(o["I"])(t[r],e,!1):Object(o["d"])(e):null==t[r]&&(t[r]=e))}))}function A(t,e,n){if(Object(o["t"])(e)){var r=Object(o["g"])();return Object(o["k"])(e,(function(t){if(null!=t){var e=l["e"](t,null);null!=e&&r.set(t,!0)}})),Object(o["n"])(n,(function(e){return e&&r.get(e[t])}))}var i=l["e"](e,null);return Object(o["n"])(n,(function(e){return e&&null!=i&&e[t]===i}))}function C(t,e){return e.hasOwnProperty("subType")?Object(o["n"])(t,(function(t){return t&&t.subType===e.subType})):t}function D(t){var e=Object(o["g"])();return t&&Object(o["k"])(l["r"](t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}Object(o["K"])(O,x["a"]);var L=O,I=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],P=function(){function t(t){o["k"](I,(function(e){this[e]=o["c"](t[e],t)}),this)}return t}(),R=P,N=n("1f39"),k=/^(min|max)?(.+)$/,j=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(Object(o["k"])(Object(l["r"])(t.series),(function(t){t&&t.data&&Object(o["E"])(t.data)&&Object(o["R"])(t.data)})),Object(o["k"])(Object(l["r"])(t.dataset),(function(t){t&&t.source&&Object(o["E"])(t.source)&&Object(o["R"])(t.source)}))),t=Object(o["d"])(t);var r=this._optionBackup,i=F(t,e,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Object(o["d"])(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=Object(o["d"])(n[r.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,a=[],s=[];if(!r.length&&!i)return s;for(var u=0,c=r.length;u<c;u++)B(r[u].query,e,n)&&a.push(u);return!a.length&&i&&(a=[-1]),a.length&&!U(a,this._currentMediaIndices)&&(s=Object(o["H"])(a,(function(t){return Object(o["d"])(-1===t?i.option:r[t].option)}))),this._currentMediaIndices=a,s},t}();function F(t,e,n){var r,i,a=[],s=t.baseOption,u=t.timeline,c=t.options,l=t.media,h=!!t.media,f=!!(c||u||s&&s.timeline);function d(t){Object(o["k"])(e,(function(e){e(t,n)}))}return s?(i=s,i.timeline||(i.timeline=u)):((f||h)&&(t.options=t.media=null),i=t),h&&Object(o["t"])(l)&&Object(o["k"])(l,(function(t){t&&t.option&&(t.query?a.push(t):r||(r=t))})),d(i),Object(o["k"])(c,(function(t){return d(t)})),Object(o["k"])(a,(function(t){return d(t.option)})),{baseOption:i,timelineOptions:c||[],mediaDefault:r,mediaList:a}}function B(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return Object(o["k"])(t,(function(t,e){var n=e.match(k);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();z(r[a],t,o)||(i=!1)}})),i}function z(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function U(t,e){return t.join(",")===e.join(",")}var H=j,G=o["k"],V=o["A"],W=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function q(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=W.length;n<r;n++){var i=W[n],a=e.normal,s=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?o["I"](t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),s&&s[i]&&(t[i]=t[i]||{},t[i].emphasis?o["I"](t[i].emphasis,s[i]):t[i].emphasis=s[i],s[i]=null)}}function X(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,o["j"](t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function Y(t){X(t,"itemStyle"),X(t,"lineStyle"),X(t,"areaStyle"),X(t,"label"),X(t,"labelLine"),X(t,"upperLabel"),X(t,"edgeLabel")}function $(t,e){var n=V(t)&&t[e],r=V(n)&&n.textStyle;if(r){0;for(var i=0,o=l["c"].length;i<o;i++){var a=l["c"][i];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function Z(t){t&&(Y(t),$(t,"label"),t.emphasis&&$(t.emphasis,"label"))}function K(t){if(V(t)){q(t),Y(t),$(t,"label"),$(t,"upperLabel"),$(t,"edgeLabel"),t.emphasis&&($(t.emphasis,"label"),$(t.emphasis,"upperLabel"),$(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(q(e),Z(e));var n=t.markLine;n&&(q(n),Z(n));var r=t.markArea;r&&Z(r);var i=t.data;if("graph"===t.type){i=i||t.nodes;var a=t.links||t.edges;if(a&&!o["E"](a))for(var s=0;s<a.length;s++)Z(a[s]);o["k"](t.categories,(function(t){Y(t)}))}if(i&&!o["E"](i))for(s=0;s<i.length;s++)Z(i[s]);if(e=t.markPoint,e&&e.data){var u=e.data;for(s=0;s<u.length;s++)Z(u[s])}if(n=t.markLine,n&&n.data){var c=n.data;for(s=0;s<c.length;s++)o["t"](c[s])?(Z(c[s][0]),Z(c[s][1])):Z(c[s])}"gauge"===t.type?($(t,"axisLabel"),$(t,"title"),$(t,"detail")):"treemap"===t.type?(X(t.breadcrumb,"itemStyle"),o["k"](t.levels,(function(t){Y(t)}))):"tree"===t.type&&Y(t.leaves)}}function J(t){return o["t"](t)?t:t?[t]:[]}function Q(t){return(o["t"](t)?t[0]:t)||{}}function tt(t,e){G(J(t.series),(function(t){V(t)&&K(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),G(n,(function(e){G(J(t[e]),(function(t){t&&($(t,"axisLabel"),$(t.axisPointer,"label"))}))})),G(J(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;$(e,"axisLabel"),$(e&&e.axisPointer,"label")})),G(J(t.calendar),(function(t){X(t,"itemStyle"),$(t,"dayLabel"),$(t,"monthLabel"),$(t,"yearLabel")})),G(J(t.radar),(function(t){$(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),G(J(t.geo),(function(t){V(t)&&(Z(t),G(J(t.regions),(function(t){Z(t)})))})),G(J(t.timeline),(function(t){Z(t),X(t,"label"),X(t,"itemStyle"),X(t,"controlStyle",!0);var e=t.data;o["t"](e)&&o["k"](e,(function(t){o["A"](t)&&(X(t,"label"),X(t,"itemStyle"))}))})),G(J(t.toolbox),(function(t){X(t,"iconStyle"),G(t.feature,(function(t){X(t,"iconStyle")}))})),$(Q(t.axisPointer),"label"),$(Q(t.tooltip).axisPointer,"label")}function et(t,e){for(var n=e.split(","),r=t,i=0;i<n.length;i++)if(r=r&&r[n[i]],null==r)break;return r}function nt(t,e,n,r){for(var i,o=e.split(","),a=t,s=0;s<o.length-1;s++)i=o[s],null==a[i]&&(a[i]={}),a=a[i];(r||null==a[o[s]])&&(a[o[s]]=n)}function rt(t){t&&Object(o["k"])(it,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var it=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],ot=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],at=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function st(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<at.length;n++){var r=at[n][1],i=at[n][0];null!=e[r]&&(e[i]=e[r])}}function ut(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function ct(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function lt(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}function ht(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&ht(t[n].children,e)}function ft(t,e){tt(t,e),t.series=Object(l["r"])(t.series),Object(o["k"])(t.series,(function(t){if(Object(o["A"])(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){null!=t.clockWise&&(t.clockwise=t.clockWise),ut(t.label);var n=t.data;if(n&&!Object(o["E"])(n))for(var r=0;r<n.length;r++)ut(n[r]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var i=et(t,"pointer.color");null!=i&&nt(t,"itemStyle.color",i)}else if("bar"===e){st(t),st(t.backgroundStyle),st(t.emphasis);n=t.data;if(n&&!Object(o["E"])(n))for(r=0;r<n.length;r++)"object"===typeof n[r]&&(st(n[r]),st(n[r]&&n[r].emphasis))}else if("sunburst"===e){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),ct(t),ht(t.data,ct)}else"graph"===e||"sankey"===e?lt(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Object(o["j"])(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),rt(t)}})),t.dataRange&&(t.visualMap=t.dataRange),Object(o["k"])(ot,(function(e){var n=t[e];n&&(Object(o["t"])(n)||(n=[n]),Object(o["k"])(n,(function(t){rt(t)})))}))}var dt=n("3842");function pt(t){var e=Object(o["g"])();t.eachSeries((function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}})),e.each(mt)}function mt(t){Object(o["k"])(t,(function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex;a.modify(o,(function(o,u,c){var l,h,f=a.get(e.stackedDimension,c);if(isNaN(f))return i;s?h=a.getRawIndex(c):l=a.get(e.stackedByDimension,c);for(var d=NaN,p=n-1;p>=0;p--){var m=t[p];if(s||(h=m.data.rawIndexOf(m.stackedByDimension,l)),h>=0){var g=m.data.getByRawIndex(m.stackResultDimension,h);if(f>=0&&g>0||f<=0&&g<0){f=Object(dt["b"])(f,g),d=g;break}}}return r[0]=f,r[1]=d,r}))}))}var gt=n("4f85"),vt=n("b12f"),yt=n("e887"),_t=n("c7a2"),bt=n("0da8"),xt=n("deab"),wt=n("cbe5"),Tt=n("861c"),St=n("7d6c"),Ot=n("88b3"),Mt=n("282b"),Et=n("551f"),At=n("3901"),Ct=Object(l["o"])(),Dt={itemStyle:Object(Mt["a"])(Et["a"],!0),lineStyle:Object(Mt["a"])(At["a"],!0)},Lt={lineStyle:"stroke",itemStyle:"fill"};function It(t,e){var n=t.visualStyleMapper||Dt[e];return n||(console.warn("Unkown style type '"+e+"'."),Dt.itemStyle)}function Pt(t,e){var n=t.visualDrawType||Lt[e];return n||(console.warn("Unkown style type '"+e+"'."),"fill")}var Rt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),a=It(t,r),s=a(i),u=i.getShallow("decal");u&&(n.setVisual("decal",u),u.dirty=!0);var c=Pt(t,r),l=s[c],h=Object(o["w"])(l)?l:null,f="auto"===s.fill||"auto"===s.stroke;if(!s[c]||h||f){var d=t.getColorFromPalette(t.name,null,e.getSeriesCount());s[c]||(s[c]=d,n.setVisual("colorFromPalette",!0)),s.fill="auto"===s.fill||"function"===typeof s.fill?d:s.fill,s.stroke="auto"===s.stroke||"function"===typeof s.stroke?d:s.stroke}if(n.setVisual("style",s),n.setVisual("drawType",c),!e.isSeriesFiltered(t)&&h)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var r=t.getDataParams(n),i=Object(o["m"])({},s);i[c]=h(r),e.setItemVisual(n,"style",i)}}}},Nt=new h["a"],kt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=It(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[r]){Nt.option=n[r];var s=i(Nt),u=t.ensureUniqueItemVisual(e,"style");Object(o["m"])(u,s),Nt.option.decal&&(t.setItemVisual(e,"decal",Nt.option.decal),Nt.option.decal.dirty=!0),a in s&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},jt={performRawSeries:!0,overallReset:function(t){var e=Object(o["g"])();t.eachSeries((function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+n,i=e.get(r);i||(i={},e.set(r,i)),Ct(t).scope=i}})),t.eachSeries((function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),r={},i=e.getData(),o=Ct(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=Pt(e,a);i.each((function(t){var e=i.getRawIndex(t);r[e]=t})),n.each((function(t){var a=r[t],u=i.getItemVisual(a,"colorFromPalette");if(u){var c=i.ensureUniqueItemVisual(a,"style"),l=n.getName(t)||t+"",h=n.count();c[s]=e.getColorFromPalette(l,o,h)}}))}}))}},Ft=n("2dc5"),Bt=n("76a5"),zt=n("8d32"),Ut=Math.PI;function Ht(t,e){e=e||{},o["j"](e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Ft["a"],r=new _t["a"]({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i,a=new Bt["a"]({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),s=new _t["a"]({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(s),e.showSpinner&&(i=new zt["a"]({shape:{startAngle:-Ut/2,endAngle:-Ut/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),i.animateShape(!0).when(1e3,{endAngle:3*Ut/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*Ut/2}).delay(300).start("circularInOut"),n.add(i)),n.resize=function(){var n=a.getBoundingRect().width,o=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-2*o-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:o),c=t.getHeight()/2;e.showSpinner&&i.setShape({cx:u,cy:c}),s.setShape({x:u-o,y:c-o,width:2*o,height:2*o}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var Gt=n("9fbc"),Vt=n("8918"),Wt=function(){function t(t,e,n,r){this._stageTaskMap=Object(o["g"])(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=i?n.step:null,a=r&&r.modDataCount,s=null!=a?Math.ceil(a/o):null;return{step:o,modBy:s,modDataCount:a}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData(),i=r.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,a=t.get("large")&&i>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:s,large:a}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Object(o["g"])();t.eachSeries((function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;Object(o["k"])(this._allHandlers,(function(r){var i=t.get(r.uid)||t.set(r.uid,{}),a="";Object(o["b"])(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,i,e,n),r.overallReset&&this._createOverallStageTask(r,i,e,n)}),this)},t.prototype.prepareView=function(t,e,n,r){var i=t.renderTask,o=i.context;o.model=e,o.ecModel=n,o.api=r,i.__block=!t.incrementalPrepareRender,this._pipe(e,i)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,r){r=r||{};var i=!1,a=this;function s(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}Object(o["k"])(t,(function(t,o){if(!r.visualType||r.visualType===t.visualType){var u=a._stageTaskMap.get(t.uid),c=u.seriesTaskMap,l=u.overallTask;if(l){var h,f=l.agentStubMap;f.each((function(t){s(r,t)&&(t.dirty(),h=!0)})),h&&l.dirty(),a.updatePayload(l,n);var d=a.getPerformArgs(l,r.block);f.each((function(t){t.perform(d)})),l.perform(d)&&(i=!0)}else c&&c.each((function(o,u){s(r,o)&&o.dirty();var c=a.getPerformArgs(o,r.block);c.skip=!t.performRawSeries&&e.isSeriesFiltered(o.context.model),a.updatePayload(o,n),o.perform(c)&&(i=!0)}))}})),this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,r){var i=this,a=e.seriesTaskMap,s=e.seriesTaskMap=Object(o["g"])(),u=t.seriesType,c=t.getTargetSeries;function l(e){var o=e.uid,u=s.set(o,a&&a.get(o)||Object(Gt["a"])({plan:Zt,reset:Kt,count:te}));u.context={model:e,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(e,u)}t.createOnAllSeries?n.eachRawSeries(l):u?n.eachRawSeriesByType(u,l):c&&c(n,r).each(l)},t.prototype._createOverallStageTask=function(t,e,n,r){var i=this,a=e.overallTask=e.overallTask||Object(Gt["a"])({reset:qt});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var s=a.agentStubMap,u=a.agentStubMap=Object(o["g"])(),c=t.seriesType,l=t.getTargetSeries,h=!0,f=!1,d="";function p(t){var e=t.uid,n=u.set(e,s&&s.get(e)||(f=!0,Object(Gt["a"])({reset:Xt,onDirty:$t})));n.context={model:t,overallProgress:h},n.agent=a,n.__block=h,i._pipe(t,n)}Object(o["b"])(!t.createOnAllSeries,d),c?n.eachRawSeriesByType(c,p):l?l(n,r).each(p):(h=!1,Object(o["k"])(n.getSeries(),p)),f&&a.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},t.wrapStageHandler=function(t,e){return Object(o["w"])(t)&&(t={overallReset:t,seriesType:ee(t)}),t.uid=Object(Vt["c"])("stageHandler"),e&&(t.visualType=e),t},t}();function qt(t){t.overallReset(t.ecModel,t.api,t.payload)}function Xt(t){return t.overallProgress&&Yt}function Yt(){this.agent.dirty(),this.getDownstream().dirty()}function $t(){this.agent&&this.agent.dirty()}function Zt(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Kt(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Object(l["r"])(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Object(o["H"])(e,(function(t,e){return Qt(e)})):Jt}var Jt=Qt(0);function Qt(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function te(t){return t.data.count()}function ee(t){ne=null;try{t(re,ie)}catch(e){}return ne}var ne,re={},ie={};function oe(t,e){for(var n in e.prototype)t[n]=o["L"]}oe(re,L),oe(ie,R),re.eachSeriesByType=re.eachRawSeriesByType=function(t){ne=t},re.eachComponent=function(t){"series"===t.mainType&&t.subType&&(ne=t.subType)};var ae=Wt,se=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ue={color:se,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],se]},ce="#B9B8CE",le="#100C2A",he=function(){return{axisLine:{lineStyle:{color:ce}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},fe=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],de={darkMode:!0,color:fe,backgroundColor:le,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ce}},textStyle:{color:ce},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ce}},dataZoom:{borderColor:"#71708A",textStyle:{color:ce},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ce}},timeline:{lineStyle:{color:ce},label:{color:ce},controlStyle:{color:ce,borderColor:ce}},calendar:{itemStyle:{color:le},dayLabel:{color:ce},monthLabel:{color:ce},yearLabel:{color:ce}},timeAxis:he(),logAxis:he(),valueAxis:he(),categoryAxis:he(),line:{symbol:"circle"},graph:{color:fe},gauge:{title:{color:ce},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ce},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};de.categoryAxis.splitLine.show=!1;var pe=de,me=n("625e"),ge=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},r={};if(o["C"](t)){var i=Object(me["f"])(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};o["k"](t,(function(t,i){for(var o=!1,u=0;u<a.length;u++){var c=a[u],l=i.lastIndexOf(c);if(l>0&&l===i.length-c.length){var h=i.slice(0,l);"data"!==h&&(e.mainType=h,e[c.toLowerCase()]=t,o=!0)}}s.hasOwnProperty(i)&&(n[i]=t,o=!0),o||(r[i]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:r}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,u=e.dataQuery;return c(s,o,"mainType")&&c(s,o,"subType")&&c(s,o,"index","componentIndex")&&c(s,o,"name")&&c(s,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,i));function c(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),ve={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){var r=t.get("symbol"),i=t.get("symbolSize"),a=t.get("symbolKeepAspect"),s=t.get("symbolRotate"),u=t.get("symbolOffset"),c=Object(o["w"])(r),l=Object(o["w"])(i),h=Object(o["w"])(s),f=Object(o["w"])(u),d=c||l||h||f,p=!c&&r?r:t.defaultSymbol,m=l?null:i,g=h?null:s,v=f?null:u;if(n.setVisual({legendIcon:t.legendIcon||p,symbol:p,symbolSize:m,symbolKeepAspect:a,symbolRotate:g,symbolOffset:v}),!e.isSeriesFiltered(t))return{dataEach:d?y:null}}function y(e,n){var o=t.getRawValue(n),a=t.getDataParams(n);c&&e.setItemVisual(n,"symbol",r(o,a)),l&&e.setItemVisual(n,"symbolSize",i(o,a)),h&&e.setItemVisual(n,"symbolRotate",s(o,a)),f&&e.setItemVisual(n,"symbolOffset",u(o,a))}}},ye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t)){var n=t.getData();return{dataEach:n.hasItemOption?r:null}}function r(t,e){var n=t.getItemModel(e),r=n.getShallow("symbol",!0),i=n.getShallow("symbolSize",!0),o=n.getShallow("symbolRotate",!0),a=n.getShallow("symbolOffset",!0),s=n.getShallow("symbolKeepAspect",!0);null!=r&&t.setItemVisual(e,"symbol",r),null!=i&&t.setItemVisual(e,"symbolSize",i),null!=o&&t.setItemVisual(e,"symbolRotate",o),null!=a&&t.setItemVisual(e,"symbolOffset",a),null!=s&&t.setItemVisual(e,"symbolKeepAspect",s)}}},_e=n("0924"),be=n("f3bb"),xe=n("04f7"),we=n("ef59"),Te=n("fadd"),Se=n("b3c1");function Oe(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(t){var n=r.getItemVisual(t,"decal");if(n){var i=r.ensureUniqueItemVisual(t,"style");i.decal=Object(Se["a"])(n,e)}}));var i=r.getVisual("decal");if(i){var o=r.getVisual("style");o.decal=Object(Se["a"])(i,e)}}}))}var Me=n("5b87"),Ee=new c["a"],Ae=Ee,Ce="undefined"!==typeof window,De=1,Le=800,Ie=900,Pe=1e3,Re=2e3,Ne=5e3,ke=1e3,je=1100,Fe=2e3,Be=3e3,ze=4e3,Ue=4500,He=4600,Ge=5e3,Ve=6e3,We=7e3,qe={PROCESSOR:{FILTER:Pe,SERIES_FILTER:Le,STATISTIC:Ne},VISUAL:{LAYOUT:ke,PROGRESSIVE_LAYOUT:je,GLOBAL:Fe,CHART:Be,POST_CHART_LAYOUT:He,COMPONENT:ze,BRUSH:Ge,CHART_ITEM:Ue,ARIA:Ve,DECAL:We}},Xe="__flagInMainProcess",Ye="__pendingUpdate",$e="__needsUpdateStatus",Ze=/^[a-zA-Z0-9_]+$/,Ke="__connectUpdateStatus",Je=0,Qe=1,tn=2;function en(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return rn(this,t,e);Cn(this.id)}}function nn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return rn(this,t,e)}}function rn(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),c["a"].prototype[e].apply(t,n)}var on,an,sn,un,cn,ln,hn,fn,dn,pn,mn,gn,vn,yn,_n,bn,xn,wn,Tn,Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e}(c["a"]),On=Sn.prototype;On.on=nn("on"),On.off=nn("off");var Mn=function(t){function e(e,n,r){var a=t.call(this,new ge)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},"string"===typeof n&&(n=Nn[n]),a._dom=e;var s="canvas",c=!1,l=a._zr=i["init"](e,{renderer:r.renderer||s,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null==r.useDirtyRect?c:r.useDirtyRect});a._throttledZrFlush=Object(Ot["c"])(Object(o["c"])(l.flush,l),17),n=Object(o["d"])(n),n&&ft(n,!0),a._theme=n,a._locale=Object(we["b"])(r.locale||we["a"]),a._coordSysMgr=new N["a"];var h=a._api=bn(a);function f(t,e){return t.__prio-e.__prio}return Object(u["a"])(Rn,f),Object(u["a"])(In,f),a._scheduler=new ae(a,h,In,Rn),a._messageCenter=new Sn,a._initEvents(),a.resize=Object(o["c"])(a.resize,a),l.animation.on("frame",a._onframe,a),pn(l,a),mn(l,a),Object(o["R"])(a),a}return Object(r["b"])(e,t),e.prototype._onframe=function(){if(!this._disposed){Tn(this);var t=this._scheduler;if(this[Ye]){var e=this[Ye].silent;this[Xe]=!0,on(this),un.update.call(this,null,this[Ye].updateParams),this._zr.flush(),this[Xe]=!1,this[Ye]=null,fn.call(this,e),dn.call(this,e)}else if(t.unfinished){var n=De,r=this._model,i=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),ln(this,r),t.performVisualTasks(r),_n(this,this._model,i,"remain",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,e,n){if(this._disposed)Cn(this.id);else{var r,i,a;if(Object(o["A"])(e)&&(n=e.lazyUpdate,r=e.silent,i=e.replaceMerge,a=e.transition,e=e.notMerge),this[Xe]=!0,!this._model||e){var s=new H(this._api),u=this._theme,c=this._model=new L;c.scheduler=this._scheduler,c.init(null,null,null,u,this._locale,s)}this._model.setOption(t,{replaceMerge:i},Pn);var l={seriesTransition:a,optionChanged:!0};n?(this[Ye]={silent:r,updateParams:l},this[Xe]=!1,this.getZr().wakeUp()):(on(this),un.update.call(this,null,l),this._zr.flush(),this[Ye]=null,this[Xe]=!1,fn.call(this,r),dn.call(this,r))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ce&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(s["a"].canvasSupported)return t=t||{},this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.getSvgDataURL=function(){if(s["a"].svgSupported){var t=this._zr,e=t.storage.getDisplayList();return Object(o["k"])(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,n=this._model,r=[],i=this;Object(o["k"])(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)}))}));var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Object(o["k"])(r,(function(t){t.group.ignore=!1})),a}Cn(this.id)},e.prototype.getConnectedDataURL=function(t){if(this._disposed)Cn(this.id);else if(s["a"].canvasSupported){var e="svg"===t.type,n=this.group,r=Math.min,a=Math.max,u=1/0;if(Fn[n]){var c=u,l=u,h=-u,f=-u,d=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();Object(o["k"])(jn,(function(i,s){if(i.group===n){var u=e?i.getZr().painter.getSvgDom().innerHTML:i.getRenderedCanvas(Object(o["d"])(t)),p=i.getDom().getBoundingClientRect();c=r(p.left,c),l=r(p.top,l),h=a(p.right,h),f=a(p.bottom,f),d.push({dom:u,left:p.left,top:p.top})}})),c*=p,l*=p,h*=p,f*=p;var m=h-c,g=f-l,v=Object(o["f"])(),y=i["init"](v,{renderer:e?"svg":"canvas"});if(y.resize({width:m,height:g}),e){var _="";return Object(o["k"])(d,(function(t){var e=t.left-c,n=t.top-l;_+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),y.painter.getSvgRoot().innerHTML=_,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return t.connectedBackgroundColor&&y.add(new _t["a"]({shape:{x:0,y:0,width:m,height:g},style:{fill:t.connectedBackgroundColor}})),Object(o["k"])(d,(function(t){var e=new bt["a"]({style:{x:t.left*p-c,y:t.top*p-l,image:t.dom}});y.add(e)})),y.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,e){return cn(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return cn(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,r=this._model,i=l["s"](r,t);return Object(o["k"])(i,(function(t,r){r.indexOf("Models")>=0&&Object(o["k"])(t,(function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(e);else if("seriesModels"===r){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0}),this)}),this),!!n}Cn(this.id)},e.prototype.getVisual=function(t,e){var n=this._model,r=l["s"](n,t,{defaultMainType:"series"}),i=r.seriesModel;var o=i.getData(),a=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?o.indexOfRawIndex(r.dataIndex):null;return null!=a?Object(_e["a"])(o,a,e):Object(_e["b"])(o,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Object(o["k"])(An,(function(e){var n=function(n){var r,i=t.getModel(),a=n.target,s="globalout"===e;if(s?r={}:a&&Object(Te["a"])(a,(function(t){var e=Object(Tt["a"])(t);if(e&&null!=e.dataIndex){var n=e.dataModel||i.getSeriesByIndex(e.seriesIndex);return r=n&&n.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return r=Object(o["m"])({},e.eventData),!0}),!0),r){var u=r.componentType,c=r.componentIndex;"markLine"!==u&&"markPoint"!==u&&"markArea"!==u||(u="series",c=r.seriesIndex);var l=u&&null!=c&&i.getComponent(u,c),h=l&&t["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,r.event=n,r.type=e,t._$eventProcessor.eventInfo={targetEl:a,packedEvent:r,model:l,view:h},t.trigger(e,r)}};n.zrEventfulCallAtLast=!0,t._zr.on(e,n,t)})),Object(o["k"])(Ln,(function(e,n){t._messageCenter.on(n,(function(t){this.trigger(n,t)}),t)})),Object(o["k"])(["selectchanged"],(function(e){t._messageCenter.on(e,(function(t){this.trigger(e,t)}),t)})),Object(be["b"])(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?Cn(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)Cn(this.id);else{this._disposed=!0,l["w"](this.getDom(),zn,"");var t=this,e=t._api,n=t._model;Object(o["k"])(t._componentsViews,(function(t){t.dispose(n,e)})),Object(o["k"])(t._chartsViews,(function(t){t.dispose(n,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete jn[t.id]}},e.prototype.resize=function(t){if(this._disposed)Cn(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[Ye]&&(null==r&&(r=this[Ye].silent),n=!0,this[Ye]=null),this[Xe]=!0,n&&on(this),un.update.call(this,{type:"resize",animation:Object(o["m"])({duration:0},t&&t.animation)}),this[Xe]=!1,fn.call(this,r),dn.call(this,r)}}},e.prototype.showLoading=function(t,e){if(this._disposed)Cn(this.id);else if(Object(o["A"])(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),kn[t]){var n=kn[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},e.prototype.hideLoading=function(){this._disposed?Cn(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=Object(o["m"])({},t);return e.type=Ln[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)Cn(this.id);else if(Object(o["A"])(e)||(e={silent:!!e}),Dn[t.type]&&this._model)if(this[Xe])this._pendingActions.push(t);else{var n=e.silent;hn.call(this,t,n);var r=e.flush;r?this._zr.flush():!1!==r&&s["a"].browser.weChat&&this._throttledZrFlush(),fn.call(this,n),dn.call(this,n)}},e.prototype.updateLabelLayout=function(){Ae.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)Cn(this.id);else{var e=t.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(e);0,r.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){for(var e=[],n=t.currentStates,r=0;r<n.length;r++){var i=n[r];"emphasis"!==i&&"blur"!==i&&"select"!==i&&e.push(i)}t.selected&&t.states.select&&e.push("select"),t.hoverState===St["e"]&&t.states.emphasis?e.push("emphasis"):t.hoverState===St["d"]&&t.states.blur&&e.push("blur"),t.useStates(e)}function e(t,e){var n=t._zr,r=n.storage,i=0;r.traverse((function(t){t.isGroup||i++})),i>e.get("hoverLayerThreshold")&&!s["a"].node&&!s["a"].worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}function n(t,e){var n=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||(t.style.blend=n),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.style.blend=n}))}))}function i(t,e){t.preventAutoZ||u(e.group,t.get("z")||0,t.get("zlevel")||0,-1/0)}function u(t,e,n,r){var i=t.getTextContent(),o=t.getTextGuideLine(),a=t.isGroup;if(a)for(var s=t.childrenRef(),c=0;c<s.length;c++)r=Math.max(u(s[c],e,n,r),r);else t.z=e,t.zlevel=n,r=Math.max(t.z2,r);if(i&&(i.z=e,i.zlevel=n,isFinite(r)&&(i.z2=r+2)),o){var l=t.textGuideLineConfig;o.z=e,o.zlevel=n,isFinite(r)&&(o.z2=r+(l&&l.showAbove?1:-1))}return r}function c(t,e){e.group.traverse((function(t){if(!xt["d"](t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function h(e,n){var r=e.getModel("stateAnimation"),i=e.isAnimationEnabled(),o=r.get("duration"),a=o>0?{duration:o,delay:r.get("delay"),easing:r.get("easing")}:null;n.group.traverse((function(e){if(e.states&&e.states.emphasis){if(xt["d"](e))return;if(e instanceof wt["b"]&&Object(St["E"])(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(i){e.stateTransition=a;var r=e.getTextContent(),o=e.getTextGuideLine();r&&(r.stateTransition=a),o&&(o.stateTransition=a)}e.__dirty&&t(e)}}))}on=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),an(t,!0),an(t,!1),e.plan()},an=function(t,e){for(var n=t._model,r=t._scheduler,i=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,u=0;u<i.length;u++)i[u].__alive=!1;function c(t){var u=t.__requireNewView;t.__requireNewView=!1;var c="_ec_"+t.id+"_"+t.type,l=!u&&o[c];if(!l){var h=Object(me["f"])(t.type),f=e?vt["a"].getClass(h.main,h.sub):yt["a"].getClass(h.sub);0,l=new f,l.init(n,s),o[c]=l,i.push(l),a.add(l.group)}t.__viewId=l.__id=c,l.__alive=!0,l.__model=t,l.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&r.prepareView(l,t,n,s)}e?n.eachComponent((function(t,e){"series"!==t&&c(e)})):n.eachSeries(c);for(u=0;u<i.length;){var l=i[u];l.__alive?u++:(!e&&l.renderTask.dispose(),a.remove(l.group),l.dispose(n,s),i.splice(u,1),o[l.__id]===l&&delete o[l.__id],l.__id=l.group.__ecComponentInfo=null)}},sn=function(t,e,n,r,i){var a=t._model;if(a.setUpdatePayload(n),r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var u={mainType:r,query:s};i&&(u.subType=i);var c,h=n.excludeSeriesId;null!=h&&(c=Object(o["g"])(),Object(o["k"])(l["r"](h),(function(t){var e=l["e"](t,null);null!=e&&c.set(e,!0)}))),Object(St["z"])(n)&&Object(St["k"])(t._api),a&&a.eachComponent(u,(function(e){var r=c&&null!==c.get(e.id);if(!r)if(Object(St["z"])(n))if(e instanceof gt["b"])n.type!==St["c"]||n.notBlur||Object(St["m"])(e,n,t._api);else{var i=Object(St["t"])(e.mainType,e.componentIndex,n.name,t._api),a=i.focusSelf,s=i.dispatchers;n.type===St["c"]&&a&&!n.notBlur&&Object(St["l"])(e.mainType,e.componentIndex,t._api),s&&Object(o["k"])(s,(function(t){n.type===St["c"]?Object(St["r"])(t):Object(St["C"])(t)}))}else Object(St["A"])(n)&&e instanceof gt["b"]&&(Object(St["J"])(e,n,t._api),Object(St["K"])(e),wn(t))}),t),a&&a.eachComponent(u,(function(e){var n=c&&null!==c.get(e.id);n||f(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else Object(o["k"])([].concat(t._componentsViews).concat(t._chartsViews),f);function f(r){r&&r.__alive&&r[e]&&r[e](r.__model,a,t._api,n)}},un={prepareAndUpdate:function(t){on(this),un.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(t,e){var n=this._model,r=this._api,i=this._zr,o=this._coordSysMgr,u=this._scheduler;if(n){n.setUpdatePayload(t),u.restoreData(n,t),u.performSeriesTasks(n),o.create(n,r),u.performDataProcessorTasks(n,t),ln(this,n),o.update(n,r),gn(n),u.performVisualTasks(n,t),vn(this,n,r,t,e);var c=n.get("backgroundColor")||"transparent",l=n.get("darkMode");if(s["a"].canvasSupported)i.setBackgroundColor(c),null!=l&&"auto"!==l&&i.setDarkMode(l);else{var h=a["parse"](c);c=a["stringify"](h,"rgb"),0===h[3]&&(c="transparent")}Ae.trigger("afterupdate",n,r)}},updateTransform:function(t){var e=this,n=this._model,r=this._api;if(n){n.setUpdatePayload(t);var i=[];n.eachComponent((function(o,a){if("series"!==o){var s=e.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(a,n,r,t);u&&u.update&&i.push(s)}else i.push(s)}}));var a=Object(o["g"])();n.eachSeries((function(i){var o=e._chartsMap[i.__viewId];if(o.updateTransform){var s=o.updateTransform(i,n,r,t);s&&s.update&&a.set(i.uid,1)}else a.set(i.uid,1)})),gn(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0,dirtyMap:a}),_n(this,n,r,t,{},a),Ae.trigger("afterupdate",n,r)}},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),yt["a"].markUpdateMethod(t,"updateView"),gn(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),vn(this,e,this._api,t,{}),Ae.trigger("afterupdate",e,this._api))},updateVisual:function(t){var e=this,n=this._model;n&&(n.setUpdatePayload(t),n.eachSeries((function(t){t.getData().clearAllVisual()})),yt["a"].markUpdateMethod(t,"updateVisual"),gn(n),this._scheduler.performVisualTasks(n,t,{visualType:"visual",setDirty:!0}),n.eachComponent((function(r,i){if("series"!==r){var o=e.getViewOfComponentModel(i);o&&o.__alive&&o.updateVisual(i,n,e._api,t)}})),n.eachSeries((function(r){var i=e._chartsMap[r.__viewId];i.updateVisual(r,n,e._api,t)})),Ae.trigger("afterupdate",n,this._api))},updateLayout:function(t){un.update.call(this,t)}},cn=function(t,e,n,r){if(t._disposed)Cn(t.id);else{for(var i,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=l["s"](o,n),u=0;u<a.length;u++){var c=a[u];if(c[e]&&null!=(i=c[e](o,s,r)))return i}0}},ln=function(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries((function(t){r.updateStreamModes(t,n[t.__viewId])}))},hn=function(t,e){var n=this,r=this.getModel(),i=t.type,a=t.escapeConnect,s=Dn[i],u=s.actionInfo,c=(u.update||"update").split(":"),h=c.pop(),f=null!=c[0]&&Object(me["f"])(c[0]);this[Xe]=!0;var d=[t],p=!1;t.batch&&(p=!0,d=Object(o["H"])(t.batch,(function(e){return e=Object(o["j"])(Object(o["m"])({},e),t),e.batch=null,e})));var m,g=[],v=Object(St["A"])(t),y=Object(St["z"])(t);if(Object(o["k"])(d,(function(e){if(m=s.action(e,n._model,n._api),m=m||Object(o["m"])({},e),m.type=u.event||m.type,g.push(m),y){var r=l["t"](t),i=r.queryOptionMap,a=r.mainTypeSpecified,c=a?i.keys()[0]:"series";sn(n,h,e,c),wn(n)}else v?(sn(n,h,e,"series"),wn(n)):f&&sn(n,h,e,f.main,f.sub)})),"none"===h||y||v||f||(this[Ye]?(on(this),un.update.call(this,t),this[Ye]=null):un[h].call(this,t)),m=p?{type:u.event||i,escapeConnect:a,batch:g}:g[0],this[Xe]=!1,!e){var _=this._messageCenter;if(_.trigger(m.type,m),v){var b={type:"selectchanged",escapeConnect:a,selected:Object(St["u"])(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};_.trigger(b.type,b)}}},fn=function(t){var e=this._pendingActions;while(e.length){var n=e.shift();hn.call(this,n,t)}},dn=function(t){!t&&this.trigger("updated")},pn=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e[Ye]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},mn=function(t,e){t.on("mouseover",(function(t){var n=t.target,r=Object(Te["a"])(n,St["y"]);r&&(Object(St["x"])(r,t,e._api),wn(e))})).on("mouseout",(function(t){var n=t.target,r=Object(Te["a"])(n,St["y"]);r&&(Object(St["w"])(r,t,e._api),wn(e))})).on("click",(function(t){var n=t.target,r=Object(Te["a"])(n,(function(t){return null!=Object(Tt["a"])(t).dataIndex}),!0);if(r){var i=r.selected?"unselect":"select",o=Object(Tt["a"])(r);e._api.dispatchAction({type:i,dataType:o.dataType,dataIndexInside:o.dataIndex,seriesIndex:o.seriesIndex,isFromClick:!0})}}))},gn=function(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))},vn=function(t,e,n,r,i){yn(t,e,n,r,i),Object(o["k"])(t._chartsViews,(function(t){t.__alive=!1})),_n(t,e,n,r,i),Object(o["k"])(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},yn=function(t,e,n,r,a,s){Object(o["k"])(s||t._componentsViews,(function(t){var o=t.__model;c(o,t),t.render(o,e,n,r),i(o,t),h(o,t)}))},_n=function(t,r,a,s,u,l){var f=t._scheduler;u=Object(o["m"])(u||{},{updatedSeries:r.getSeries()}),Ae.trigger("series:beforeupdate",r,a,u);var d=!1;r.eachSeries((function(e){var r=t._chartsMap[e.__viewId];r.__alive=!0;var i=r.renderTask;f.updatePayload(i,s),c(e,r),l&&l.get(e.uid)&&i.dirty(),i.perform(f.getPerformArgs(i))&&(d=!0),r.group.silent=!!e.get("silent"),n(e,r),Object(St["K"])(e)})),f.unfinished=d||f.unfinished,Ae.trigger("series:layoutlabels",r,a,u),Ae.trigger("series:transition",r,a,u),r.eachSeries((function(e){var n=t._chartsMap[e.__viewId];i(e,n),h(e,n)})),e(t,r),Ae.trigger("series:afterupdate",r,a,u)},wn=function(t){t[$e]=!0,t.getZr().wakeUp()},Tn=function(e){e[$e]&&(e.getZr().storage.traverse((function(e){xt["d"](e)||t(e)})),e[$e]=!1)},bn=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){while(e){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){Object(St["r"])(e,n),wn(t)},n.prototype.leaveEmphasis=function(e,n){Object(St["C"])(e,n),wn(t)},n.prototype.enterBlur=function(e){Object(St["q"])(e),wn(t)},n.prototype.leaveBlur=function(e){Object(St["B"])(e),wn(t)},n.prototype.enterSelect=function(e){Object(St["s"])(e),wn(t)},n.prototype.leaveSelect=function(e){Object(St["D"])(e),wn(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(R))(t)},xn=function(t){function e(t,e){for(var n=0;n<t.length;n++){var r=t[n];r[Ke]=e}}Object(o["k"])(Ln,(function(n,r){t._messageCenter.on(r,(function(n){if(Fn[t.group]&&t[Ke]!==Je){if(n&&n.escapeConnect)return;var r=t.makeActionFromEvent(n),i=[];Object(o["k"])(jn,(function(e){e!==t&&e.group===t.group&&i.push(e)})),e(i,Je),Object(o["k"])(i,(function(t){t[Ke]!==Qe&&t.dispatchAction(r)})),e(i,tn)}}))}))}}(),e}(c["a"]),En=Mn.prototype;En.on=en("on"),En.off=en("off"),En.one=function(t,e,n){var r=this;function i(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e&&e.apply&&e.apply(this,n),r.off(t,i)}Object(w["a"])("ECharts#one is deprecated."),this.on.call(this,t,i,n)};var An=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Cn(t){0}var Dn={},Ln={},In=[],Pn=[],Rn=[],Nn={},kn={},jn={},Fn={},Bn=+new Date-0,zn=(new Date,"_echarts_instance_");function Un(t,e,n){var r=Hn(t);if(r)return r;var i=new Mn(t,e,n);return i.id="ec_"+Bn++,jn[i.id]=i,l["w"](t,zn,i.id),xn(i),Ae.trigger("afterinit",i),i}function Hn(t){return jn[l["g"](t,zn)]}function Gn(t,e){Nn[t]=e}function Vn(t){Object(o["r"])(Pn,t)<0&&Pn.push(t)}function Wn(t,e){er(In,t,e,Re)}function qn(t){Yn("afterinit",t)}function Xn(t){Yn("afterupdate",t)}function Yn(t,e){Ae.on(t,e)}function $n(t,e,n){"function"===typeof e&&(n=e,e="");var r=Object(o["A"])(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,Ln[e]||(Object(o["b"])(Ze.test(r)&&Ze.test(e)),Dn[r]||(Dn[r]={action:n,actionInfo:t}),Ln[e]=r)}function Zn(t,e){N["a"].register(t,e)}function Kn(t){var e=N["a"].get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function Jn(t,e){er(Rn,t,e,ke,"layout")}function Qn(t,e){er(Rn,t,e,Be,"visual")}var tr=[];function er(t,e,n,r,i){if((Object(o["w"])(e)||Object(o["A"])(e))&&(n=e,e=r),!(Object(o["r"])(tr,n)>=0)){tr.push(n);var a=ae.wrapStageHandler(n,i);a.__prio=e,a.__raw=n,t.push(a)}}function nr(t,e){kn[t]=e}function rr(t,e,n){Me["a"].registerMap(t,e,n)}function ir(t){return Me["a"].getMapForUser(t)}var or=xe["b"];Qn(Fe,Rt),Qn(Ue,kt),Qn(Ue,jt),Qn(Fe,ve),Qn(Ue,ye),Qn(We,Oe),Vn(ft),Wn(Ie,pt),nr("default",Ht),$n({type:St["c"],event:St["c"],update:St["c"]},o["L"]),$n({type:St["b"],event:St["b"],update:St["b"]},o["L"]),$n({type:St["f"],event:St["f"],update:St["f"]},o["L"]),$n({type:St["i"],event:St["i"],update:St["i"]},o["L"]),$n({type:St["h"],event:St["h"],update:St["h"]},o["L"]),Gn("light",ue),Gn("dark",pe)},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var r=n("b622"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(u){}return n}},"1cdc":function(t,e,n){var r=n("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7");function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),o=n("2d00"),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f39":function(t,e,n){"use strict";var r=n("6d8b"),i={},o=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];r["k"](i,(function(r,i){var o=r.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){r["k"](this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){i[t]=e},t.get=function(t){return i[t]},t}();e["a"]=o},2023:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}()},"20c8":function(t,e,n){"use strict";n.d(e,"b",(function(){return M}));var r=n("401b"),i=n("9850"),o=n("2cf4"),a=n("e263"),s=n("4a3f"),u={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],l=[],h=[],f=[],d=[],p=[],m=Math.min,g=Math.max,v=Math.cos,y=Math.sin,_=Math.sqrt,b=Math.abs,x=Math.PI,w=2*x,T="undefined"!==typeof Float32Array,S=[];function O(t){var e=Math.round(t/x*1e8)/1e8;return e%2*x}function M(t,e){var n=O(t[0]);n<0&&(n+=w);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=w?i=n+w:e&&n-i>=w?i=n-w:!e&&n>i?i=n+(w-O(n-i)):e&&n<i&&(i=n-(w-O(i-n))),t[0]=n,t[1]=i}var E=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=b(n/o["e"]/t)||0,this._uy=b(n/o["e"]/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(u.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=b(t-this._xi),r=b(e-this._yi),i=n>this._ux||r>this._uy;if(this.addData(u.L,t,e),this._ctx&&i&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._drawPendingPt(),this.addData(u.C,t,e,n,r,i,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,n,r,i,o):this._ctx.bezierCurveTo(t,e,n,r,i,o)),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(u.Q,t,e,n,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},t.prototype.arc=function(t,e,n,r,i,o){this._drawPendingPt(),S[0]=r,S[1]=i,M(S,o),r=S[0],i=S[1];var a=i-r;return this.addData(u.A,t,e,n,n,r,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=v(i)*n+t,this._yi=y(i)*n+e,this},t.prototype.arcTo=function(t,e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},t.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(u.R,t,e,n,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(u.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!T||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();T&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},t.prototype.addData=function(t,e,n,r,i,o,a,s,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var l=0;l<arguments.length;l++)c[this._len++]=arguments[l]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var n,r,i=this._dashSum,o=this._lineDash,a=this._ctx,s=this._dashOffset,u=this._xi,c=this._yi,l=t-u,h=e-c,f=_(l*l+h*h),d=u,p=c,v=o.length;l/=f,h/=f,s<0&&(s=i+s),s%=i,d-=s*l,p-=s*h;while(l>0&&d<=t||l<0&&d>=t||0===l&&(h>0&&p<=e||h<0&&p>=e))r=this._dashIdx,n=o[r],d+=l*n,p+=h*n,this._dashIdx=(r+1)%v,l>0&&d<u||l<0&&d>u||h>0&&p<c||h<0&&p>c||a[r%2?"moveTo":"lineTo"](l>=0?m(d,t):g(d,t),h>=0?m(p,e):g(p,e));l=d-t,h=p-e,this._dashOffset=-_(l*l+h*h)},t.prototype._dashedBezierTo=function(t,e,n,r,i,o){var a,u,c,l,h,f=this._ctx,d=this._dashSum,p=this._dashOffset,m=this._lineDash,g=this._xi,v=this._yi,y=0,b=this._dashIdx,x=m.length,w=0;for(p<0&&(p=d+p),p%=d,a=0;a<1;a+=.1)u=Object(s["a"])(g,t,n,i,a+.1)-Object(s["a"])(g,t,n,i,a),c=Object(s["a"])(v,e,r,o,a+.1)-Object(s["a"])(v,e,r,o,a),y+=_(u*u+c*c);for(;b<x;b++)if(w+=m[b],w>p)break;a=(w-p)/y;while(a<=1)l=Object(s["a"])(g,t,n,i,a),h=Object(s["a"])(v,e,r,o,a),b%2?f.moveTo(l,h):f.lineTo(l,h),a+=m[b]/y,b=(b+1)%x;b%2!==0&&f.lineTo(i,o),u=i-l,c=o-h,this._dashOffset=-_(u*u+c*c)},t.prototype._dashedQuadraticTo=function(t,e,n,r){var i=n,o=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,o)},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,T&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){h[0]=h[1]=d[0]=d[1]=Number.MAX_VALUE,f[0]=f[1]=p[0]=p[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,o=0,s=0,c=0;for(t=0;t<this._len;){var l=e[t++],m=1===t;switch(m&&(n=e[t],o=e[t+1],s=n,c=o),l){case u.M:n=s=e[t++],o=c=e[t++],d[0]=s,d[1]=c,p[0]=s,p[1]=c;break;case u.L:Object(a["c"])(n,o,e[t],e[t+1],d,p),n=e[t++],o=e[t++];break;case u.C:Object(a["b"])(n,o,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],d,p),n=e[t++],o=e[t++];break;case u.Q:Object(a["e"])(n,o,e[t++],e[t++],e[t],e[t+1],d,p),n=e[t++],o=e[t++];break;case u.A:var g=e[t++],_=e[t++],b=e[t++],x=e[t++],w=e[t++],T=e[t++]+w;t+=1;var S=!e[t++];m&&(s=v(w)*b+g,c=y(w)*x+_),Object(a["a"])(g,_,b,x,w,T,S,d,p),n=v(T)*b+g,o=y(T)*x+_;break;case u.R:s=n=e[t++],c=o=e[t++];var O=e[t++],M=e[t++];Object(a["c"])(s,c,s+O,c+M,d,p);break;case u.Z:n=s,o=c;break}r["l"](h,h,d),r["k"](f,f,p)}return 0===t&&(h[0]=h[1]=f[0]=f[1]=0),new i["a"](h[0],h[1],f[0]-h[0],f[1]-h[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,i=0,o=0,a=0,c=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,h=0,f=0,d=0;d<e;){var p=t[d++],_=1===d;_&&(i=t[d],o=t[d+1],a=i,c=o);var x=-1;switch(p){case u.M:i=a=t[d++],o=c=t[d++];break;case u.L:var T=t[d++],S=t[d++],O=T-i,M=S-o;(b(O)>n||b(M)>r||d===e-1)&&(x=Math.sqrt(O*O+M*M),i=T,o=S);break;case u.C:var E=t[d++],A=t[d++],C=(T=t[d++],S=t[d++],t[d++]),D=t[d++];x=Object(s["d"])(i,o,E,A,T,S,C,D,10),i=C,o=D;break;case u.Q:E=t[d++],A=t[d++],T=t[d++],S=t[d++];x=Object(s["k"])(i,o,E,A,T,S,10),i=T,o=S;break;case u.A:var L=t[d++],I=t[d++],P=t[d++],R=t[d++],N=t[d++],k=t[d++],j=k+N;d+=1;t[d++];_&&(a=v(N)*P+L,c=y(N)*R+I),x=g(P,R)*m(w,Math.abs(k)),i=v(j)*P+L,o=y(j)*R+I;break;case u.R:a=i=t[d++],c=o=t[d++];var F=t[d++],B=t[d++];x=2*F+2*B;break;case u.Z:O=a-i,M=c-o;x=Math.sqrt(O*O+M*M),i=a,o=c;break}x>=0&&(l[f++]=x,h+=x)}return this._pathLen=h,h},t.prototype.rebuildPath=function(t,e){var n,r,i,o,a,h,f,d,p,_,x,w=this.data,T=this._ux,S=this._uy,O=this._len,M=e<1,E=0,A=0,C=0;if(!M||(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,d=this._pathLen,p=e*d,p))t:for(var D=0;D<O;){var L=w[D++],I=1===D;switch(I&&(i=w[D],o=w[D+1],n=i,r=o),L!==u.L&&C>0&&(t.lineTo(_,x),C=0),L){case u.M:n=i=w[D++],r=o=w[D++],t.moveTo(i,o);break;case u.L:a=w[D++],h=w[D++];var P=b(a-i),R=b(h-o);if(P>T||R>S){if(M){var N=f[A++];if(E+N>p){var k=(p-E)/N;t.lineTo(i*(1-k)+a*k,o*(1-k)+h*k);break t}E+=N}t.lineTo(a,h),i=a,o=h,C=0}else{var j=P*P+R*R;j>C&&(_=a,x=h,C=j)}break;case u.C:var F=w[D++],B=w[D++],z=w[D++],U=w[D++],H=w[D++],G=w[D++];if(M){N=f[A++];if(E+N>p){k=(p-E)/N;Object(s["g"])(i,F,z,H,k,c),Object(s["g"])(o,B,U,G,k,l),t.bezierCurveTo(c[1],l[1],c[2],l[2],c[3],l[3]);break t}E+=N}t.bezierCurveTo(F,B,z,U,H,G),i=H,o=G;break;case u.Q:F=w[D++],B=w[D++],z=w[D++],U=w[D++];if(M){N=f[A++];if(E+N>p){k=(p-E)/N;Object(s["n"])(i,F,z,k,c),Object(s["n"])(o,B,U,k,l),t.quadraticCurveTo(c[1],l[1],c[2],l[2]);break t}E+=N}t.quadraticCurveTo(F,B,z,U),i=z,o=U;break;case u.A:var V=w[D++],W=w[D++],q=w[D++],X=w[D++],Y=w[D++],$=w[D++],Z=w[D++],K=!w[D++],J=q>X?q:X,Q=b(q-X)>.001,tt=Y+$,et=!1;if(M){N=f[A++];E+N>p&&(tt=Y+$*(p-E)/N,et=!0),E+=N}if(Q&&t.ellipse?t.ellipse(V,W,q,X,Z,Y,tt,K):t.arc(V,W,J,Y,tt,K),et)break t;I&&(n=v(Y)*q+V,r=y(Y)*X+W),i=v(tt)*q+V,o=y(tt)*X+W;break;case u.R:n=i=w[D],r=o=w[D+1],a=w[D++],h=w[D++];var nt=w[D++],rt=w[D++];if(M){N=f[A++];if(E+N>p){var it=p-E;t.moveTo(a,h),t.lineTo(a+m(it,nt),h),it-=nt,it>0&&t.lineTo(a+nt,h+m(it,rt)),it-=rt,it>0&&t.lineTo(a+g(nt-it,0),h+rt),it-=nt,it>0&&t.lineTo(a,h+g(rt-it,0));break t}E+=N}t.rect(a,h,nt,rt);break;case u.Z:if(M){N=f[A++];if(E+N>p){k=(p-E)/N;t.lineTo(i*(1-k)+n*k,o*(1-k)+r*k);break t}E+=N}t.closePath(),i=n,o=r}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=u,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();e["a"]=E},"216a":function(t,e,n){"use strict";var r=n("7fae"),i=n("3842"),o=n("f876"),a=n("944e"),s=n("89e3"),u=n("e0d8"),c=n("6d8b"),l=function(t,e,n,r){while(n<r){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n},h=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return Object(r["b"])(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Object(o["h"])(t.value,o["i"][Object(o["l"])(Object(o["m"])(this._minLevelUnit))]||o["i"].second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var r=this.getSetting("useUTC"),i=this.getSetting("locale");return Object(o["r"])(t,e,n,i,r)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=[];if(!e)return r;r.push({value:n[0],level:0});var i=this.getSetting("useUTC"),o=b(this._minLevelUnit,this._approxInterval,i,n);return r=r.concat(o),r.push({value:n[1],level:0}),r},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=o["a"],e[1]+=o["a"]),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-o["a"]}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,n){t=t||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=f.length,a=Math.min(l(f,this._approxInterval,0,o),o-1);this._interval=f[a][1],this._minLevelUnit=f[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return"number"===typeof t?t:+i["o"](t)},e.prototype.contain=function(t){return a["a"](this.parse(t),this._extent)},e.prototype.normalize=function(t){return a["d"](this.parse(t),this._extent)},e.prototype.scale=function(t){return a["e"](t,this._extent)},e.type="time",e}(s["a"]),f=[["second",o["d"]],["minute",o["c"]],["hour",o["b"]],["quarter-day",6*o["b"]],["half-day",12*o["b"]],["day",1.2*o["a"]],["half-week",3.5*o["a"]],["week",7*o["a"]],["month",31*o["a"]],["quarter",95*o["a"]],["half-year",o["e"]/2],["year",o["e"]]];function d(t,e,n,r){var a=i["o"](e),s=i["o"](n),u=function(t){return Object(o["n"])(a,t,r)===Object(o["n"])(s,t,r)},c=function(){return u("year")},l=function(){return c()&&u("month")},h=function(){return l()&&u("day")},f=function(){return h()&&u("hour")},d=function(){return f()&&u("minute")},p=function(){return d()&&u("second")},m=function(){return p()&&u("millisecond")};switch(t){case"year":return c();case"month":return l();case"day":return h();case"hour":return f();case"minute":return d();case"second":return p();case"millisecond":return m()}}function p(t,e){return t/=o["a"],t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function m(t){var e=30*o["a"];return t/=e,t>6?6:t>3?3:t>2?2:1}function g(t){return t/=o["b"],t>12?12:t>6?6:t>3.5?4:t>2?2:1}function v(t,e){return t/=e?o["c"]:o["d"],t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function y(t){return i["m"](t,!0)}function _(t,e,n){var r=new Date(t);switch(Object(o["m"])(e)){case"year":case"month":r[Object(o["x"])(n)](0);case"day":r[Object(o["g"])(n)](1);case"hour":r[Object(o["p"])(n)](0);case"minute":r[Object(o["v"])(n)](0);case"second":r[Object(o["A"])(n)](0),r[Object(o["t"])(n)](0)}return r.getTime()}function b(t,e,n,r){var i=1e4,a=o["B"],s=0;function u(t,e,n,i,o,a,s){var u=new Date(e),c=e,l=u[i]();while(c<n&&c<=r[1])s.push({value:c}),l+=t,u[o](l),c=u.getTime();s.push({value:c,notAdd:!0})}function l(t,i,a){var s=[],c=!i.length;if(!d(Object(o["m"])(t),r[0],r[1],n)){c&&(i=[{value:_(new Date(r[0]),t,n)},{value:r[1]}]);for(var l=0;l<i.length-1;l++){var h=i[l].value,f=i[l+1].value;if(h!==f){var b=void 0,x=void 0,w=void 0,T=!1;switch(t){case"year":b=Math.max(1,Math.round(e/o["a"]/365)),x=Object(o["j"])(n),w=Object(o["k"])(n);break;case"half-year":case"quarter":case"month":b=m(e),x=Object(o["w"])(n),w=Object(o["x"])(n);break;case"week":case"half-week":case"day":b=p(e,31),x=Object(o["f"])(n),w=Object(o["g"])(n),T=!0;break;case"half-day":case"quarter-day":case"hour":b=g(e),x=Object(o["o"])(n),w=Object(o["p"])(n);break;case"minute":b=v(e,!0),x=Object(o["u"])(n),w=Object(o["v"])(n);break;case"second":b=v(e,!1),x=Object(o["z"])(n),w=Object(o["A"])(n);break;case"millisecond":b=y(e),x=Object(o["s"])(n),w=Object(o["t"])(n);break}u(b,h,f,x,w,T,s),"year"===t&&a.length>1&&0===l&&a.unshift({value:a[0].value-b})}}for(l=0;l<s.length;l++)a.push(s[l]);return s}}for(var h=[],f=[],b=0,x=0,w=0;w<a.length&&s++<i;++w){var T=Object(o["m"])(a[w]);if(Object(o["q"])(a[w])){l(a[w],h[h.length-1]||[],f);var S=a[w+1]?Object(o["m"])(a[w+1]):null;if(T!==S){if(f.length){x=b,f.sort((function(t,e){return t.value-e.value}));for(var O=[],M=0;M<f.length;++M){var E=f[M].value;0!==M&&f[M-1].value===E||(O.push(f[M]),E>=r[0]&&E<=r[1]&&b++)}var A=(r[1]-r[0])/e;if(b>1.5*A&&x>A/1.5)break;if(h.push(O),b>A||t===a[w])break}f=[]}}}var C=Object(c["n"])(Object(c["H"])(h,(function(t){return Object(c["n"])(t,(function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd}))})),(function(t){return t.length>0})),D=[],L=C.length-1;for(w=0;w<C.length;++w)for(var I=C[w],P=0;P<I.length;++P)D.push({value:I[P].value,level:L-w});D.sort((function(t,e){return t.value-e.value}));var R=[];for(w=0;w<D.length;++w)0!==w&&D[w].value===D[w-1].value||R.push(D[w]);return R}u["a"].registerClass(h),e["a"]=h},"217c":function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return w})),n.d(e,"d",(function(){return T})),n.d(e,"a",(function(){return S}));var r=n("eda2"),i=n("6d8b"),o=n("b7d9"),a=n("3842"),s="line-height:1";function u(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,o=t.fontWeight||"400",a=t.color||"#464646",s=t.fontSize||14,u=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+Object(r["d"])(i+"")+"px;color:"+Object(r["d"])(n)+";font-weight:"+Object(r["d"])(o+""),valueStyle:"font-size:"+Object(r["d"])(s+"")+"px;color:"+Object(r["d"])(a)+";font-weight:"+Object(r["d"])(u+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:o},valueStyle:{fontSize:s,fill:a,fontWeight:u}}}var c=[0,10,20,30],l=["","\n","\n\n","\n\n\n"];function h(t,e){return e.type=t,e}function f(t){return Object(i["q"])(d,t.type)&&d[t.type]}var d={section:{planLayout:function(t){var e=t.blocks.length,n=e>1||e>0&&!t.noHeader,r=0;Object(i["k"])(t.blocks,(function(t){f(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;e>=r&&(r=e+(!n||e&&("section"!==t.type||t.noHeader)?0:1))})),t.__gapLevelBetweenSubBlocks=r},build:function(t,e,n,i){var o=e.noHeader,a=g(e),c=p(t,e,o?n:a.html,i);if(o)return c;var l=Object(r["i"])(e.header,"ordinal",t.useUTC),h=u(i,t.renderMode).nameStyle;return"richText"===t.renderMode?b(t,l,h)+a.richText+c:v('<div style="'+h+";"+s+';">'+Object(r["d"])(l)+"</div>"+c,n)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,n,o){var a=t.renderMode,s=e.noName,c=e.noValue,l=!e.markerType,h=e.name,f=e.value,d=t.useUTC;if(!s||!c){var p=l?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a),m=s?"":Object(r["i"])(h,"ordinal",d),g=e.valueType,w=c?[]:Object(i["t"])(f)?Object(i["H"])(f,(function(t,e){return Object(r["i"])(t,Object(i["t"])(g)?g[e]:g,d)})):[Object(r["i"])(f,Object(i["t"])(g)?g[0]:g,d)],T=!l||!s,S=!l&&s,O=u(o,a),M=O.nameStyle,E=O.valueStyle;return"richText"===a?(l?"":p)+(s?"":b(t,m,M))+(c?"":x(t,w,T,S,E)):v((l?"":p)+(s?"":y(m,!l,M))+(c?"":_(w,T,S,E)),n)}}}};function p(t,e,n,r){var a=[],s=e.blocks||[];Object(i["b"])(!s||Object(i["t"])(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Object(i["q"])(c,u)){var l=new o["a"](c[u],null);s.sort((function(t,e){return l.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===u&&s.reverse()}var h=g(e);if(Object(i["k"])(s,(function(e,n){var i=f(e).build(t,e,n>0?h.html:0,r);null!=i&&a.push(i)})),a.length)return"richText"===t.renderMode?a.join(h.richText):v(a.join(""),n)}function m(t,e,n,r,i,o){if(t){var a=f(t);a.planLayout(t);var s={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e};return a.build(s,t,0,o)}}function g(t){var e=t.__gapLevelBetweenSubBlocks;return{html:c[e],richText:l[e]}}function v(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+s+';">'+t+n+"</div>"}function y(t,e,n){var i=e?"margin-left:2px":"";return'<span style="'+n+";"+i+'">'+Object(r["d"])(t)+"</span>"}function _(t,e,n,o){var a=n?"10px":"20px",s=e?"float:right;margin-left:"+a:"";return'<span style="'+s+";"+o+'">'+Object(i["H"])(t,(function(t){return Object(r["d"])(t)})).join("&nbsp;&nbsp;")+"</span>"}function b(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function x(t,e,n,r,i){var o=[i],a=r?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(e.join("  "),o)}function w(t,e){var n=t.getData().getItemVisual(e,"style"),i=n[t.visualDrawType];return Object(r["c"])(i)}function T(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var S=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Object(a["i"])()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var o="richText"===n?this._generateStyleName():null,a=Object(r["h"])({color:e,type:t,renderMode:n,markerId:o});return Object(i["C"])(a)?a:(this.richTextStyles[o]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};Object(i["t"])(e)?Object(i["k"])(e,(function(t){return Object(i["m"])(n,t)})):Object(i["m"])(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},t}()},"21a1":function(t,e,n){(function(e){(function(e,n){t.exports=n()})(0,(function(){"use strict";"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}var n=t((function(t,e){(function(e,n){t.exports=n()})(0,(function(){function t(t){var e=t&&"object"===typeof t;return e&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(t){return Array.isArray(t)?[]:{}}function n(n,r){var i=r&&!0===r.clone;return i&&t(n)?o(e(n),n,r):n}function r(e,r,i){var a=e.slice();return r.forEach((function(r,s){"undefined"===typeof a[s]?a[s]=n(r,i):t(r)?a[s]=o(e[s],r,i):-1===e.indexOf(r)&&a.push(n(r,i))})),a}function i(e,r,i){var a={};return t(e)&&Object.keys(e).forEach((function(t){a[t]=n(e[t],i)})),Object.keys(r).forEach((function(s){t(r[s])&&e[s]?a[s]=o(e[s],r[s],i):a[s]=n(r[s],i)})),a}function o(t,e,o){var a=Array.isArray(e),s=o||{arrayMerge:r},u=s.arrayMerge||r;return a?Array.isArray(t)?u(t,e,o):n(e,o):i(t,e,o)}return o.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return o(t,n,e)}))},o}))}));function r(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).map((function(t){t(n)})),(t["*"]||[]).map((function(t){t(e,n)}))}}}var i=t((function(t,e){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};e.default=n,t.exports=e.default})),o=function(t){return Object.keys(t).map((function(e){var n=t[e].toString().replace(/"/g,"&quot;");return e+'="'+n+'"'})).join(" ")},a=i.svg,s=i.xlink,u={};u[a.name]=a.uri,u[s.name]=s.uri;var c,l=function(t,e){void 0===t&&(t="");var r=n(u,e||{}),i=o(r);return"<svg "+i+">"+t+"</svg>"},h=i.svg,f=i.xlink,d={attrs:(c={style:["position: absolute","width: 0","height: 0"].join("; ")},c[h.name]=h.uri,c[f.name]=f.uri,c)},p=function(t){this.config=n(d,t||{}),this.symbols=[]};p.prototype.add=function(t){var e=this,n=e.symbols,r=this.find(t.id);return r?(n[n.indexOf(r)]=t,!1):(n.push(t),!0)},p.prototype.remove=function(t){var e=this,n=e.symbols,r=this.find(t);return!!r&&(n.splice(n.indexOf(r),1),r.destroy(),!0)},p.prototype.find=function(t){return this.symbols.filter((function(e){return e.id===t}))[0]||null},p.prototype.has=function(t){return null!==this.find(t)},p.prototype.stringify=function(){var t=this.config,e=t.attrs,n=this.symbols.map((function(t){return t.stringify()})).join("");return l(n,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach((function(t){return t.destroy()}))};var m=function(t){var e=t.id,n=t.viewBox,r=t.content;this.id=e,this.viewBox=n,this.content=r};m.prototype.stringify=function(){return this.content},m.prototype.toString=function(){return this.stringify()},m.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach((function(e){return delete t[e]}))};var g=function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n},v=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"===typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return g(l(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(m),y={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},_=function(t){return Array.prototype.slice.call(t,0)},b=navigator.userAgent,x={isChrome:/chrome/i.test(b),isFirefox:/firefox/i.test(b),isIE:/msie/i.test(b)||/trident/i.test(b),isEdge:/edge/i.test(b)},w=function(t,e){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!1,!1,e),window.dispatchEvent(n)},T=function(t){var e=[];return _(t.querySelectorAll("style")).forEach((function(t){t.textContent+="",e.push(t)})),e},S=function(t){return(t||window.location.href).split("#")[0]},O=function(t){angular.module("ng").run(["$rootScope",function(e){e.$on("$locationChangeSuccess",(function(e,n,r){w(t,{oldUrl:r,newUrl:n})}))}])},M="linearGradient, radialGradient, pattern",E=function(t,e){return void 0===e&&(e=M),_(t.querySelectorAll("symbol")).forEach((function(t){_(t.querySelectorAll(e)).forEach((function(e){t.parentNode.insertBefore(e,t)}))})),t};function A(t,e){var n=_(t).reduce((function(t,n){if(!n.attributes)return t;var r=_(n.attributes),i=e?r.filter(e):r;return t.concat(i)}),[]);return n}var C=i.xlink.uri,D="xlink:href",L=/[{}|\\\^\[\]`"<>]/g;function I(t){return t.replace(L,(function(t){return"%"+t[0].charCodeAt(0).toString(16).toUpperCase()}))}function P(t,e,n){return _(t).forEach((function(t){var r=t.getAttribute(D);if(r&&0===r.indexOf(e)){var i=r.replace(e,n);t.setAttributeNS(C,D,i)}})),t}var R,N=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],k=N.map((function(t){return"["+t+"]"})).join(","),j=function(t,e,n,r){var i=I(n),o=I(r),a=t.querySelectorAll(k),s=A(a,(function(t){var e=t.localName,n=t.value;return-1!==N.indexOf(e)&&-1!==n.indexOf("url("+i)}));s.forEach((function(t){return t.value=t.value.replace(i,o)})),P(e,i,o)},F={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},B=function(t){function e(e){var i=this;void 0===e&&(e={}),t.call(this,n(y,e));var o=r();this._emitter=o,this.node=null;var a=this,s=a.config;if(s.autoConfigure&&this._autoConfigure(e),s.syncUrlsWithBaseTag){var u=document.getElementsByTagName("base")[0].getAttribute("href");o.on(F.MOUNT,(function(){return i.updateUrls("#",u)}))}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,c),s.locationChangeAngularEmitter&&O(s.locationChangeEvent),o.on(F.MOUNT,(function(t){s.moveGradientsOutsideSymbol&&E(t)})),o.on(F.SYMBOL_MOUNT,(function(t){s.moveGradientsOutsideSymbol&&E(t.parentNode),(x.isIE||x.isEdge)&&T(t)}))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isMounted:{}};return i.isMounted.get=function(){return!!this.node},e.prototype._autoConfigure=function(t){var e=this,n=e.config;"undefined"===typeof t.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag="undefined"!==typeof document.getElementsByTagName("base")[0]),"undefined"===typeof t.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter="angular"in window),"undefined"===typeof t.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=x.isFirefox)},e.prototype._handleLocationChange=function(t){var e=t.detail,n=e.oldUrl,r=e.newUrl;this.updateUrls(n,r)},e.prototype.add=function(e){var n=this,r=t.prototype.add.call(this,e);return this.isMounted&&r&&(e.mount(n.node),this._emitter.emit(F.SYMBOL_MOUNT,e.node)),r},e.prototype.attach=function(t){var e=this,n=this;if(n.isMounted)return n.node;var r="string"===typeof t?document.querySelector(t):t;return n.node=r,this.symbols.forEach((function(t){t.mount(n.node),e._emitter.emit(F.SYMBOL_MOUNT,t.node)})),_(r.querySelectorAll("symbol")).forEach((function(t){var e=v.createFromExistingNode(t);e.node=t,n.add(e)})),this._emitter.emit(F.MOUNT,r),r},e.prototype.destroy=function(){var t=this,e=t.config,n=t.symbols,r=t._emitter;n.forEach((function(t){return t.destroy()})),r.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},e.prototype.mount=function(t,e){void 0===t&&(t=this.config.mountTo),void 0===e&&(e=!1);var n=this;if(n.isMounted)return n.node;var r="string"===typeof t?document.querySelector(t):t,i=n.render();return this.node=i,e&&r.childNodes[0]?r.insertBefore(i,r.childNodes[0]):r.appendChild(i),this._emitter.emit(F.MOUNT,i),i},e.prototype.render=function(){return g(this.stringify())},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},e.prototype.updateUrls=function(t,e){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return j(this.node,n,S(t)+"#",S(e)+"#"),!0},Object.defineProperties(e.prototype,i),e}(p),z=t((function(t){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(e,n){t.exports=n()}(0,(function(){var t,e=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(i,t=function(){n.removeEventListener(i,t),o=1;while(t=e.shift())t()}),function(t){o?setTimeout(t,0):e.push(t)}}))})),U="__SVG_SPRITE_NODE__",H="__SVG_SPRITE__",G=!!window[H];G?R=window[H]:(R=new B({attrs:{id:U}}),window[H]=R);var V=function(){var t=document.getElementById(U);t?R.attach(t):R.mount(document.body,!0)};document.body?V():z(V);var W=R;return W}))}).call(this,n("c8ba"))},"21a10":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create},2236:function(t,e,n){var r=n("5a43");function i(t){if(Array.isArray(t))return r(t)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},2266:function(t,e,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),a=n("0366"),s=n("35a1"),u=n("9bdd"),c=function(t,e){this.stopped=t,this.result=e},l=t.exports=function(t,e,n,l,h){var f,d,p,m,g,v,y,_=a(e,n,l?2:1);if(h)f=t;else{if(d=s(t),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,m=o(t.length);m>p;p++)if(g=l?_(r(y=t[p])[0],y[1]):_(t[p]),g&&g instanceof c)return g;return new c(!1)}f=d.call(t)}v=f.next;while(!(y=v.call(f)).done)if(g=u(f,_,y.value,l),"object"==typeof g&&g&&g instanceof c)return g;return new c(!1)};l.stop=function(t){return new c(!0,t)}},"22b4":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("1be7"),i=n("b12f"),o=n("e887"),a=n("6cb7"),s=n("4f85"),u=n("6d8b"),c=n("697e7"),l=[],h={registerPreprocessor:r["l"],registerProcessor:r["m"],registerPostInit:r["j"],registerPostUpdate:r["k"],registerUpdateLifecycle:r["o"],registerAction:r["e"],registerCoordinateSystem:r["f"],registerLayout:r["g"],registerVisual:r["p"],registerTransform:r["n"],registerLoading:r["h"],registerMap:r["i"],PRIORITY:r["a"],ComponentModel:a["a"],ComponentView:i["a"],SeriesModel:s["b"],ChartView:o["a"],registerComponentModel:function(t){a["a"].registerClass(t)},registerComponentView:function(t){i["a"].registerClass(t)},registerSeriesModel:function(t){s["b"].registerClass(t)},registerChartView:function(t){o["a"].registerClass(t)},registerSubTypeDefaulter:function(t,e){a["a"].registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Object(c["registerPainter"])(t,e)}};function f(t){Object(u["t"])(t)?Object(u["k"])(t,(function(t){f(t)})):Object(u["r"])(l,t)>=0||(l.push(t),Object(u["w"])(t)&&(t={install:t}),t.install(h))}},"22d1":function(t,e,n){"use strict";var r=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),i=function(){function t(){this.browser=new r,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1}return t}(),o=new i;function a(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),a&&(n.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!==typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!==typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(o.wxa=!0,o.canvasSupported=!0,o.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?(o.worker=!0,o.canvasSupported=!0):"undefined"===typeof navigator?(o.node=!0,o.canvasSupported=!0,o.svgSupported=!0):a(navigator.userAgent,o),e["a"]=o},2306:function(t,e,n){"use strict";n.r(e),n.d(e,"extendShape",(function(){return N})),n.d(e,"extendPath",(function(){return j})),n.d(e,"registerShape",(function(){return F})),n.d(e,"getShapeClass",(function(){return B})),n.d(e,"makePath",(function(){return z})),n.d(e,"makeImage",(function(){return U})),n.d(e,"mergePath",(function(){return G})),n.d(e,"resizePath",(function(){return V})),n.d(e,"subPixelOptimizeLine",(function(){return W})),n.d(e,"subPixelOptimizeRect",(function(){return q})),n.d(e,"subPixelOptimize",(function(){return X})),n.d(e,"getTransform",(function(){return Y})),n.d(e,"applyTransform",(function(){return $})),n.d(e,"transformDirection",(function(){return Z})),n.d(e,"groupTransition",(function(){return Q})),n.d(e,"clipPointsByRect",(function(){return tt})),n.d(e,"clipRectByRect",(function(){return et})),n.d(e,"createIcon",(function(){return nt})),n.d(e,"linePolygonIntersect",(function(){return rt})),n.d(e,"lineLineIntersect",(function(){return it})),n.d(e,"setTooltipConfig",(function(){return st}));var r=n("342d"),i=n("1687"),o=n("401b"),a=n("cbe5");n.d(e,"Path",(function(){return a["b"]}));var s=n("8582"),u=n("0da8");n.d(e,"Image",(function(){return u["a"]}));var c=n("2dc5");n.d(e,"Group",(function(){return c["a"]}));var l=n("76a5");n.d(e,"Text",(function(){return l["a"]}));var h=n("d9fc");n.d(e,"Circle",(function(){return h["a"]}));var f=n("ae69");n.d(e,"Ellipse",(function(){return f["a"]}));var d=n("4aa2");n.d(e,"Sector",(function(){return d["a"]}));var p=n("4573");n.d(e,"Ring",(function(){return p["a"]}));var m=n("87b1");n.d(e,"Polygon",(function(){return m["a"]}));var g=n("d498");n.d(e,"Polyline",(function(){return g["a"]}));var v=n("c7a2");n.d(e,"Rect",(function(){return v["a"]}));var y=n("cb11");n.d(e,"Line",(function(){return y["a"]}));var _=n("ac0f");n.d(e,"BezierCurve",(function(){return _["a"]}));var b=n("8d32");n.d(e,"Arc",(function(){return b["a"]}));var x=n("d4c6");n.d(e,"CompoundPath",(function(){return x["a"]}));var w=n("48a9");n.d(e,"LinearGradient",(function(){return w["a"]}));var T=n("dded");n.d(e,"RadialGradient",(function(){return T["a"]}));var S=n("9850");n.d(e,"BoundingRect",(function(){return S["a"]}));var O=n("ca80");n.d(e,"OrientedBoundingRect",(function(){return O["a"]}));var M=n("dce8");n.d(e,"Point",(function(){return M["a"]}));var E=n("392f");n.d(e,"IncrementalDisplayable",(function(){return E["a"]}));var A=n("9cf9"),C=n("6d8b"),D=n("861c"),L=n("deab");n.d(e,"updateProps",(function(){return L["h"]})),n.d(e,"initProps",(function(){return L["c"]})),n.d(e,"removeElement",(function(){return L["e"]})),n.d(e,"removeElementWithFadeOut",(function(){return L["f"]})),n.d(e,"isElementRemoved",(function(){return L["d"]}));var I=Math.max,P=Math.min,R={};function N(t){return a["b"].extend(t)}var k=r["c"];function j(t,e){return k(t,e)}function F(t,e){R[t]=e}function B(t){if(R.hasOwnProperty(t))return R[t]}function z(t,e,n,i){var o=r["b"](t,e);return n&&("center"===i&&(n=H(n,o.getBoundingRect())),V(o,n)),o}function U(t,e,n){var r=new u["a"]({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(H(e,i))}}});return r}function H(t,e){var n,r=e.width/e.height,i=t.height*r;i<=t.width?n=t.height:(i=t.width,n=i/r);var o=t.x+t.width/2,a=t.y+t.height/2;return{x:o-i/2,y:a-n/2,width:i,height:n}}var G=r["d"];function V(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function W(t){return A["b"](t.shape,t.shape,t.style),t}function q(t){return A["c"](t.shape,t.shape,t.style),t}var X=A["a"];function Y(t,e){var n=i["d"]([]);while(t&&t!==e)i["f"](n,t.getLocalTransform(),n),t=t.parent;return n}function $(t,e,n){return e&&!Object(C["u"])(e)&&(e=s["a"].getLocalTransform(e)),n&&(e=i["e"]([],e)),o["b"]([],t,e)}function Z(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return o=$(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function K(t){return!t.isGroup}function J(t){return null!=t.shape}function Q(t,e,n){if(t&&e){var r=i(t);e.traverse((function(t){if(K(t)&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),Object(L["h"])(t,i,n,Object(D["a"])(t).dataIndex)}}}))}function i(t){var e={};return t.traverse((function(t){K(t)&&t.anid&&(e[t.anid]=t)})),e}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return J(t)&&(e.shape=Object(C["m"])({},t.shape)),e}}function tt(t,e){return Object(C["H"])(t,(function(t){var n=t[0];n=I(n,e.x),n=P(n,e.x+e.width);var r=t[1];return r=I(r,e.y),r=P(r,e.y+e.height),[n,r]}))}function et(t,e){var n=I(t.x,e.x),r=P(t.x+t.width,e.x+e.width),i=I(t.y,e.y),o=P(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function nt(t,e,n){var r=Object(C["m"])({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),Object(C["j"])(i,n),new u["a"](r)):z(t.replace("path://",""),r,n,"center")}function rt(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(it(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function it(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=ot(l,h,u,c);if(at(f))return!1;var d=t-i,p=e-o,m=ot(d,p,u,c)/f;if(m<0||m>1)return!1;var g=ot(d,p,l,h)/f;return!(g<0||g>1)}function ot(t,e,n,r){return t*r-n*e}function at(t){return t<=1e-6&&t>=-1e-6}function st(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=Object(C["C"])(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var u=t.formatterParamsExtra;u&&Object(C["k"])(Object(C["F"])(u),(function(t){Object(C["q"])(s,t)||(s[t]=u[t],s.$vars.push(t))}));var c=Object(D["a"])(t.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:r,option:Object(C["j"])({content:r,formatterParams:s},i)}}F("circle",h["a"]),F("ellipse",f["a"]),F("sector",d["a"]),F("ring",p["a"]),F("polygon",m["a"]),F("polyline",g["a"]),F("rect",v["a"]),F("line",y["a"]),F("bezierCurve",_["a"]),F("arc",b["a"])},2355:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("ca80"),i=n("9850");function o(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var o=i.label,a=o.getComputedTransform(),s=o.getBoundingRect(),u=!a||a[1]<1e-5&&a[2]<1e-5,c=o.style.margin||0,l=s.clone();l.applyTransform(a),l.x-=c/2,l.y-=c/2,l.width+=c,l.height+=c;var h=u?new r["a"](s,a):null;e.push({label:o,labelLine:i.labelLine,rect:l,localRect:s,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:u,transform:a})}}return e}function a(t,e,n,r,i,o){var a=t.length;if(!(a<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s,u=0,c=!1,l=[],h=0,f=0;f<a;f++){var d=t[f],p=d.rect;s=p[e]-u,s<0&&(p[e]-=s,d.label[e]-=s,c=!0);var m=Math.max(-s,0);l.push(m),h+=m,u=p[e]+p[n]}h>0&&o&&w(-h/a,0,a);var g,v,y=t[0],_=t[a-1];return b(),g<0&&T(-g,.8),v<0&&T(v,.8),b(),x(g,v,1),x(v,g,-1),b(),g<0&&S(-g),v<0&&S(v),c}function b(){g=y.rect[e]-r,v=i-_.rect[e]-_.rect[n]}function x(t,e,n){if(t<0){var r=Math.min(e,-t);if(r>0){w(r*n,0,a);var i=r+t;i<0&&T(-i*n,1)}else T(-t*n,1)}}function w(n,r,i){0!==n&&(c=!0);for(var o=r;o<i;o++){var a=t[o],s=a.rect;s[e]+=n,a.label[e]+=n}}function T(r,i){for(var o=[],s=0,u=1;u<a;u++){var c=t[u-1].rect,l=Math.max(t[u].rect[e]-c[e]-c[n],0);o.push(l),s+=l}if(s){var h=Math.min(Math.abs(r)/s,i);if(r>0)for(u=0;u<a-1;u++){var f=o[u]*h;w(f,0,u+1)}else for(u=a-1;u>0;u--){f=o[u-1]*h;w(-f,u,a)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),r=0;r<a-1;r++)if(e>0?w(n,0,r+1):w(-n,a-r-1,a),t-=n,t<=0)return}}function s(t,e,n,r){return a(t,"x","width",e,n,r)}function u(t,e,n,r){return a(t,"y","height",e,n,r)}function c(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new i["a"](0,0,0,0);function o(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var a=0;a<t.length;a++){var s=t[a],u=s.axisAligned,c=s.localRect,l=s.transform,h=s.label,f=s.labelLine;n.copy(s.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=s.obb,p=!1,m=0;m<e.length;m++){var g=e[m];if(n.intersect(g.rect)){if(u&&g.axisAligned){p=!0;break}if(g.obb||(g.obb=new r["a"](g.localRect,g.transform)),d||(d=new r["a"](c,l)),d.intersect(g.obb)){p=!0;break}}}p?(o(h),f&&o(f)):(h.attr("ignore",s.defaultAttr.ignore),f&&f.attr("ignore",s.defaultAttr.labelGuideIgnore),e.push(s))}}},"23cb":function(t,e,n){var r=n("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"23dc":function(t,e,n){var r=n("d44e");r(Math,"Math",!0)},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),a=n("6eeb"),s=n("ce4e"),u=n("e893"),c=n("94ca");t.exports=function(t,e){var n,l,h,f,d,p,m=t.target,g=t.global,v=t.stat;if(l=g?r:v?r[m]||s(m,{}):(r[m]||{}).prototype,l)for(h in e){if(d=e[h],t.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=c(g?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;u(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),a(l,h,d,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},2444:function(t,e,n){"use strict";(function(e){var r=n("c532"),i=n("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function s(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e)&&(t=n("b50d")),t}var u={adapter:s(),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u}).call(this,n("4362"))},2532:function(t,e,n){"use strict";var r=n("23e7"),i=n("5a34"),o=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),a=n("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),h=c.name!=s;(l||h)&&r(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),a=n("83ab"),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},"26dd":function(t,e,n){"use strict";var r=n("6f4f"),i=n("10db"),o=n("92f0"),a={};n("051b")(a,n("cc15")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},"282b":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("6d8b");function i(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,o){for(var a={},s=0;s<t.length;s++){var u=t[s][1];if(!(i&&r["r"](i,u)>=0||o&&r["r"](o,u)<0)){var c=n.getShallow(u,e);null!=c&&(a[t[s][0]]=c)}}return a}}},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("6b75");function i(t){if(Array.isArray(t))return Object(r["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var a=n("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||o(t)||Object(a["a"])(t)||s()}},"2b0e":function(t,e,n){"use strict";n.r(e),function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function x(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var w=/-(\w)/g,T=x((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),S=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),O=/\B([A-Z])/g,M=x((function(t){return t.replace(O,"-$1").toLowerCase()}));function E(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var C=Function.prototype.bind?A:E;function D(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function L(t,e){for(var n in e)t[n]=e[n];return t}function I(t){for(var e={},n=0;n<t.length;n++)t[n]&&L(e,t[n]);return e}function P(t,e,n){}var R=function(t,e,n){return!1},N=function(t){return t};function k(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return k(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return k(t[n],e[n])}))}catch(c){return!1}}function j(t,e){for(var n=0;n<t.length;n++)if(k(t[n],e))return n;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",z=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:P,parsePlatformTagName:N,mustUseProp:R,async:!0,_lifecycleHooks:U},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^"+G.source+".$_\\d]");function X(t){if(!q.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Y,$="__proto__"in{},Z="undefined"!==typeof window,K="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=K&&WXEnvironment.platform.toLowerCase(),Q=Z&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,nt=Q&&Q.indexOf("edge/")>0,rt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===J),it=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),ot={}.watch,at=!1;if(Z)try{var st={};Object.defineProperty(st,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,st)}catch(Ta){}var ut=function(){return void 0===Y&&(Y=!Z&&!K&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Y},ct=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,ft="undefined"!==typeof Symbol&&lt(Symbol)&&"undefined"!==typeof Reflect&&lt(Reflect.ownKeys);ht="undefined"!==typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=P,pt=0,mt=function(){this.id=pt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){y(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var gt=[];function vt(t){gt.push(t),mt.target=t}function yt(){gt.pop(),mt.target=gt[gt.length-1]}var _t=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,bt);var xt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function wt(t){return new _t(void 0,void 0,void 0,String(t))}function Tt(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var St=Array.prototype,Ot=Object.create(St),Mt=["push","pop","shift","unshift","splice","sort","reverse"];Mt.forEach((function(t){var e=St[t];W(Ot,t,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Et=Object.getOwnPropertyNames(Ot),At=!0;function Ct(t){At=t}var Dt=function(t){this.value=t,this.dep=new mt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?($?Lt(t,Ot):It(t,Ot,Et),this.observeArray(t)):this.walk(t)};function Lt(t,e){t.__proto__=e}function It(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(t,o,e[o])}}function Pt(t,e){var n;if(u(t)&&!(t instanceof _t))return b(t,"__ob__")&&t.__ob__ instanceof Dt?n=t.__ob__:At&&!ut()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Dt(t)),e&&n&&n.vmCount++,n}function Rt(t,e,n,r,i){var o=new mt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&Pt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return mt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&jt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&Pt(e),o.notify())}})}}function Nt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Rt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function kt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}function jt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&jt(e)}Dt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Rt(t,e[n])},Dt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Pt(t[e])};var Ft=H.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,r,i,o=ft?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],b(t,n)?r!==i&&l(r)&&l(i)&&Bt(r,i):Nt(t,n,i));return t}function zt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?Bt(r,i):i}:e?t?function(){return Bt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Ht(n):n}function Ht(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Gt(t,e,n,r){var i=Object.create(t||null);return e?L(i,e):i}Ft.data=function(t,e,n){return n?zt(t,e,n):e&&"function"!==typeof e?t:zt(t,e)},U.forEach((function(t){Ft[t]=Ut})),z.forEach((function(t){Ft[t+"s"]=Gt})),Ft.watch=function(t,e,n,r){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in L(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return L(i,t),e&&L(i,e),i},Ft.provide=zt;var Vt=function(t,e){return void 0===e?t:e};function Wt(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=T(i),a[o]={type:null})}else if(l(n))for(var s in n)i=n[s],o=T(s),a[o]=l(i)?i:{type:i};else 0;t.props=a}}function qt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var a=n[o];r[o]=l(a)?L({from:o},a):{from:a}}else 0}}function Xt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Yt(t,e,n){if("function"===typeof e&&(e=e.options),Wt(e,n),qt(e,n),Xt(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Yt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)b(t,o)||s(o);function s(r){var i=Ft[r]||Vt;a[r]=i(t[r],e[r],n,r)}return a}function $t(t,e,n,r){if("string"===typeof n){var i=t[e];if(b(i,n))return i[n];var o=T(n);if(b(i,o))return i[o];var a=S(o);if(b(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Zt(t,e,n,r){var i=e[t],o=!b(n,t),a=n[t],s=te(Boolean,i.type);if(s>-1)if(o&&!b(i,"default"))a=!1;else if(""===a||a===M(t)){var u=te(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Kt(r,i,t);var c=At;Ct(!0),Pt(a),Ct(c)}return a}function Kt(t,e,n){if(b(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Jt(e.type)?r.call(t):r}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Qt(e[n],t))return n;return-1}function ee(t,e,n){vt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(Ta){re(Ta,r,"errorCaptured hook")}}}re(t,e,n)}finally{yt()}}function ne(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&d(o)&&!o._handled&&(o.catch((function(t){return ee(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(Ta){ee(Ta,r,i)}return o}function re(t,e,n){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,n)}catch(Ta){Ta!==t&&ie(Ta,null,"config.errorHandler")}ie(t,e,n)}function ie(t,e,n){if(!Z&&!K||"undefined"===typeof console)throw t;console.error(t)}var oe,ae=!1,se=[],ue=!1;function ce(){ue=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&lt(Promise)){var le=Promise.resolve();oe=function(){le.then(ce),rt&&setTimeout(P)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&lt(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var he=1,fe=new MutationObserver(ce),de=document.createTextNode(String(he));fe.observe(de,{characterData:!0}),oe=function(){he=(he+1)%2,de.data=String(he)},ae=!0}function pe(t,e){var n;if(se.push((function(){if(t)try{t.call(e)}catch(Ta){ee(Ta,e,"nextTick")}else n&&n(e)})),ue||(ue=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new ht;function ge(t){ve(t,me),me.clear()}function ve(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)ve(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)ve(t[r[n]],e)}}}var ye=x((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function _e(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ne(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)ne(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function be(t,e,n,i,a,s){var u,c,l,h;for(u in t)c=t[u],l=e[u],h=ye(u),r(c)||(r(l)?(r(c.fns)&&(c=t[u]=_e(c,s)),o(h.once)&&(c=t[u]=a(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)r(t[u])&&(h=ye(u),i(h.name,e[u],h.capture))}function xe(t,e,n){var a;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),y(a.fns,u)}r(s)?a=_e([u]):i(s.fns)&&o(s.merged)?(a=s,a.fns.push(u)):a=_e([s,u]),a.merged=!0,t[e]=a}function we(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var l=M(c);Te(a,u,c,l,!0)||Te(a,s,c,l,!1)}return a}}function Te(t,e,n,r,o){if(i(e)){if(b(e,n))return t[n]=e[n],o||delete e[n],!0;if(b(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function Se(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Oe(t){return s(t)?[wt(t)]:Array.isArray(t)?Ee(t):void 0}function Me(t){return i(t)&&i(t.text)&&a(t.isComment)}function Ee(t,e){var n,a,u,c,l=[];for(n=0;n<t.length;n++)a=t[n],r(a)||"boolean"===typeof a||(u=l.length-1,c=l[u],Array.isArray(a)?a.length>0&&(a=Ee(a,(e||"")+"_"+n),Me(a[0])&&Me(c)&&(l[u]=wt(c.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?Me(c)?l[u]=wt(c.text+a):""!==a&&l.push(wt(a)):Me(a)&&Me(c)?l[u]=wt(c.text+a.text):(o(t._isVList)&&i(a.tag)&&r(a.key)&&i(e)&&(a.key="__vlist"+e+"_"+n+"__"),l.push(a)));return l}function Ae(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Ce(t){var e=De(t.$options.inject,t);e&&(Ct(!1),Object.keys(e).forEach((function(n){Rt(t,n,e[n])})),Ct(!0))}function De(t,e){if(t){for(var n=Object.create(null),r=ft?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&b(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function Le(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Ie)&&delete n[c];return n}function Ie(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Pe(t,e,r){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=Re(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=Ne(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),W(i,"$stable",a),W(i,"$key",s),W(i,"$hasNormal",o),i}function Re(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Oe(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Ne(t,e){return function(){return t[e]}}function ke(t,e){var n,r,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ft&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),l=c.next();while(!l.done)n.push(e(l.value,n.length)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],n[r]=e(t[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function je(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=L(L({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Fe(t){return $t(this.$options,"filters",t,!0)||N}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function ze(t,e,n,r,i){var o=H.keyCodes[e]||n;return i&&r&&!H.keyCodes[e]?Be(i,r):o?Be(o,t):r?M(r)!==e:void 0}function Ue(t,e,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=I(n));var a=function(a){if("class"===a||"style"===a||v(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||H.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(a),c=M(a);if(!(u in o)&&!(c in o)&&(o[a]=n[a],i)){var l=t.on||(t.on={});l["update:"+a]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function He(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ve(r,"__static__"+t,!1)),r}function Ge(t,e,n){return Ve(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ve(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&We(t[r],e+"_"+r,n);else We(t,e,n)}function We(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function qe(t,e){if(e)if(l(e)){var n=t.on=t.on?L({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Xe(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Xe(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ye(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function $e(t,e){return"string"===typeof t?e+t:t}function Ze(t){t._o=Ge,t._n=m,t._s=p,t._l=ke,t._t=je,t._q=k,t._i=j,t._m=He,t._f=Fe,t._k=ze,t._b=Ue,t._v=wt,t._e=xt,t._u=Xe,t._g=qe,t._d=Ye,t._p=$e}function Ke(t,e,r,i,a){var s,u=this,c=a.options;b(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var l=o(c._compiled),h=!l;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=De(c.inject,i),this.slots=function(){return u.$slots||Pe(t.scopedSlots,u.$slots=Le(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pe(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Pe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var o=hn(s,t,e,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return hn(s,t,e,n,r,h)}}function Je(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var l in c)u[l]=Zt(l,c,e||n);else i(r.attrs)&&tn(u,r.attrs),i(r.props)&&tn(u,r.props);var h=new Ke(r,u,a,o,t),f=s.render.call(null,h._c,h);if(f instanceof _t)return Qe(f,r,h.parent,s,h);if(Array.isArray(f)){for(var d=Oe(f)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Qe(d[m],r,h.parent,s,h);return p}}function Qe(t,e,n,r,i){var o=Tt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function tn(t,e){for(var n in e)t[T(n)]=e[n]}Ze(Ke.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var r=t.componentInstance=on(t,Dn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Nn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Jn(n):jn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Fn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,a,s){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(r(t.cid)&&(l=t,t=xn(l,c),void 0===t))return bn(l,e,n,a,s);e=e||{},xr(t),i(e.model)&&un(t.options,e);var h=we(e,t,s);if(o(t.options.functional))return Je(t,h,e,n,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}an(e);var p=t.options.name||s,m=new _t("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:s,children:a},l);return m}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function an(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=e[r],o=en[r];i===o||i&&i._merged||(e[r]=i?sn(o,i):o)}}function sn(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function un(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}var cn=1,ln=2;function hn(t,e,n,r,i,a){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(a)&&(i=ln),fn(t,e,n,r,i)}function fn(t,e,n,r,o){if(i(n)&&i(n.__ob__))return xt();if(i(n)&&i(n.is)&&(e=n.is),!e)return xt();var a,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ln?r=Oe(r):o===cn&&(r=Se(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),a=H.isReservedTag(e)?new _t(H.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=$t(t.$options,"components",e))?new _t(e,n,r,void 0,void 0,t):rn(u,n,t,r,e)):a=rn(e,n,t,r);return Array.isArray(a)?a:i(a)?(i(s)&&dn(a,s),i(n)&&pn(n),a):xt()}function dn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&dn(u,e,n)}}function pn(t){u(t.style)&&ge(t.style),u(t.class)&&ge(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=Le(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return hn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return hn(t,e,n,r,i,!0)};var o=r&&r.data;Rt(t,"$attrs",o&&o.attrs||n,null,!0),Rt(t,"$listeners",e._parentListeners||n,null,!0)}var gn,vn=null;function yn(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=Pe(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{vn=e,t=r.call(e._renderProxy,e.$createElement)}catch(Ta){ee(Ta,e,"render"),t=e._vnode}finally{vn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=xt()),t.parent=i,t}}function _n(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function bn(t,e,n,r,i){var o=xt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function xn(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=vn;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return y(a,n)}));var h=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},f=F((function(n){t.resolved=_n(n,e),s?a.length=0:h(!0)})),p=F((function(e){i(t.errorComp)&&(t.error=!0,h(!0))})),m=t(f,p);return u(m)&&(d(m)?r(t.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),i(m.error)&&(t.errorComp=_n(m.error,e)),i(m.loading)&&(t.loadingComp=_n(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,r(t.resolved)&&p(null)}),m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function wn(t){return t.isComment&&t.asyncFactory}function Tn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||wn(n)))return n}}function Sn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&An(t,e)}function On(t,e){gn.$on(t,e)}function Mn(t,e){gn.$off(t,e)}function En(t,e){var n=gn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function An(t,e,n){gn=t,be(e,n||{},On,Mn,En,t),gn=void 0}function Cn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?D(n):n;for(var r=D(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)ne(n[o],e,r,e,i)}return e}}var Dn=null;function Ln(t){var e=Dn;return Dn=t,function(){Dn=e}}function In(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Pn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Ln(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Rn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=xt),Bn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new nr(t,r,P,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function Nn(t,e,r,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Ct(!1);for(var l=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=t.$options.props;l[d]=Zt(d,p,e,t)}Ct(!0),t.$options.propsData=e}r=r||n;var m=t.$options._parentListeners;t.$options._parentListeners=r,An(t,r,m),c&&(t.$slots=Le(o,i.context),t.$forceUpdate())}function kn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function jn(t,e){if(e){if(t._directInactive=!1,kn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)jn(t.$children[n]);Bn(t,"activated")}}function Fn(t,e){if((!e||(t._directInactive=!0,!kn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Fn(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){vt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)ne(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var zn=[],Un=[],Hn={},Gn=!1,Vn=!1,Wn=0;function qn(){Wn=zn.length=Un.length=0,Hn={},Gn=Vn=!1}var Xn=0,Yn=Date.now;if(Z&&!tt){var $n=window.performance;$n&&"function"===typeof $n.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return $n.now()})}function Zn(){var t,e;for(Xn=Yn(),Vn=!0,zn.sort((function(t,e){return t.id-e.id})),Wn=0;Wn<zn.length;Wn++)t=zn[Wn],t.before&&t.before(),e=t.id,Hn[e]=null,t.run();var n=Un.slice(),r=zn.slice();qn(),Qn(n),Kn(r),ct&&H.devtools&&ct.emit("flush")}function Kn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Bn(r,"updated")}}function Jn(t){t._inactive=!1,Un.push(t)}function Qn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,jn(t[e],!0)}function tr(t){var e=t.id;if(null==Hn[e]){if(Hn[e]=!0,Vn){var n=zn.length-1;while(n>Wn&&zn[n].id>t.id)n--;zn.splice(n+1,0,t)}else zn.push(t);Gn||(Gn=!0,pe(Zn))}}var er=0,nr=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++er,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=X(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var t;vt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ta){if(!this.user)throw Ta;ee(Ta,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),yt(),this.cleanupDeps()}return t},nr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tr(this)},nr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Ta){ee(Ta,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:P,set:P};function ir(t,e,n){rr.get=function(){return this[e][n]},rr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,rr)}function or(t){t._watchers=[];var e=t.$options;e.props&&ar(t,e.props),e.methods&&pr(t,e.methods),e.data?sr(t):Pt(t._data={},!0),e.computed&&lr(t,e.computed),e.watch&&e.watch!==ot&&mr(t,e.watch)}function ar(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Ct(!1);var a=function(o){i.push(o);var a=Zt(o,e,n,t);Rt(r,o,a),o in t||ir(t,"_props",o)};for(var s in e)a(s);Ct(!0)}function sr(t){var e=t.$options.data;e=t._data="function"===typeof e?ur(e,t):e||{},l(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&b(r,o)||V(o)||ir(t,"_data",o)}Pt(e,!0)}function ur(t,e){vt();try{return t.call(e,e)}catch(Ta){return ee(Ta,e,"data()"),{}}finally{yt()}}var cr={lazy:!0};function lr(t,e){var n=t._computedWatchers=Object.create(null),r=ut();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new nr(t,a||P,P,cr)),i in t||hr(t,i,o)}}function hr(t,e,n){var r=!ut();"function"===typeof n?(rr.get=r?fr(e):dr(n),rr.set=P):(rr.get=n.get?r&&!1!==n.cache?fr(e):dr(n.get):P,rr.set=n.set||P),Object.defineProperty(t,e,rr)}function fr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function dr(t){return function(){return t.call(this,this)}}function pr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?P:C(e[n],t)}function mr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)gr(t,n,r[i]);else gr(t,n,r)}}function gr(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function vr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Nt,t.prototype.$delete=kt,t.prototype.$watch=function(t,e,n){var r=this;if(l(e))return gr(r,t,e,n);n=n||{},n.user=!0;var i=new nr(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(o){ee(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function _r(t){t.prototype._init=function(t){var e=this;e._uid=yr++,e._isVue=!0,t&&t._isComponent?br(e,t):e.$options=Yt(xr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,In(e),Sn(e),mn(e),Bn(e,"beforeCreate"),Ce(e),or(e),Ae(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function br(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function xr(t){var e=t.options;if(t.super){var n=xr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=wr(t);i&&L(t.extendOptions,i),e=t.options=Yt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function wr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Tr(t){this._init(t)}function Sr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=D(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Or(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function Mr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Yt(n.options,t),a["super"]=n,a.options.props&&Er(a),a.options.computed&&Ar(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,z.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=L({},a.options),i[r]=a,a}}function Er(t){var e=t.options.props;for(var n in e)ir(t.prototype,"_props",n)}function Ar(t){var e=t.options.computed;for(var n in e)hr(t.prototype,n,e[n])}function Cr(t){z.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Dr(t){return t&&(t.Ctor.options.name||t.tag)}function Lr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ir(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Dr(a.componentOptions);s&&!e(s)&&Pr(n,o,r,i)}}}function Pr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,y(n,e)}_r(Tr),vr(Tr),Cn(Tr),Pn(Tr),yn(Tr);var Rr=[String,RegExp,Array],Nr={name:"keep-alive",abstract:!0,props:{include:Rr,exclude:Rr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Pr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Ir(t,(function(t){return Lr(e,t)}))})),this.$watch("exclude",(function(e){Ir(t,(function(t){return!Lr(e,t)}))}))},render:function(){var t=this.$slots.default,e=Tn(t),n=e&&e.componentOptions;if(n){var r=Dr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Lr(o,r))||a&&r&&Lr(a,r))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,y(c,l),c.push(l)):(u[l]=e,c.push(l),this.max&&c.length>parseInt(this.max)&&Pr(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},kr={KeepAlive:Nr};function jr(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:dt,extend:L,mergeOptions:Yt,defineReactive:Rt},t.set=Nt,t.delete=kt,t.nextTick=pe,t.observable=function(t){return Pt(t),t},t.options=Object.create(null),z.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,L(t.options.components,kr),Sr(t),Or(t),Mr(t),Cr(t)}jr(Tr),Object.defineProperty(Tr.prototype,"$isServer",{get:ut}),Object.defineProperty(Tr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Tr,"FunctionalRenderContext",{value:Ke}),Tr.version="2.6.10";var Fr=g("style,class"),Br=g("input,textarea,option,select,progress"),zr=function(t,e,n){return"value"===n&&Br(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ur=g("contenteditable,draggable,spellcheck"),Hr=g("events,caret,typing,plaintext-only"),Gr=function(t,e){return Yr(e)||"false"===e?"false":"contenteditable"===t&&Hr(e)?e:"true"},Vr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wr="http://www.w3.org/1999/xlink",qr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Xr=function(t){return qr(t)?t.slice(6,t.length):""},Yr=function(t){return null==t||!1===t};function $r(t){var e=t.data,n=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Zr(r.data,e));while(i(n=n.parent))n&&n.data&&(e=Zr(e,n.data));return Kr(e.staticClass,e.class)}function Zr(t,e){return{staticClass:Jr(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Kr(t,e){return i(t)||i(e)?Jr(t,Qr(e)):""}function Jr(t,e){return t?e?t+" "+e:t:e||""}function Qr(t){return Array.isArray(t)?ti(t):u(t)?ei(t):"string"===typeof t?t:""}function ti(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Qr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ei(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(t){return ri(t)||ii(t)};function ai(t){return ii(t)?"svg":"math"===t?"math":void 0}var si=Object.create(null);function ui(t){if(!Z)return!0;if(oi(t))return!1;if(t=t.toLowerCase(),null!=si[t])return si[t];var e=document.createElement(t);return t.indexOf("-")>-1?si[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:si[t]=/HTMLUnknownElement/.test(e.toString())}var ci=g("text,number,password,search,email,tel,url");function li(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function hi(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function fi(t,e){return document.createElementNS(ni[t],e)}function di(t){return document.createTextNode(t)}function pi(t){return document.createComment(t)}function mi(t,e,n){t.insertBefore(e,n)}function gi(t,e){t.removeChild(e)}function vi(t,e){t.appendChild(e)}function yi(t){return t.parentNode}function _i(t){return t.nextSibling}function bi(t){return t.tagName}function xi(t,e){t.textContent=e}function wi(t,e){t.setAttribute(e,"")}var Ti=Object.freeze({createElement:hi,createElementNS:fi,createTextNode:di,createComment:pi,insertBefore:mi,removeChild:gi,appendChild:vi,parentNode:yi,nextSibling:_i,tagName:bi,setTextContent:xi,setStyleScope:wi}),Si={create:function(t,e){Oi(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Oi(t,!0),Oi(e))},destroy:function(t){Oi(t,!0)}};function Oi(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Mi=new _t("",{},[]),Ei=["create","activate","update","remove","destroy"];function Ai(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Ci(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Ci(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||ci(r)&&ci(o)}function Di(t,e,n){var r,o,a={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(a[o]=r);return a}function Li(t){var e,n,a={},u=t.modules,c=t.nodeOps;for(e=0;e<Ei.length;++e)for(a[Ei[e]]=[],n=0;n<u.length;++n)i(u[n][Ei[e]])&&a[Ei[e]].push(u[n][Ei[e]]);function l(t){return new _t(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);i(e)&&c.removeChild(e,t)}function d(t,e,n,r,a,s,u){if(i(t.elm)&&i(s)&&(t=s[u]=Tt(t)),t.isRootInsert=!a,!p(t,e,n,r)){var l=t.data,h=t.children,f=t.tag;i(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),w(t),_(t,h,e),i(l)&&x(t,e),y(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),y(n,t.elm,r)):(t.elm=c.createTextNode(t.text),y(n,t.elm,r))}}function p(t,e,n,r){var a=t.data;if(i(a)){var s=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return m(t,e),y(n,t.elm,r),o(s)&&v(t,e,n,r),!0}}function m(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(x(t,e),w(t)):(Oi(t),e.push(t))}function v(t,e,n,r){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Mi,s);e.push(s);break}y(n,t.elm,r)}function y(t,e,n){i(t)&&(i(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function _(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function x(t,n){for(var r=0;r<a.create.length;++r)a.create[r](Mi,t);e=t.data.hook,i(e)&&(i(e.create)&&e.create(Mi,t),i(e.insert)&&n.push(t))}function w(t){var e;if(i(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)i(e=n.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}i(e=Dn)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function T(t,e,n,r,i,o){for(;r<=i;++r)d(n[r],o,t,e,!1,n,r)}function S(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)S(t.children[n])}function O(t,e,n,r){for(;n<=r;++n){var o=e[n];i(o)&&(i(o.tag)?(M(o),S(o)):f(o.elm))}}function M(t,e){if(i(e)||i(t.data)){var n,r=a.remove.length+1;for(i(e)?e.listeners+=r:e=h(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&M(n,e),n=0;n<a.remove.length;++n)a.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else f(t.elm)}function E(t,e,n,o,a){var s,u,l,h,f=0,p=0,m=e.length-1,g=e[0],v=e[m],y=n.length-1,_=n[0],b=n[y],x=!a;while(f<=m&&p<=y)r(g)?g=e[++f]:r(v)?v=e[--m]:Ai(g,_)?(C(g,_,o,n,p),g=e[++f],_=n[++p]):Ai(v,b)?(C(v,b,o,n,y),v=e[--m],b=n[--y]):Ai(g,b)?(C(g,b,o,n,y),x&&c.insertBefore(t,g.elm,c.nextSibling(v.elm)),g=e[++f],b=n[--y]):Ai(v,_)?(C(v,_,o,n,p),x&&c.insertBefore(t,v.elm,g.elm),v=e[--m],_=n[++p]):(r(s)&&(s=Di(e,f,m)),u=i(_.key)?s[_.key]:A(_,e,f,m),r(u)?d(_,o,t,g.elm,!1,n,p):(l=e[u],Ai(l,_)?(C(l,_,o,n,p),e[u]=void 0,x&&c.insertBefore(t,l.elm,g.elm)):d(_,o,t,g.elm,!1,n,p)),_=n[++p]);f>m?(h=r(n[y+1])?null:n[y+1].elm,T(t,h,n,p,y,o)):p>y&&O(t,e,f,m)}function A(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&Ai(t,a))return o}}function C(t,e,n,s,u,l){if(t!==e){i(e.elm)&&i(s)&&(e=s[u]=Tt(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?I(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;i(d)&&i(f=d.hook)&&i(f=f.prepatch)&&f(t,e);var p=t.children,m=e.children;if(i(d)&&b(e)){for(f=0;f<a.update.length;++f)a.update[f](t,e);i(f=d.hook)&&i(f=f.update)&&f(t,e)}r(e.text)?i(p)&&i(m)?p!==m&&E(h,p,m,n,l):i(m)?(i(t.text)&&c.setTextContent(h,""),T(h,null,m,0,m.length-1,n)):i(p)?O(h,p,0,p.length-1):i(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),i(d)&&i(f=d.hook)&&i(f=f.postpatch)&&f(t,e)}}}function D(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var L=g("attrs,class,staticClass,staticStyle,key");function I(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return m(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,f=0;f<c.length;f++){if(!h||!I(h,c[f],n,r)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else _(e,c,n);if(i(u)){var d=!1;for(var p in u)if(!L(p)){d=!0,x(e,n);break}!d&&u["class"]&&ge(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!r(e)){var u=!1,h=[];if(r(t))u=!0,d(e,h);else{var f=i(t.nodeType);if(!f&&Ai(t,e))C(t,e,h,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),o(n)&&I(t,e,h))return D(e,h,!0),t;t=l(t)}var p=t.elm,m=c.parentNode(p);if(d(e,h,p._leaveCb?null:m,c.nextSibling(p)),i(e.parent)){var g=e.parent,v=b(e);while(g){for(var y=0;y<a.destroy.length;++y)a.destroy[y](g);if(g.elm=e.elm,v){for(var _=0;_<a.create.length;++_)a.create[_](Mi,g);var x=g.data.hook.insert;if(x.merged)for(var w=1;w<x.fns.length;w++)x.fns[w]()}else Oi(g);g=g.parent}}i(m)?O(m,[t],0,0):i(t.tag)&&S(t)}}return D(e,h,u),e.elm}i(t)&&S(t)}}var Ii={create:Pi,update:Pi,destroy:function(t){Pi(t,Mi)}};function Pi(t,e){(t.data.directives||e.data.directives)&&Ri(t,e)}function Ri(t,e){var n,r,i,o=t===Mi,a=e===Mi,s=ki(t.data.directives,t.context),u=ki(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Fi(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Fi(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Fi(c[n],"inserted",e,t)};o?xe(e,"insert",h):h()}if(l.length&&xe(e,"postpatch",(function(){for(var n=0;n<l.length;n++)Fi(l[n],"componentUpdated",e,t)})),!o)for(n in s)u[n]||Fi(s[n],"unbind",t,t,a)}var Ni=Object.create(null);function ki(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Ni),i[ji(r)]=r,r.def=$t(e.$options,"directives",r.name,!0);return i}function ji(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fi(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(Ta){ee(Ta,n.context,"directive "+t.name+" "+e+" hook")}}var Bi=[Si,Ii];function zi(t,e){var n=e.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var o,a,s,u=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(o in i(l.__ob__)&&(l=e.data.attrs=L({},l)),l)a=l[o],s=c[o],s!==a&&Ui(u,o,a);for(o in(tt||nt)&&l.value!==c.value&&Ui(u,"value",l.value),c)r(l[o])&&(qr(o)?u.removeAttributeNS(Wr,Xr(o)):Ur(o)||u.removeAttribute(o))}}function Ui(t,e,n){t.tagName.indexOf("-")>-1?Hi(t,e,n):Vr(e)?Yr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ur(e)?t.setAttribute(e,Gr(e,n)):qr(e)?Yr(n)?t.removeAttributeNS(Wr,Xr(e)):t.setAttributeNS(Wr,e,n):Hi(t,e,n)}function Hi(t,e,n){if(Yr(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Gi={create:zi,update:zi};function Vi(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=$r(e),u=n._transitionClasses;i(u)&&(s=Jr(s,Qr(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Wi,qi={create:Vi,update:Vi},Xi="__r",Yi="__c";function $i(t){if(i(t[Xi])){var e=tt?"change":"input";t[e]=[].concat(t[Xi],t[e]||[]),delete t[Xi]}i(t[Yi])&&(t.change=[].concat(t[Yi],t.change||[]),delete t[Yi])}function Zi(t,e,n){var r=Wi;return function i(){var o=e.apply(null,arguments);null!==o&&Qi(t,i,n,r)}}var Ki=ae&&!(it&&Number(it[1])<=53);function Ji(t,e,n,r){if(Ki){var i=Xn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Wi.addEventListener(t,e,at?{capture:n,passive:r}:n)}function Qi(t,e,n,r){(r||Wi).removeEventListener(t,e._wrapper||e,n)}function to(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Wi=e.elm,$i(n),be(n,i,Ji,Qi,Zi,e.context),Wi=void 0}}var eo,no={create:to,update:to};function ro(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=L({},u)),s)n in u||(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=r(o)?"":String(o);io(a,c)&&(a.value=c)}else if("innerHTML"===n&&ii(a.tagName)&&r(a.innerHTML)){eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+o+"</svg>";var l=eo.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(Ta){}}}}function io(t,e){return!t.composing&&("OPTION"===t.tagName||oo(t,e)||ao(t,e))}function oo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Ta){}return n&&t.value!==e}function ao(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var so={create:ro,update:ro},uo=x((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function co(t){var e=lo(t.style);return t.staticStyle?L(t.staticStyle,e):e}function lo(t){return Array.isArray(t)?I(t):"string"===typeof t?uo(t):t}function ho(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=co(i.data))&&L(r,n)}(n=co(t.data))&&L(r,n);var o=t;while(o=o.parent)o.data&&(n=co(o.data))&&L(r,n);return r}var fo,po=/^--/,mo=/\s*!important$/,go=function(t,e,n){if(po.test(e))t.style.setProperty(e,n);else if(mo.test(n))t.style.setProperty(M(e),n.replace(mo,""),"important");else{var r=yo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},vo=["Webkit","Moz","ms"],yo=x((function(t){if(fo=fo||document.createElement("div").style,t=T(t),"filter"!==t&&t in fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<vo.length;n++){var r=vo[n]+e;if(r in fo)return r}}));function _o(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},h=c||l,f=lo(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?L({},f):f;var d=ho(e,!0);for(s in h)r(d[s])&&go(u,s,"");for(s in d)a=d[s],a!==h[s]&&go(u,s,null==a?"":a)}}var bo={create:_o,update:_o},xo=/\s+/;function wo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(xo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function To(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(xo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function So(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&L(e,Oo(t.name||"v")),L(e,t),e}return"string"===typeof t?Oo(t):void 0}}var Oo=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Mo=Z&&!et,Eo="transition",Ao="animation",Co="transition",Do="transitionend",Lo="animation",Io="animationend";Mo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Co="WebkitTransition",Do="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Lo="WebkitAnimation",Io="webkitAnimationEnd"));var Po=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ro(t){Po((function(){Po(t)}))}function No(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),wo(t,e))}function ko(t,e){t._transitionClasses&&y(t._transitionClasses,e),To(t,e)}function jo(t,e,n){var r=Bo(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Eo?Do:Io,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout((function(){u<a&&c()}),o+1),t.addEventListener(s,l)}var Fo=/\b(transform|all)(,|$)/;function Bo(t,e){var n,r=window.getComputedStyle(t),i=(r[Co+"Delay"]||"").split(", "),o=(r[Co+"Duration"]||"").split(", "),a=zo(i,o),s=(r[Lo+"Delay"]||"").split(", "),u=(r[Lo+"Duration"]||"").split(", "),c=zo(s,u),l=0,h=0;e===Eo?a>0&&(n=Eo,l=a,h=o.length):e===Ao?c>0&&(n=Ao,l=c,h=u.length):(l=Math.max(a,c),n=l>0?a>c?Eo:Ao:null,h=n?n===Eo?o.length:u.length:0);var f=n===Eo&&Fo.test(r[Co+"Property"]);return{type:n,timeout:l,propCount:h,hasTransform:f}}function zo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Uo(e)+Uo(t[n])})))}function Uo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ho(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=So(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,c=o.enterClass,l=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,p=o.appearActiveClass,g=o.beforeEnter,v=o.enter,y=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,x=o.appear,w=o.afterAppear,T=o.appearCancelled,S=o.duration,O=Dn,M=Dn.$vnode;while(M&&M.parent)O=M.context,M=M.parent;var E=!O._isMounted||!t.isRootInsert;if(!E||x||""===x){var A=E&&f?f:c,C=E&&p?p:h,D=E&&d?d:l,L=E&&b||g,I=E&&"function"===typeof x?x:v,P=E&&w||y,R=E&&T||_,N=m(u(S)?S.enter:S);0;var k=!1!==a&&!et,j=Wo(I),B=n._enterCb=F((function(){k&&(ko(n,D),ko(n,C)),B.cancelled?(k&&ko(n,A),R&&R(n)):P&&P(n),n._enterCb=null}));t.data.show||xe(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,B)})),L&&L(n),k&&(No(n,A),No(n,C),Ro((function(){ko(n,A),B.cancelled||(No(n,D),j||(Vo(N)?setTimeout(B,N):jo(n,s,B)))}))),t.data.show&&(e&&e(),I&&I(n,B)),k||j||B()}}}function Go(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=So(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,l=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,p=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,y=o.duration,_=!1!==a&&!et,b=Wo(d),x=m(u(y)?y.leave:y);0;var w=n._leaveCb=F((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(ko(n,l),ko(n,h)),w.cancelled?(_&&ko(n,c),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null}));v?v(T):T()}function T(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),_&&(No(n,c),No(n,h),Ro((function(){ko(n,c),w.cancelled||(No(n,l),b||(Vo(x)?setTimeout(w,x):jo(n,s,w)))}))),d&&d(n,w),_||b||w())}}function Vo(t){return"number"===typeof t&&!isNaN(t)}function Wo(t){if(r(t))return!1;var e=t.fns;return i(e)?Wo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function qo(t,e){!0!==e.data.show&&Ho(e)}var Xo=Z?{create:qo,activate:qo,remove:function(t,e){!0!==t.data.show?Go(t,e):e()}}:{},Yo=[Gi,qi,no,so,bo,Xo],$o=Yo.concat(Bi),Zo=Li({nodeOps:Ti,modules:$o});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ia(t,"input")}));var Ko={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?xe(n,"postpatch",(function(){Ko.componentUpdated(t,e,n)})):Jo(t,e,n.context),t._vOptions=[].map.call(t.options,ea)):("textarea"===n.tag||ci(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",na),t.addEventListener("compositionend",ra),t.addEventListener("change",ra),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Jo(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,ea);if(i.some((function(t,e){return!k(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return ta(t,i)})):e.value!==e.oldValue&&ta(e.value,i);o&&ia(t,"change")}}}};function Jo(t,e,n){Qo(t,e,n),(tt||nt)&&setTimeout((function(){Qo(t,e,n)}),0)}function Qo(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=j(r,ea(a))>-1,a.selected!==o&&(a.selected=o);else if(k(ea(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function ta(t,e){return e.every((function(e){return!k(e,t)}))}function ea(t){return"_value"in t?t._value:t.value}function na(t){t.target.composing=!0}function ra(t){t.target.composing&&(t.target.composing=!1,ia(t.target,"input"))}function ia(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function oa(t){return!t.componentInstance||t.data&&t.data.transition?t:oa(t.componentInstance._vnode)}var aa={bind:function(t,e,n){var r=e.value;n=oa(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Ho(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=oa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Ho(n,(function(){t.style.display=t.__vOriginalDisplay})):Go(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},sa={model:Ko,show:aa},ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ca(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ca(Tn(e.children)):t}function la(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[T(o)]=i[o];return e}function ha(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function fa(t){while(t=t.parent)if(t.data.transition)return!0}function da(t,e){return e.key===t.key&&e.tag===t.tag}var pa=function(t){return t.tag||wn(t)},ma=function(t){return"show"===t.name},ga={name:"transition",props:ua,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(pa),n.length)){0;var r=this.mode;0;var i=n[0];if(fa(this.$vnode))return i;var o=ca(i);if(!o)return i;if(this._leaving)return ha(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=la(this),c=this._vnode,l=ca(c);if(o.data.directives&&o.data.directives.some(ma)&&(o.data.show=!0),l&&l.data&&!da(o,l)&&!wn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=L({},u);if("out-in"===r)return this._leaving=!0,xe(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ha(t,i);if("in-out"===r){if(wn(o))return c;var f,d=function(){f()};xe(u,"afterEnter",d),xe(u,"enterCancelled",d),xe(h,"delayLeave",(function(t){f=t}))}}return i}}},va=L({tag:String,moveClass:String},ua);delete va.mode;var ya={props:va,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Ln(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=la(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(_a),t.forEach(ba),t.forEach(xa),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;No(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Do,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Do,t),n._moveCb=null,ko(n,e))})}})))},methods:{hasMove:function(t,e){if(!Mo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){To(n,t)})),wo(n,e),n.style.display="none",this.$el.appendChild(n);var r=Bo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function _a(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ba(t){t.data.newPos=t.elm.getBoundingClientRect()}function xa(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var wa={Transition:ga,TransitionGroup:ya};Tr.config.mustUseProp=zr,Tr.config.isReservedTag=oi,Tr.config.isReservedAttr=Fr,Tr.config.getTagNamespace=ai,Tr.config.isUnknownElement=ui,L(Tr.options.directives,sa),L(Tr.options.components,wa),Tr.prototype.__patch__=Z?Zo:P,Tr.prototype.$mount=function(t,e){return t=t&&Z?li(t):void 0,Rn(this,t,e)},Z&&setTimeout((function(){H.devtools&&ct&&ct.emit("init",Tr)}),0),e["default"]=Tr}.call(this,n("c8ba"))},"2b17":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return x})),n.d(e,"e",(function(){return T}));var r,i,o,a,s,u=n("6d8b"),c=n("e0d3"),l=n("ec6f"),h=n("07fd"),f=function(){function t(t,e){var n=Object(l["e"])(t)?t:Object(l["c"])(t);this._source=n;var r=this._data=n.data;n.sourceFormat===h["g"]&&(this._offset=0,this._dimSize=e,this._data=r),s(this,r,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;s=function(t,i,o){var s=o.sourceFormat,c=o.seriesLayoutBy,l=o.startIndex,f=o.dimensionsDefine,d=a[w(s,c)];if(Object(u["m"])(t,d),s===h["g"])t.getItem=e,t.count=r,t.fillStorage=n;else{var p=m(s,c);t.getItem=Object(u["c"])(p,null,i,l,f);var g=y(s,c);t.count=Object(u["c"])(g,null,i,l,f)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,i=r*t,o=0;o<r;o++)e[o]=n[i+o];return e},n=function(t,e,n,r){for(var i=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=r[a],u=null==s[0]?1/0:s[0],c=null==s[1]?-1/0:s[1],l=e-t,h=n[a],f=0;f<l;f++){var d=i[f*o+a];h[t+f]=d,d<u&&(u=d),d>c&&(c=d)}s[0]=u,s[1]=c}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}t={},t[h["c"]+"_"+h["a"]]={pure:!0,appendData:i},t[h["c"]+"_"+h["b"]]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[h["e"]]={pure:!0,appendData:i},t[h["d"]]={pure:!0,appendData:function(t){var e=this._data;Object(u["k"])(t,(function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])}))}},t[h["f"]]={appendData:i},t[h["g"]]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},a=t}(),t}(),d=function(t,e,n,r){return t[r]},p=(r={},r[h["c"]+"_"+h["a"]]=function(t,e,n,r){return t[r+e]},r[h["c"]+"_"+h["b"]]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,s=0;s<a.length;s++){var u=a[s];o[s]=u?u[r]:null}return o},r[h["e"]]=d,r[h["d"]]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){var s=n[a].name;0;var u=t[s];o[a]=u?u[r]:null}return o},r[h["f"]]=d,r);function m(t,e){var n=p[w(t,e)];return n}var g=function(t,e,n){return t.length},v=(i={},i[h["c"]+"_"+h["a"]]=function(t,e,n){return Math.max(0,t.length-e)},i[h["c"]+"_"+h["b"]]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},i[h["e"]]=g,i[h["d"]]=function(t,e,n){var r=n[0].name;var i=t[r];return i?i.length:0},i[h["f"]]=g,i);function y(t,e){var n=v[w(t,e)];return n}var _=function(t,e,n){return t[e]},b=(o={},o[h["c"]]=_,o[h["e"]]=function(t,e,n){return t[n]},o[h["d"]]=_,o[h["f"]]=function(t,e,n){var r=Object(c["h"])(t);return r instanceof Array?r[e]:r},o[h["g"]]=_,o);function x(t){var e=b[t];return e}function w(t,e){return t===h["c"]?t+"_"+e:t}function T(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i=t.getStore(),o=i.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=i.getDimensionProperty(a);return x(o)(r,a,s)}var u=r;return o===h["f"]&&(u=Object(c["h"])(r)),u}}}},"2c3e":function(t,e,n){var r=n("83ab"),i=n("9f7f").UNSUPPORTED_Y,o=n("9bf2").f,a=n("69f3").get,s=RegExp.prototype;r&&i&&o(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==s){if(this instanceof RegExp)return!!a(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},"2ca0":function(t,e,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),a=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".startsWith,h=Math.min,f=u("startsWith"),d=!c&&!f&&!!function(){var t=i(String.prototype,"startsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!d&&!f},{startsWith:function(t){var e=String(s(this));a(t);var n=o(h(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})},"2cf4":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u}));var r=1;"undefined"!==typeof window&&(r=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var i=r,o=.4,a="#333",s="#ccc",u="#eee"},"2cf49":function(t,e,n){var r,i,o,a=n("da84"),s=n("d039"),u=n("c6b6"),c=n("0366"),l=n("1be4"),h=n("cc12"),f=n("1cdc"),d=a.location,p=a.setImmediate,m=a.clearImmediate,g=a.process,v=a.MessageChannel,y=a.Dispatch,_=0,b={},x="onreadystatechange",w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},T=function(t){return function(){w(t)}},S=function(t){w(t.data)},O=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&m||(p=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(_),_},m=function(t){delete b[t]},"process"==u(g)?r=function(t){g.nextTick(T(t))}:y&&y.now?r=function(t){y.now(T(t))}:v&&!f?(i=new v,o=i.port2,i.port1.onmessage=S,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(O)||"file:"===d.protocol?r=x in h("script")?function(t){l.appendChild(h("script"))[x]=function(){l.removeChild(this),w(t)}}:function(t){setTimeout(T(t),0)}:(r=O,a.addEventListener("message",S,!1))),t.exports={set:p,clear:m}},"2d00":function(t,e,n){var r,i,o=n("da84"),a=n("342f"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?(r=c.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},"2d83":function(t,e,n){"use strict";var r=n("387f");t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},"2dc5":function(t,e,n){"use strict";var r=n("21a10"),i=n("6d8b"),o=n("d5b7"),a=n("9850"),s=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return Object(r["a"])(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=i["r"](this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,r=n[e];if(t&&t!==this&&t.parent!==this&&t!==r){n[e]=t,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,r=i["r"](n,t);return r<0||(n.splice(r,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var r=t[n];e&&r.removeSelfFromZr(e),r.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=t.call(e,r);r.isGroup&&!i&&r.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new a["a"](0,0,0,0),n=t||this._children,r=[],i=null,o=0;o<n.length;o++){var s=n[o];if(!s.ignore&&!s.invisible){var u=s.getBoundingRect(),c=s.getLocalTransform(r);c?(a["a"].applyTransform(e,u,c),i=i||e.clone(),i.union(e)):(i=i||u.clone(),i.union(u))}}return i||e},e}(o["a"]);s.prototype.type="group",e["a"]=s},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2f1f":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("6d8b"),i=Object(r["g"])();function o(t,e){Object(r["b"])(null==i.get(t)&&e),i.set(t,e)}function a(t,e,n){var r=i.get(e);if(!r)return n;var o=r(t);return o?n.concat(o):n}},"2f45":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("6d8b"),i=n("07fd"),o=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function a(t,e){var n={},a=n.encode={},u=Object(r["g"])(),l=[],h=[],f={};Object(r["k"])(t.dimensions,(function(e){var n=t.getDimensionInfo(e),r=n.coordDim;if(r){0;var o=n.coordDimIndex;s(a,r)[o]=e,n.isExtraCoord||(u.set(r,1),c(n.type)&&(l[0]=e),s(f,r)[o]=t.getDimensionIndex(n.name)),n.defaultTooltip&&h.push(e)}i["i"].each((function(t,e){var r=s(a,e),i=n.otherDims[e];null!=i&&!1!==i&&(r[i]=n.name)}))}));var d=[],p={};u.each((function(t,e){var n=a[e];p[e]=n[0],d=d.concat(n)})),n.dataDimsOnCoord=d,n.dataDimIndicesOnCoord=Object(r["H"])(d,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=p;var m=a.label;m&&m.length&&(l=m.slice());var g=a.tooltip;return g&&g.length?h=g.slice():h.length||(h=l.slice()),a.defaultedLabel=l,a.defaultedTooltip=h,n.userOutput=new o(f,e),n}function s(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function u(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function c(t){return!("ordinal"===t||"time"===t)}},"2f62":function(t,e,n){"use strict";
/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}n.d(e,"c",(function(){return C})),n.d(e,"b",(function(){return L}));var i="undefined"!==typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)})))}function a(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function s(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}var c=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},c.prototype.addChild=function(t,e){this._children[t]=e},c.prototype.removeChild=function(t){delete this._children[t]},c.prototype.getChild=function(t){return this._children[t]},c.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},c.prototype.forEachChild=function(t){a(this._children,t)},c.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},c.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},c.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(c.prototype,l);var h=function(t){this.register([],t,!1)};function f(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;f(t.concat(r),e.getChild(r),n.modules[r])}}h.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},h.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},h.prototype.update=function(t){f([],this.root,t)},h.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new c(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&a(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},h.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var d;var p=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!==typeof window&&window.Vue&&A(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d;var i=this,a=this,s=a.dispatch,u=a.commit;this.dispatch=function(t,e){return s.call(i,t,e)},this.commit=function(t,e,n){return u.call(i,t,e,n)},this.strict=r;var c=this._modules.root.state;_(this,c,[],this._modules.root),y(this,c),n.forEach((function(t){return t(e)}));var l=void 0!==t.devtools?t.devtools:d.config.devtools;l&&o(this)},m={state:{configurable:!0}};function g(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function v(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;_(t,n,[],t._modules.root,!0),y(t,n,e)}function y(t,e,n){var r=t._vm;t.getters={};var i=t._wrappedGetters,o={};a(i,(function(e,n){o[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:o}),d.config.silent=s,t.strict&&O(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),d.nextTick((function(){return r.$destroy()})))}function _(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a]=r),!o&&!i){var s=M(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){d.set(s,u,r.state)}))}var c=r.context=b(t,a,n);r.forEachMutation((function(e,n){var r=a+n;w(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;T(t,r,i,c)})),r.forEachGetter((function(e,n){var r=a+n;S(t,r,e,c)})),r.forEachChild((function(r,o){_(t,e,n.concat(o),r,i)}))}function b(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=E(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=E(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return x(t,e)}},state:{get:function(){return M(t.state,n)}}}),i}function x(t,e){var n={},r=e.length;return Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),n}function w(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function T(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e,i){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e,i);return u(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}function S(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function O(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function M(t,e){return e.length?e.reduce((function(t,e){return t[e]}),t):t}function E(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function A(t){d&&t===d||(d=t,r(d))}m.state.get=function(){return this._vm._data.$$state},m.state.set=function(t){0},p.prototype.commit=function(t,e,n){var r=this,i=E(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(a)}))})),this._subscribers.forEach((function(t){return t(s,r.state)})))},p.prototype.dispatch=function(t,e){var n=this,r=E(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(c){0}var u=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return u.then((function(t){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(c){0}return t}))}},p.prototype.subscribe=function(t){return g(t,this._subscribers)},p.prototype.subscribeAction=function(t){var e="function"===typeof t?{before:t}:t;return g(e,this._actionSubscribers)},p.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},p.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},p.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),_(this,this.state,t,this._modules.get(t),n.preserveState),y(this,this.state)},p.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=M(e.state,t.slice(0,-1));d.delete(n,t[t.length-1])})),v(this)},p.prototype.hotUpdate=function(t){this._modules.update(t),v(this,!0)},p.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(p.prototype,m);var C=N((function(t,e){var n={};return R(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=k(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),D=N((function(t,e){var n={};return R(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=k(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),L=N((function(t,e){var n={};return R(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||k(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),I=N((function(t,e){var n={};return R(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=k(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),P=function(t){return{mapState:C.bind(null,t),mapGetters:L.bind(null,t),mapMutations:D.bind(null,t),mapActions:I.bind(null,t)}};function R(t){return Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}}))}function N(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function k(t,e,n){var r=t._modulesNamespaceMap[n];return r}var j={Store:p,install:A,version:"3.1.0",mapState:C,mapMutations:D,mapGetters:L,mapActions:I,createNamespacedHelpers:P};e["a"]=j},"2f9a":function(t,e){t.exports=function(){}},"301c":function(t,e,n){n("e198")("asyncIterator")},"30b5":function(t,e,n){"use strict";var r=n("c532");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},"323e":function(t,e,n){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(o,a){r=a,i="function"===typeof r?r.call(e,n,e,t):r,void 0===i||(t.exports=i)})(0,(function(){var t={version:"0.2.0"},e=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(t,e,n){return t<e?e:t>n?n:t}function r(t){return 100*(-1+t)}function i(t,n,i){var o;return o="translate3d"===e.positionUsing?{transform:"translate3d("+r(t)+"%,0,0)"}:"translate"===e.positionUsing?{transform:"translate("+r(t)+"%,0)"}:{"margin-left":r(t)+"%"},o.transition="all "+n+"ms "+i,o}t.configure=function(t){var n,r;for(n in t)r=t[n],void 0!==r&&t.hasOwnProperty(n)&&(e[n]=r);return this},t.status=null,t.set=function(r){var s=t.isStarted();r=n(r,e.minimum,1),t.status=1===r?null:r;var u=t.render(!s),c=u.querySelector(e.barSelector),l=e.speed,h=e.easing;return u.offsetWidth,o((function(n){""===e.positionUsing&&(e.positionUsing=t.getPositioningCSS()),a(c,i(r,l,h)),1===r?(a(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout((function(){a(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),l)}),l)):setTimeout(n,l)})),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),e.trickleSpeed)};return e.trickle&&n(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var r=t.status;return r?("number"!==typeof e&&(e=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+e,0,.994),t.set(r)):t.start()},t.trickle=function(){return t.inc(Math.random()*e.trickleRate)},function(){var e=0,n=0;t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always((function(){n--,0===n?(e=0,t.done()):t.set((e-n)/e)})),this):this}}(),t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=e.template;var o,s=i.querySelector(e.barSelector),c=n?"-100":r(t.status||0),l=document.querySelector(e.parent);return a(s,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),e.showSpinner||(o=i.querySelector(e.spinnerSelector),o&&h(o)),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(i),i},t.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(e.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&h(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),a=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function r(e){var n=document.body.style;if(e in n)return e;var r,i=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);while(i--)if(r=t[i]+o,r in n)return r;return e}function i(t){return t=n(t),e[t]||(e[t]=r(t))}function o(t,e,n){e=i(e),t.style[e]=n}return function(t,e){var n,r,i=arguments;if(2==i.length)for(n in e)r=e[n],void 0!==r&&e.hasOwnProperty(n)&&o(t,n,r);else o(t,i[1],i[2])}}();function s(t,e){var n="string"==typeof t?t:l(t);return n.indexOf(" "+e+" ")>=0}function u(t,e){var n=l(t),r=n+e;s(n,e)||(t.className=r.substring(1))}function c(t,e){var n,r=l(t);s(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function l(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function h(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t}))},3397:function(t,e,n){var r=n("7a41");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},3410:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("7b0b"),a=n("e163"),s=n("e177"),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},"342d":function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return A})),n.d(e,"d",(function(){return C})),n.d(e,"a",(function(){return D}));var r=n("21a10"),i=n("cbe5"),o=n("20c8"),a=n("401b"),s=o["a"].CMD,u=[[],[],[]],c=Math.sqrt,l=Math.atan2;function h(t,e){if(e){var n,r,i,o,h,f,d=t.data,p=t.len(),m=s.M,g=s.C,v=s.L,y=s.R,_=s.A,b=s.Q;for(i=0,o=0;i<p;){switch(n=d[i++],o=i,r=0,n){case m:r=1;break;case v:r=1;break;case g:r=3;break;case b:r=2;break;case _:var x=e[4],w=e[5],T=c(e[0]*e[0]+e[1]*e[1]),S=c(e[2]*e[2]+e[3]*e[3]),O=l(-e[1]/S,e[0]/T);d[i]*=T,d[i++]+=x,d[i]*=S,d[i++]+=w,d[i++]*=T,d[i++]*=S,d[i++]+=O,d[i++]+=O,i+=2,o=i;break;case y:f[0]=d[i++],f[1]=d[i++],Object(a["b"])(f,f,e),d[o++]=f[0],d[o++]=f[1],f[0]+=d[i++],f[1]+=d[i++],Object(a["b"])(f,f,e),d[o++]=f[0],d[o++]=f[1]}for(h=0;h<r;h++){var M=u[h];M[0]=d[i++],M[1]=d[i++],Object(a["b"])(M,M,e),d[o++]=M[0],d[o++]=M[1]}}t.increaseVersion()}}var f=n("6d8b"),d=Math.sqrt,p=Math.sin,m=Math.cos,g=Math.PI;function v(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))}function _(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))}function b(t,e,n,r,i,o,a,s,u,c,l){var h=u*(g/180),f=m(h)*(t-n)/2+p(h)*(e-r)/2,v=-1*p(h)*(t-n)/2+m(h)*(e-r)/2,b=f*f/(a*a)+v*v/(s*s);b>1&&(a*=d(b),s*=d(b));var x=(i===o?-1:1)*d((a*a*(s*s)-a*a*(v*v)-s*s*(f*f))/(a*a*(v*v)+s*s*(f*f)))||0,w=x*a*v/s,T=x*-s*f/a,S=(t+n)/2+m(h)*w-p(h)*T,O=(e+r)/2+p(h)*w+m(h)*T,M=_([1,0],[(f-w)/a,(v-T)/s]),E=[(f-w)/a,(v-T)/s],A=[(-1*f-w)/a,(-1*v-T)/s],C=_(E,A);if(y(E,A)<=-1&&(C=g),y(E,A)>=1&&(C=0),C<0){var D=Math.round(C/g*1e6)/1e6;C=2*g+D%2*g}l.addData(c,S,O,a,s,M,C,h,o)}var x=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,w=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function T(t){var e=new o["a"];if(!t)return e;var n,r=0,i=0,a=r,s=i,u=o["a"].CMD,c=t.match(x);if(!c)return e;for(var l=0;l<c.length;l++){for(var h=c[l],f=h.charAt(0),d=void 0,p=h.match(w)||[],m=p.length,g=0;g<m;g++)p[g]=parseFloat(p[g]);var v=0;while(v<m){var y=void 0,_=void 0,T=void 0,S=void 0,O=void 0,M=void 0,E=void 0,A=r,C=i,D=void 0,L=void 0;switch(f){case"l":r+=p[v++],i+=p[v++],d=u.L,e.addData(d,r,i);break;case"L":r=p[v++],i=p[v++],d=u.L,e.addData(d,r,i);break;case"m":r+=p[v++],i+=p[v++],d=u.M,e.addData(d,r,i),a=r,s=i,f="l";break;case"M":r=p[v++],i=p[v++],d=u.M,e.addData(d,r,i),a=r,s=i,f="L";break;case"h":r+=p[v++],d=u.L,e.addData(d,r,i);break;case"H":r=p[v++],d=u.L,e.addData(d,r,i);break;case"v":i+=p[v++],d=u.L,e.addData(d,r,i);break;case"V":i=p[v++],d=u.L,e.addData(d,r,i);break;case"C":d=u.C,e.addData(d,p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]),r=p[v-2],i=p[v-1];break;case"c":d=u.C,e.addData(d,p[v++]+r,p[v++]+i,p[v++]+r,p[v++]+i,p[v++]+r,p[v++]+i),r+=p[v-2],i+=p[v-1];break;case"S":y=r,_=i,D=e.len(),L=e.data,n===u.C&&(y+=r-L[D-4],_+=i-L[D-3]),d=u.C,A=p[v++],C=p[v++],r=p[v++],i=p[v++],e.addData(d,y,_,A,C,r,i);break;case"s":y=r,_=i,D=e.len(),L=e.data,n===u.C&&(y+=r-L[D-4],_+=i-L[D-3]),d=u.C,A=r+p[v++],C=i+p[v++],r+=p[v++],i+=p[v++],e.addData(d,y,_,A,C,r,i);break;case"Q":A=p[v++],C=p[v++],r=p[v++],i=p[v++],d=u.Q,e.addData(d,A,C,r,i);break;case"q":A=p[v++]+r,C=p[v++]+i,r+=p[v++],i+=p[v++],d=u.Q,e.addData(d,A,C,r,i);break;case"T":y=r,_=i,D=e.len(),L=e.data,n===u.Q&&(y+=r-L[D-4],_+=i-L[D-3]),r=p[v++],i=p[v++],d=u.Q,e.addData(d,y,_,r,i);break;case"t":y=r,_=i,D=e.len(),L=e.data,n===u.Q&&(y+=r-L[D-4],_+=i-L[D-3]),r+=p[v++],i+=p[v++],d=u.Q,e.addData(d,y,_,r,i);break;case"A":T=p[v++],S=p[v++],O=p[v++],M=p[v++],E=p[v++],A=r,C=i,r=p[v++],i=p[v++],d=u.A,b(A,C,r,i,M,E,T,S,O,d,e);break;case"a":T=p[v++],S=p[v++],O=p[v++],M=p[v++],E=p[v++],A=r,C=i,r+=p[v++],i+=p[v++],d=u.A,b(A,C,r,i,M,E,T,S,O,d,e);break}}"z"!==f&&"Z"!==f||(d=u.Z,e.addData(d),r=a,i=s),n=d}return e.toStatic(),e}var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.applyTransform=function(t){},e}(i["b"]);function O(t){return null!=t.setData}function M(t,e){var n=T(t),r=Object(f["m"])({},e);return r.buildPath=function(t){if(O(t)){t.setData(n.data);var e=t.getContext();e&&t.rebuildPath(e,1)}else{e=t;n.rebuildPath(e,1)}},r.applyTransform=function(t){h(n,t),this.dirtyShape()},r}function E(t,e){return new S(M(t,e))}function A(t,e){var n=M(t,e),i=function(t){function e(e){var r=t.call(this,e)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return Object(r["a"])(e,t),e}(S);return i}function C(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var a=t[o];n.push(a.getUpdatedPathProxy(!0))}var s=new i["b"](e);return s.createPathProxy(),s.buildPath=function(t){if(O(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},s}function D(t,e){e=e||{};var n=new i["b"];return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?h(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},3437:function(t,e,n){"use strict";function r(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a;var s=t.createLinearGradient(r,o,i,a);return s}function i(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;e.global||(a=a*r+n.x,s=s*i+n.y,u*=o);var c=t.createRadialGradient(a,s,0,a,s,u);return c}function o(t,e,n){for(var o="radial"===e.type?i(t,e,n):r(t,e,n),a=e.colorStops,s=0;s<a.length;s++)o.addColorStop(a[s].offset,a[s].color);return o}function a(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}))},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"37e8":function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),a=n("df75");t.exports=r?Object.defineProperties:function(t,e){o(t);var n,r=a(e),s=r.length,u=0;while(s>u)i.f(t,n=r[u++],e[n]);return t}},3835:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function i(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}var o=n("06c5");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return r(t)||i(t,e)||Object(o["a"])(t,e)||a()}},3842:function(t,e,n){"use strict";n.d(e,"l",(function(){return s})),n.d(e,"p",(function(){return u})),n.d(e,"v",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return g})),n.d(e,"u",(function(){return v})),n.d(e,"k",(function(){return y})),n.d(e,"o",(function(){return b})),n.d(e,"r",(function(){return x})),n.d(e,"s",(function(){return w})),n.d(e,"m",(function(){return T})),n.d(e,"q",(function(){return S})),n.d(e,"t",(function(){return O})),n.d(e,"n",(function(){return M})),n.d(e,"j",(function(){return E})),n.d(e,"i",(function(){return A})),n.d(e,"d",(function(){return D}));var r=n("6d8b"),i=1e-4,o=20;function a(t){return t.replace(/^\s+|\s+$/g,"")}function s(t,e,n,r){var i=e[0],o=e[1],a=n[0],s=n[1],u=o-i,c=s-a;if(0===u)return 0===c?a:(a+s)/2;if(r)if(u>0){if(t<=i)return a;if(t>=o)return s}else{if(t>=i)return a;if(t<=o)return s}else{if(t===i)return a;if(t===o)return s}return(t-i)/u*c+a}function u(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?a(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function c(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),o),t=(+t).toFixed(e),n?t:+t}function l(t){return t.sort((function(t,e){return t-e})),t}function h(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return f(t)}function f(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-r)}function d(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function p(t,e,n){if(!t[e])return 0;var i=r["N"](t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===i)return 0;var o=Math.pow(10,n),a=r["H"](t,(function(t){return(isNaN(t)?0:t)/i*o*100})),s=100*o,u=r["H"](a,(function(t){return Math.floor(t)})),c=r["N"](u,(function(t,e){return t+e}),0),l=r["H"](a,(function(t,e){return t-u[e]}));while(c<s){for(var h=Number.NEGATIVE_INFINITY,f=null,d=0,p=l.length;d<p;++d)l[d]>h&&(h=l[d],f=d);++u[f],l[f]=0,++c}return u[e]/o}function m(t,e){var n=Math.max(h(t),h(e)),r=t+e;return n>o?r:c(r,n)}var g=9007199254740991;function v(t){var e=2*Math.PI;return(t%e+e)%e}function y(t){return t>-i&&t<i}var _=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function b(t){if(t instanceof Date)return t;if("string"===typeof t){var e=_.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function x(t){return Math.pow(10,w(t))}function w(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function T(t,e){var n,r=w(t),i=Math.pow(10,r),o=t/i;return n=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10,t=n*i,r>=-20?+t.toFixed(r<0?-r:0):t}function S(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i}function O(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!==1?t.splice(r,1):r++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&s(t,e,1))}}function M(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!==typeof t||t.indexOf("x")<=0)?e:NaN}function E(t){return!isNaN(M(t))}function A(){return Math.round(9*Math.random())}function C(t,e){return 0===e?t:C(e,t%e)}function D(t,e){return null==t?e:null==e?t:t*e/C(t,e)}},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},"38a2":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("6d8b"),i=n("2b17"),o=n("eda2"),a=/\{@(.+?)\}/g,s=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),u=s&&s[n.getItemVisual(t,"drawType")||"fill"],c=s&&s.stroke,l=this.mainType,h="series"===l,f=n.userOutput&&n.userOutput.get();return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:i,data:a,dataType:e,value:r,color:u,borderColor:c,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,s,u,c){e=e||"normal";var l=this.getData(n),h=this.getDataParams(t,n);if(c&&(h.value=c.interpolatedValue),null!=s&&r["t"](h.value)&&(h.value=h.value[s]),!u){var f=l.getItemModel(t);u=f.get("normal"===e?["label","formatter"]:[e,"label","formatter"])}if("function"===typeof u)return h.status=e,h.dimensionIndex=s,u(h);if("string"===typeof u){var d=Object(o["f"])(u,h);return d.replace(a,(function(e,n){var o=n.length,a=n;"["===a.charAt(0)&&"]"===a.charAt(o-1)&&(a=+a.slice(1,o-1));var s=Object(i["e"])(l,t,a);if(c&&r["t"](c.interpolatedValue)){var u=l.getDimensionIndex(a);u>=0&&(s=c.interpolatedValue[u])}return null!=s?s+"":""}))}},t.prototype.getRawValue=function(t,e){return Object(i["e"])(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function u(t){var e,n;return r["A"](t)?t.type&&(n=t):e=t,{markupText:e,markupFragment:n}}},3901:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n("282b"),i=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],o=Object(r["a"])(i),a=function(){function t(){}return t.prototype.getLineStyle=function(t){return o(this,t)},t}()},"392f":function(t,e,n){"use strict";var r=n("21a10"),i=n("19eb"),o=n("9850"),a=[],s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Object(r["a"])(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o["a"](1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(a)),t.union(r)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){var o=this._displayables[i];if(o.contain(t,e))return!0}return!1},e}(i["c"]);e["a"]=s},3934:function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},"393a":function(t,e,n){"use strict";var r=n("e444"),i=n("512c"),o=n("ba01"),a=n("051b"),s=n("8a0d"),u=n("26dd"),c=n("92f0"),l=n("ce7a"),h=n("cc15")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,y,_,b){u(n,e,v);var x,w,T,S=function(t){if(!f&&t in A)return A[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",M=y==m,E=!1,A=t.prototype,C=A[h]||A[d]||y&&A[y],D=C||S(y),L=y?M?S("entries"):D:void 0,I="Array"==e&&A.entries||C;if(I&&(T=l(I.call(new t)),T!==Object.prototype&&T.next&&(c(T,O,!0),r||"function"==typeof T[h]||a(T,h,g))),M&&C&&C.name!==m&&(E=!0,D=function(){return C.call(this)}),r&&!b||!f&&!E&&A[h]||a(A,h,D),s[e]=D,s[O]=g,y)if(x={values:M?D:S(m),keys:_?D:S(p),entries:L},b)for(w in x)w in A||o(A,w,x[w]);else i(i.P+i.F*(f||E),e,x);return x}},"39ad":function(t,e,n){var r=n("6ca1"),i=n("d16a"),o=n("9d11");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3c4e":function(t,e,n){"use strict";var r=function(t){return i(t)&&!o(t)};function i(t){return!!t&&"object"===typeof t}function o(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||u(t)}var a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103;function u(t){return t.$$typeof===s}function c(t){return Array.isArray(t)?[]:{}}function l(t,e){var n=e&&!0===e.clone;return n&&r(t)?d(c(t),t,e):t}function h(t,e,n){var i=t.slice();return e.forEach((function(e,o){"undefined"===typeof i[o]?i[o]=l(e,n):r(e)?i[o]=d(t[o],e,n):-1===t.indexOf(e)&&i.push(l(e,n))})),i}function f(t,e,n){var i={};return r(t)&&Object.keys(t).forEach((function(e){i[e]=l(t[e],n)})),Object.keys(e).forEach((function(o){r(e[o])&&t[o]?i[o]=d(t[o],e[o],n):i[o]=l(e[o],n)})),i}function d(t,e,n){var r=Array.isArray(e),i=Array.isArray(t),o=n||{arrayMerge:h},a=r===i;if(a){if(r){var s=o.arrayMerge||h;return s(t,e,n)}return f(t,e,n)}return l(e,n)}d.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return d(t,n,e)}))};var p=d;t.exports=p},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"3db9":function(t,e,n){"use strict";function r(t){var e=new XMLHttpRequest;e.open("get",t.url),e.responseType=t.responseType||"text",t.onprogress&&(e.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.onprogress(n,e.loaded,e.total)}else t.onprogress(null)}),e.onload=function(n){e.status>=400?t.onerror&&t.onerror():t.onload&&t.onload(e.response)},t.onerror&&(e.onerror=t.onerror),e.send(null)}e["a"]={get:r}},"3eba":function(t,e,n){"use strict";var r=n("aa74");n.d(e,"a",(function(){return r["a"]})),n.d(e,"b",(function(){return r["b"]})),n.d(e,"c",(function(){return r["c"]})),n.d(e,"d",(function(){return r["d"]})),n.d(e,"e",(function(){return r["e"]})),n.d(e,"f",(function(){return r["f"]})),n.d(e,"g",(function(){return r["g"]})),n.d(e,"h",(function(){return r["h"]})),n.d(e,"i",(function(){return r["i"]})),n.d(e,"j",(function(){return r["j"]})),n.d(e,"k",(function(){return r["k"]})),n.d(e,"l",(function(){return r["l"]})),n.d(e,"m",(function(){return r["m"]})),n.d(e,"n",(function(){return r["n"]})),n.d(e,"o",(function(){return r["o"]})),n.d(e,"p",(function(){return r["q"]})),n.d(e,"q",(function(){return r["r"]})),n.d(e,"r",(function(){return r["s"]})),n.d(e,"s",(function(){return r["t"]})),n.d(e,"t",(function(){return r["u"]})),n.d(e,"u",(function(){return r["v"]})),n.d(e,"v",(function(){return r["w"]})),n.d(e,"w",(function(){return r["x"]})),n.d(e,"x",(function(){return r["y"]})),n.d(e,"y",(function(){return r["z"]}));var i=n("22b4"),o=(n("1be7"),n("f95e")),a=n("5e81"),s=n("ee29");Object(i["a"])([o["a"],a["a"]]);Object(i["a"])(s["a"])},"3f6b":function(t,e,n){t.exports={default:n("b9c7"),__esModule:!0}},"3f8c":function(t,e){t.exports={}},"401b":function(t,e,n){"use strict";function r(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function o(t){return[t[0],t[1]]}function a(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function u(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t){return Math.sqrt(h(t))}n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"p",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"o",(function(){return u})),n.d(e,"q",(function(){return c})),n.d(e,"i",(function(){return l})),n.d(e,"n",(function(){return f})),n.d(e,"m",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return _})),n.d(e,"l",(function(){return b})),n.d(e,"k",(function(){return x}));function h(t){return t[0]*t[0]+t[1]*t[1]}function f(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function d(t,e){var n=l(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function p(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var m=p;function g(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var v=g;function y(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function _(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function b(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function x(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},4041:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("e0d3"),i=Object(r["o"])(),o=Object(r["o"])(),a=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var o=Object(r["r"])(this.get("color",!0)),a=this.get("colorLayer",!0);return c(this,i,o,a,t,e,n)},t.prototype.clearColorPalette=function(){l(this,i)},t}();function s(t,e,n,i){var a=Object(r["r"])(t.get(["aria","decal","decals"]));return c(t,o,a,null,e,n,i)}function u(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function c(t,e,n,r,i,o,a){o=o||t;var s=e(o),c=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var h=null!=a&&r?u(r,a):n;if(h=h||n,h&&h.length){var f=h[c];return i&&(l[i]=f),s.paletteIdx=(c+1)%h.length,f}}function l(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}},"408a":function(t,e,n){var r=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"41b2":function(t,e,n){"use strict";e.__esModule=!0;var r=n("3f6b"),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},"41ef":function(t,e,n){"use strict";n.r(e),n.d(e,"parse",(function(){return v})),n.d(e,"lift",(function(){return b})),n.d(e,"toHex",(function(){return x})),n.d(e,"fastLerp",(function(){return w})),n.d(e,"fastMapToColor",(function(){return T})),n.d(e,"lerp",(function(){return S})),n.d(e,"mapToColor",(function(){return O})),n.d(e,"modifyHSL",(function(){return M})),n.d(e,"modifyAlpha",(function(){return E})),n.d(e,"stringify",(function(){return A})),n.d(e,"lum",(function(){return C})),n.d(e,"random",(function(){return D}));var r=n("d51b"),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return t=Math.round(t),t<0?0:t>255?255:t}function a(t){return t=Math.round(t),t<0?0:t>360?360:t}function s(t){return t<0?0:t>1?1:t}function u(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?o(parseFloat(e)/100*255):o(parseInt(e,10))}function c(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?s(parseFloat(e)/100):s(parseFloat(e))}function l(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){return t+(e-t)*n}function f(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new r["a"](20),m=null;function g(t,e){m&&d(m,e),m=p.put(t,m||e.slice())}function v(t,e){if(t){e=e||[];var n=p.get(t);if(n)return d(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in i)return d(e,i[r]),g(t,e),e;var o=r.length;if("#"!==r.charAt(0)){var a=r.indexOf("("),s=r.indexOf(")");if(-1!==a&&s+1===o){var l=r.substr(0,a),h=r.substr(a+1,s-(a+1)).split(","),m=1;switch(l){case"rgba":if(4!==h.length)return 3===h.length?f(e,+h[0],+h[1],+h[2],1):f(e,0,0,0,1);m=c(h.pop());case"rgb":return 3!==h.length?void f(e,0,0,0,1):(f(e,u(h[0]),u(h[1]),u(h[2]),m),g(t,e),e);case"hsla":return 4!==h.length?void f(e,0,0,0,1):(h[3]=c(h[3]),y(h,e),g(t,e),e);case"hsl":return 3!==h.length?void f(e,0,0,0,1):(y(h,e),g(t,e),e);default:return}}f(e,0,0,0,1)}else{if(4===o||5===o){var v=parseInt(r.slice(1,4),16);return v>=0&&v<=4095?(f(e,(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,5===o?parseInt(r.slice(4),16)/15:1),g(t,e),e):void f(e,0,0,0,1)}if(7===o||9===o){v=parseInt(r.slice(1,7),16);return v>=0&&v<=16777215?(f(e,(16711680&v)>>16,(65280&v)>>8,255&v,9===o?parseInt(r.slice(7),16)/255:1),g(t,e),e):void f(e,0,0,0,1)}}}}function y(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=c(t[1]),i=c(t[2]),a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return e=e||[],f(e,o(255*l(s,a,n+1/3)),o(255*l(s,a,n)),o(255*l(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function _(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,c=(s+a)/2;if(0===u)e=0,n=0;else{n=c<.5?u/(s+a):u/(2-s-a);var l=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-o)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+l-f:o===s&&(e=2/3+h-l),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,c];return null!=t[3]&&d.push(t[3]),d}}function b(t,e){var n=v(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return A(n,4===n.length?"rgba":"rgb")}}function x(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function w(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),u=e[i],c=e[a],l=r-i;return n[0]=o(h(u[0],c[0],l)),n[1]=o(h(u[1],c[1],l)),n[2]=o(h(u[2],c[2],l)),n[3]=s(h(u[3],c[3],l)),n}}var T=w;function S(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),u=v(e[i]),c=v(e[a]),l=r-i,f=A([o(h(u[0],c[0],l)),o(h(u[1],c[1],l)),o(h(u[2],c[2],l)),s(h(u[3],c[3],l))],"rgba");return n?{color:f,leftIndex:i,rightIndex:a,value:r}:f}}var O=S;function M(t,e,n,r){var i=v(t);if(t)return i=_(i),null!=e&&(i[0]=a(e)),null!=n&&(i[1]=c(n)),null!=r&&(i[2]=c(r)),A(y(i),"rgba")}function E(t,e){var n=v(t);if(n&&null!=e)return n[3]=s(e),A(n,"rgba")}function A(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function C(t,e){var n=v(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}function D(){var t=Math.round(255*Math.random()),e=Math.round(255*Math.random()),n=Math.round(255*Math.random());return"rgb("+t+","+e+","+n+")"}},"428f":function(t,e,n){var r=n("da84");t.exports=r},"42e5":function(t,e,n){"use strict";var r=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}();e["a"]=r},4319:function(t,e,n){"use strict";var r=n("22d1"),i=n("625e"),o=n("282b"),a=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],s=Object(o["a"])(a),u=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return s(this,t,e)},t}(),c=n("7837"),l=n("76a5"),h=["textStyle","color"],f=new l["a"],d=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(h):null)},t.prototype.getFont=function(){return Object(c["d"])({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){return f.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),f.update(),f.getBoundingRect()},t}(),p=d,m=n("3901"),g=n("551f"),v=n("6d8b"),y=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i]},t.prototype.mergeOption=function(t,e){Object(v["I"])(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var i=this.parentModel;i&&(r=i.getShallow(t))}return r},t.prototype.getModel=function(e,n){var r=null!=e,i=r?this.parsePath(e):null,o=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(o,n,this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){var t=this.constructor;return new t(Object(v["d"])(this.option))},t.prototype.parsePath=function(t){return"string"===typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!r["a"].node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length;r++)if(t[r]&&(n=n&&"object"===typeof n?n[t[r]]:null,null==n))break;return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Object(i["b"])(y),Object(i["a"])(y),Object(v["K"])(y,m["b"]),Object(v["K"])(y,g["b"]),Object(v["K"])(y,u),Object(v["K"])(y,p);e["a"]=y},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"448a":function(t,e,n){var r=n("2236"),i=n("11b0"),o=n("6613"),a=n("0676");function s(t){return r(t)||i(t)||o(t)||a()}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},"44ad":function(t,e,n){var r=n("d039"),i=n("c6b6"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},4573:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)},e}(i["b"]);a.prototype.type="ring",e["a"]=a},"466d":function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),o=n("50c4"),a=n("1d80"),s=n("8aa5"),u=n("14c3");r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=i(t),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;var h,f=[],d=0;while(null!==(h=u(a,c))){var p=String(h[0]);f[d]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),l)),d++}return 0===d?null:f}]}))},"467f":function(t,e,n){"use strict";var r=n("2d83");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},4755:function(t,e,n){"use strict";var r=Math.round(9*Math.random()),i="function"===typeof Object.defineProperty,o=function(){function t(){this._id="__ec_inner_"+r++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return i?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype["delete"]=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}();e["a"]=o},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),a=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},"48a9":function(t,e,n){"use strict";var r=n("21a10"),i=n("42e5"),o=function(t){function e(e,n,r,i,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type="linear",s.global=a||!1,s}return Object(r["a"])(e,t),e}(i["a"]);e["a"]=o},4930:function(t,e,n){var r=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4a3f":function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"g",(function(){return _})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return x})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return T})),n.d(e,"m",(function(){return S})),n.d(e,"j",(function(){return O})),n.d(e,"n",(function(){return M})),n.d(e,"l",(function(){return E})),n.d(e,"k",(function(){return A}));var r=n("401b"),i=Math.pow,o=Math.sqrt,a=1e-8,s=1e-4,u=o(3),c=1/3,l=Object(r["e"])(),h=Object(r["e"])(),f=Object(r["e"])();function d(t){return t>-a&&t<a}function p(t){return t>a||t<-a}function m(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function g(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function v(t,e,n,r,a,s){var l=r+3*(e-n)-t,h=3*(n-2*e+t),f=3*(e-t),p=t-a,m=h*h-3*l*f,g=h*f-9*l*p,v=f*f-3*h*p,y=0;if(d(m)&&d(g))if(d(h))s[0]=0;else{var _=-f/h;_>=0&&_<=1&&(s[y++]=_)}else{var b=g*g-4*m*v;if(d(b)){var x=g/m,w=(_=-h/l+x,-x/2);_>=0&&_<=1&&(s[y++]=_),w>=0&&w<=1&&(s[y++]=w)}else if(b>0){var T=o(b),S=m*h+1.5*l*(-g+T),O=m*h+1.5*l*(-g-T);S=S<0?-i(-S,c):i(S,c),O=O<0?-i(-O,c):i(O,c);_=(-h-(S+O))/(3*l);_>=0&&_<=1&&(s[y++]=_)}else{var M=(2*m*h-3*l*g)/(2*o(m*m*m)),E=Math.acos(M)/3,A=o(m),C=Math.cos(E),D=(_=(-h-2*A*C)/(3*l),w=(-h+A*(C+u*Math.sin(E)))/(3*l),(-h+A*(C-u*Math.sin(E)))/(3*l));_>=0&&_<=1&&(s[y++]=_),w>=0&&w<=1&&(s[y++]=w),D>=0&&D<=1&&(s[y++]=D)}}return y}function y(t,e,n,r,i){var a=6*n-12*e+6*t,s=9*e+3*r-3*t-9*n,u=3*e-3*t,c=0;if(d(s)){if(p(a)){var l=-u/a;l>=0&&l<=1&&(i[c++]=l)}}else{var h=a*a-4*s*u;if(d(h))i[0]=-a/(2*s);else if(h>0){var f=o(h),m=(l=(-a+f)/(2*s),(-a-f)/(2*s));l>=0&&l<=1&&(i[c++]=l),m>=0&&m<=1&&(i[c++]=m)}}return c}function _(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,c=(s-a)*i+a,l=(u-s)*i+s,h=(l-c)*i+c;o[0]=t,o[1]=a,o[2]=c,o[3]=h,o[4]=h,o[5]=l,o[6]=u,o[7]=r}function b(t,e,n,i,a,u,c,d,p,g,v){var y,_,b,x,w,T=.005,S=1/0;l[0]=p,l[1]=g;for(var O=0;O<1;O+=.05)h[0]=m(t,n,a,c,O),h[1]=m(e,i,u,d,O),x=Object(r["g"])(l,h),x<S&&(y=O,S=x);S=1/0;for(var M=0;M<32;M++){if(T<s)break;_=y-T,b=y+T,h[0]=m(t,n,a,c,_),h[1]=m(e,i,u,d,_),x=Object(r["g"])(h,l),_>=0&&x<S?(y=_,S=x):(f[0]=m(t,n,a,c,b),f[1]=m(e,i,u,d,b),w=Object(r["g"])(f,l),b<=1&&w<S?(y=b,S=w):T*=.5)}return v&&(v[0]=m(t,n,a,c,y),v[1]=m(e,i,u,d,y)),o(S)}function x(t,e,n,r,i,o,a,s,u){for(var c=t,l=e,h=0,f=1/u,d=1;d<=u;d++){var p=d*f,g=m(t,n,i,a,p),v=m(e,r,o,s,p),y=g-c,_=v-l;h+=Math.sqrt(y*y+_*_),c=g,l=v}return h}function w(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function T(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function S(t,e,n,r,i){var a=t-2*e+n,s=2*(e-t),u=t-r,c=0;if(d(a)){if(p(s)){var l=-u/s;l>=0&&l<=1&&(i[c++]=l)}}else{var h=s*s-4*a*u;if(d(h)){l=-s/(2*a);l>=0&&l<=1&&(i[c++]=l)}else if(h>0){var f=o(h),m=(l=(-s+f)/(2*a),(-s-f)/(2*a));l>=0&&l<=1&&(i[c++]=l),m>=0&&m<=1&&(i[c++]=m)}}return c}function O(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function M(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function E(t,e,n,i,a,u,c,d,p){var m,g=.005,v=1/0;l[0]=c,l[1]=d;for(var y=0;y<1;y+=.05){h[0]=w(t,n,a,y),h[1]=w(e,i,u,y);var _=Object(r["g"])(l,h);_<v&&(m=y,v=_)}v=1/0;for(var b=0;b<32;b++){if(g<s)break;var x=m-g,T=m+g;h[0]=w(t,n,a,x),h[1]=w(e,i,u,x);_=Object(r["g"])(h,l);if(x>=0&&_<v)m=x,v=_;else{f[0]=w(t,n,a,T),f[1]=w(e,i,u,T);var S=Object(r["g"])(f,l);T<=1&&S<v?(m=T,v=S):g*=.5}}return p&&(p[0]=w(t,n,a,m),p[1]=w(e,i,u,m)),o(v)}function A(t,e,n,r,i,o,a){for(var s=t,u=e,c=0,l=1/a,h=1;h<=a;h++){var f=h*l,d=w(t,n,i,f),p=w(e,r,o,f),m=d-s,g=p-u;c+=Math.sqrt(m*m+g*g),s=d,u=p}return c}},"4aa2":function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=n("20c8"),a=Math.PI,s=2*a,u=Math.sin,c=Math.cos,l=Math.acos,h=Math.atan2,f=Math.abs,d=Math.sqrt,p=Math.max,m=Math.min,g=1e-4;function v(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=h*u-l*c;if(!(f*f<g))return f=(l*(e-o)-h*(t-i))/f,[t+f*u,e+f*c]}function y(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/d(s*s+u*u),l=c*u,h=-c*s,f=t+l,m=e+h,g=n+l,v=r+h,y=(f+g)/2,_=(m+v)/2,b=g-f,x=v-m,w=b*b+x*x,T=i-o,S=f*v-g*m,O=(x<0?-1:1)*d(p(0,T*T*w-S*S)),M=(S*x-b*O)/w,E=(-S*b-x*O)/w,A=(S*x+b*O)/w,C=(-S*b+x*O)/w,D=M-y,L=E-_,I=A-y,P=C-_;return D*D+L*L>I*I+P*P&&(M=A,E=C),{cx:M,cy:E,x01:-l,y01:-h,x11:M*(i/T-1),y11:E*(i/T-1)}}function _(t,e){var n=p(e.r,0),r=p(e.r0||0,0),i=n>0,_=r>0;if(i||_){if(i||(n=r,r=0),r>n){var b=n;n=r,r=b}var x,w=!!e.clockwise,T=e.startAngle,S=e.endAngle;if(T===S)x=0;else{var O=[T,S];Object(o["b"])(O,!w),x=f(O[0]-O[1])}var M=e.cx,E=e.cy,A=e.cornerRadius||0,C=e.innerCornerRadius||0;if(n>g)if(x>s-g)t.moveTo(M+n*c(T),E+n*u(T)),t.arc(M,E,n,T,S,!w),r>g&&(t.moveTo(M+r*c(S),E+r*u(S)),t.arc(M,E,r,S,T,w));else{var D=f(n-r)/2,L=m(D,A),I=m(D,C),P=I,R=L,N=n*c(T),k=n*u(T),j=r*c(S),F=r*u(S),B=void 0,z=void 0,U=void 0,H=void 0;if((L>g||I>g)&&(B=n*c(S),z=n*u(S),U=r*c(T),H=r*u(T),x<a)){var G=v(N,k,U,H,B,z,j,F);if(G){var V=N-G[0],W=k-G[1],q=B-G[0],X=z-G[1],Y=1/u(l((V*q+W*X)/(d(V*V+W*W)*d(q*q+X*X)))/2),$=d(G[0]*G[0]+G[1]*G[1]);P=m(I,(r-$)/(Y-1)),R=m(L,(n-$)/(Y+1))}}if(x>g)if(R>g){var Z=y(U,H,N,k,n,R,w),K=y(B,z,j,F,n,R,w);t.moveTo(M+Z.cx+Z.x01,E+Z.cy+Z.y01),R<L?t.arc(M+Z.cx,E+Z.cy,R,h(Z.y01,Z.x01),h(K.y01,K.x01),!w):(t.arc(M+Z.cx,E+Z.cy,R,h(Z.y01,Z.x01),h(Z.y11,Z.x11),!w),t.arc(M,E,n,h(Z.cy+Z.y11,Z.cx+Z.x11),h(K.cy+K.y11,K.cx+K.x11),!w),t.arc(M+K.cx,E+K.cy,R,h(K.y11,K.x11),h(K.y01,K.x01),!w))}else t.moveTo(M+N,E+k),t.arc(M,E,n,T,S,!w);else t.moveTo(M+N,E+k);if(r>g&&x>g)if(P>g){Z=y(j,F,B,z,r,-P,w),K=y(N,k,U,H,r,-P,w);t.lineTo(M+Z.cx+Z.x01,E+Z.cy+Z.y01),P<I?t.arc(M+Z.cx,E+Z.cy,P,h(Z.y01,Z.x01),h(K.y01,K.x01),!w):(t.arc(M+Z.cx,E+Z.cy,P,h(Z.y01,Z.x01),h(Z.y11,Z.x11),!w),t.arc(M,E,r,h(Z.cy+Z.y11,Z.cx+Z.x11),h(K.cy+K.y11,K.cx+K.x11),w),t.arc(M+K.cx,E+K.cy,P,h(K.y11,K.x11),h(K.y01,K.x01),!w))}else t.lineTo(M+j,E+F),t.arc(M,E,r,S,T,w);else t.lineTo(M+j,E+F)}else t.moveTo(M,E);t.closePath()}}var b=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0}return t}(),x=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new b},e.prototype.buildPath=function(t,e){_(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(i["b"]);x.prototype.type="sector";e["a"]=x},"4b8b":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"4bc4":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o}));var r=1,i=2,o=4},"4d20":function(t,e,n){var r=n("1917"),i=n("10db"),o=n("6ca1"),a=n("3397"),s=n("9c0e"),u=n("faf5"),c=Object.getOwnPropertyDescriptor;e.f=n("0bad")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},"4d63":function(t,e,n){var r=n("83ab"),i=n("da84"),o=n("94ca"),a=n("7156"),s=n("9bf2").f,u=n("241c").f,c=n("44e7"),l=n("ad6d"),h=n("9f7f"),f=n("6eeb"),d=n("d039"),p=n("69f3").set,m=n("2626"),g=n("b622"),v=g("match"),y=i.RegExp,_=y.prototype,b=/a/g,x=/a/g,w=new y(b)!==b,T=h.UNSUPPORTED_Y,S=r&&o("RegExp",!w||T||d((function(){return x[v]=!1,y(b)!=b||y(x)==x||"/a/i"!=y(b,"i")})));if(S){var O=function(t,e){var n,r=this instanceof O,i=c(t),o=void 0===e;if(!r&&i&&t.constructor===O&&o)return t;w?i&&!o&&(t=t.source):t instanceof O&&(o&&(e=l.call(t)),t=t.source),T&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=a(w?new y(t,e):y(t,e),r?this:_,O);return T&&n&&p(s,{sticky:n}),s},M=function(t){t in O||s(O,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},E=u(y),A=0;while(E.length>A)M(E[A++]);_.constructor=O,O.prototype=_,f(i,"RegExp",O)}m("RegExp")},"4d64":function(t,e,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4d88":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"4d90":function(t,e,n){"use strict";var r=n("23e7"),i=n("0ccb").start,o=n("9a0c");r({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),a=n("ae40"),s=o("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),u=n("8418"),c=n("35a1");t.exports=function(t){var e,n,l,h,f,d,p=i(t),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,_=c(p),b=0;if(y&&(v=r(v,g>2?arguments[2]:void 0,2)),void 0==_||m==Array&&a(_))for(e=s(p.length),n=new m(e);e>b;b++)d=y?v(p[b],b):p[b],u(n,b,d);else for(h=_.call(p),f=h.next,n=new m;!(l=f.call(h)).done;b++)d=y?o(h,v,[l.value,b],!0):l.value,u(n,b,d);return n.length=b,n}},"4e71":function(t,e,n){n("e198")("observable")},"4e82":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),o=n("7b0b"),a=n("d039"),s=n("a640"),u=[],c=u.sort,l=a((function(){u.sort(void 0)})),h=a((function(){u.sort(null)})),f=s("sort"),d=l||!h||!f;r({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},"4ebc":function(t,e,n){var r=n("4d88");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"4f85":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("7fae"),i=n("6d8b"),o=n("22d1"),a=n("e0d3"),s=n("6cb7"),u=n("4041"),c=n("38a2"),l=n("f934"),h=n("9fbc"),f=n("625e"),d=n("f72b"),p=n("f6d8"),m=a["o"]();function g(t,e){return t.getName(e)||t.getId(e)}var v="__universalTransitionEnabled",y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Object(r["b"])(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=Object(h["a"])({count:x,reset:w}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n);var r=m(this).sourceManager=new d["a"](this);r.prepareSource();var i=this.getInitialData(t,n);S(i,this),this.dataTask.context.data=i,m(this).dataBeforeProcessed=i,_(this),this._initSelectedMapFromData(i)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=Object(l["d"])(this),r=n?Object(l["f"])(t):{},o=this.subType;s["a"].hasClass(o)&&(o+="Series"),i["I"](t,e.getTheme().get(this.subType)),i["I"](t,this.getDefaultOption()),a["f"](t,"label",["show"]),this.fillDataTextStyle(t.data),n&&Object(l["h"])(t,r,n)},e.prototype.mergeOption=function(t,e){t=i["I"](this.option,t,!0),this.fillDataTextStyle(t.data);var n=Object(l["d"])(this);n&&Object(l["h"])(this.option,t,n);var r=m(this).sourceManager;r.dirty(),r.prepareSource();var o=this.getInitialData(t,e);S(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,m(this).dataBeforeProcessed=o,_(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!i["E"](t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&a["f"](t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)},e.prototype.getData=function(t){var e=M(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return m(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=M(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}m(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return i["g"](t)},e.prototype.getSourceManager=function(){return m(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return m(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Object(p["a"])({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){if(o["a"].node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var r=this.ecModel,i=u["a"].prototype.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n)for(var r=this.getData(e),i=0;i<t.length;i++){var o=t[i],a=g(r,o);n[a]=!1,this._selectedDataIndicesMap[a]=-1}},e.prototype.toggleSelect=function(t,e){for(var n=[],r=0;r<t.length;r++)n[0]=t[r],this.isSelected(t[r],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=i["F"](t),n=[],r=0;r<e.length;r++){var o=t[e[r]];o>=0&&n.push(o)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(e),i=g(r,t);return n[i]||!1},e.prototype.isUniversalTransitionEnabled=function(){if(this[v])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,r,i=this.option.selectedMode,o=e.length;if(i&&o)if("multiple"===i)for(var a=this.option.selectedMap||(this.option.selectedMap={}),s=0;s<o;s++){var u=e[s],c=g(t,u);a[c]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(u)}else if("single"===i||!0===i){var l=e[o-1];c=g(t,l);this.option.selectedMap=(n={},n[c]=!0,n),this._selectedDataIndicesMap=(r={},r[c]=t.getRawIndex(l),r)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var r=t.getRawDataItem(n);r&&r.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return s["a"].registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(s["a"]);function _(t){var e=t.name;a["n"](t)||(t.name=b(t)||e)}function b(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return i["k"](n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)})),r.join(" ")}function x(t){return t.model.getRawData().count()}function w(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),T}function T(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function S(t,e){i["k"](i["e"](t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,i["i"](O,e))}))}function O(t,e){var n=M(t);return n&&n.setOutputEnd((e||this).count()),e}function M(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}i["K"](y,c["a"]),i["K"](y,u["a"]),Object(f["e"])(y,s["a"]),e["b"]=y},"4fac":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("401b");function i(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function o(t,e){for(var n=t.length,o=[],a=0,s=1;s<n;s++)a+=Object(r["h"])(t[s-1],t[s]);var u=a/2;u=u<n?n:u;for(s=0;s<u;s++){var c=s/(u-1)*(e?n:n-1),l=Math.floor(c),h=c-l,f=void 0,d=t[l%n],p=void 0,m=void 0;e?(f=t[(l-1+n)%n],p=t[(l+1)%n],m=t[(l+2)%n]):(f=t[0===l?l:l-1],p=t[l>n-2?n-1:l+1],m=t[l>n-3?n-1:l+2]);var g=h*h,v=h*g;o.push([i(f[0],d[0],p[0],m[0],h,g,v),i(f[1],d[1],p[1],m[1],h,g,v)])}return o}function a(t,e,n,i){var o,a,s,u,c=[],l=[],h=[],f=[];if(i){s=[1/0,1/0],u=[-1/0,-1/0];for(var d=0,p=t.length;d<p;d++)Object(r["l"])(s,s,t[d]),Object(r["k"])(u,u,t[d]);Object(r["l"])(s,s,i[0]),Object(r["k"])(u,u,i[1])}for(d=0,p=t.length;d<p;d++){var m=t[d];if(n)o=t[d?d-1:p-1],a=t[(d+1)%p];else{if(0===d||d===p-1){c.push(Object(r["c"])(t[d]));continue}o=t[d-1],a=t[d+1]}Object(r["q"])(l,a,o),Object(r["n"])(l,l,e);var g=Object(r["h"])(m,o),v=Object(r["h"])(m,a),y=g+v;0!==y&&(g/=y,v/=y),Object(r["n"])(h,l,-g),Object(r["n"])(f,l,v);var _=Object(r["a"])([],m,h),b=Object(r["a"])([],m,f);i&&(Object(r["k"])(_,_,s),Object(r["l"])(_,_,u),Object(r["k"])(b,b,s),Object(r["l"])(b,b,u)),c.push(_),c.push(b)}return n&&c.push(c.shift()),c}function s(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r&&"spline"!==r){var s=a(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var u=i.length,c=0;c<(n?u:u-1);c++){var l=s[2*c],h=s[2*c+1],f=i[(c+1)%u];t.bezierCurveTo(l[0],l[1],h[0],h[1],f[0],f[1])}}else{"spline"===r&&(i=o(i,n)),t.moveTo(i[0][0],i[0][1]);c=1;for(var d=i.length;c<d;c++)t.lineTo(i[c][0],i[c][1])}n&&t.closePath()}}},"50c4":function(t,e,n){var r=n("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"511f":function(t,e,n){n("0b99"),n("658f"),t.exports=n("fcd4").f("iterator")},"512c":function(t,e,n){var r=n("ef08"),i=n("5524"),o=n("9c0c"),a=n("051b"),s=n("9c0e"),u="prototype",c=function(t,e,n){var l,h,f,d=t&c.F,p=t&c.G,m=t&c.S,g=t&c.P,v=t&c.B,y=t&c.W,_=p?i:i[e]||(i[e]={}),b=_[u],x=p?r:m?r[e]:(r[e]||{})[u];for(l in p&&(n=e),n)h=!d&&x&&void 0!==x[l],h&&s(_,l)||(f=h?x[l]:n[l],_[l]=p&&"function"!=typeof x[l]?n[l]:v&&h?o(f,r):y&&x[l]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):g&&"function"==typeof f?o(Function.call,f):f,g&&((_.virtual||(_.virtual={}))[l]=f,t&c.R&&b&&!b[l]&&a(b,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5210:function(t,e,n){"use strict";n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return z})),n.d(e,"a",(function(){return U}));var r=n("19eb"),i=n("20c8"),o=n("5e76"),a=n("3437"),s=n("cbe5"),u=n("0da8"),c=n("dd4f"),l=n("e86a"),h=n("6d8b"),f=n("608a"),d=n("392f"),p=n("4bc4"),m=new i["a"](!0);function g(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function v(t){return"string"===typeof t&&"none"!==t}function y(t){var e=t.fill;return null!=e&&"none"!==e}function _(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function b(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function x(t,e,n){var r=Object(o["a"])(e.image,e.__image,n);if(Object(o["c"])(r)){var i=t.createPattern(r,e.repeat||"repeat");if("function"===typeof DOMMatrix&&i.setTransform){var a=new DOMMatrix;a.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),a.scaleSelf(e.scaleX||1,e.scaleY||1),a.translateSelf(e.x||0,e.y||0),i.setTransform(a)}return i}}function w(t,e,n,r){var i=g(n),o=y(n),s=n.strokePercent,u=s<1,c=!e.path;e.silent&&!u||!c||e.createPathProxy();var l=e.path||m;if(!r){var d=n.fill,v=n.stroke,w=o&&!!d.colorStops,T=i&&!!v.colorStops,S=o&&!!d.image,O=i&&!!v.image,M=void 0,E=void 0,A=void 0,C=void 0,D=void 0;(w||T)&&(D=e.getBoundingRect()),w&&(M=e.__dirty?Object(a["a"])(t,d,D):e.__canvasFillGradient,e.__canvasFillGradient=M),T&&(E=e.__dirty?Object(a["a"])(t,v,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=E),S&&(A=e.__dirty||!e.__canvasFillPattern?x(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=A),O&&(C=e.__dirty||!e.__canvasStrokePattern?x(t,v,e):e.__canvasStrokePattern,e.__canvasStrokePattern=A),w?t.fillStyle=M:S&&(A?t.fillStyle=A:o=!1),T?t.strokeStyle=E:O&&(C?t.strokeStyle=C:i=!1)}var L=n.lineDash&&n.lineWidth>0&&Object(f["a"])(n.lineDash,n.lineWidth),I=n.lineDashOffset,P=!!t.setLineDash,R=e.getGlobalScale();if(l.setScale(R[0],R[1],e.segmentIgnoreThreshold),L){var N=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;N&&1!==N&&(L=Object(h["H"])(L,(function(t){return t/N})),I/=N)}var k=!0;(c||e.__dirty&p["b"]||L&&!P&&i)&&(l.setDPR(t.dpr),u?l.setContext(null):(l.setContext(t),k=!1),l.reset(),L&&!P&&(l.setLineDash(L),l.setLineDashOffset(I)),e.buildPath(l,e.shape,r),l.toStatic(),e.pathUpdated()),k&&l.rebuildPath(t,u?s:1),L&&P&&(t.setLineDash(L),t.lineDashOffset=I),r||(n.strokeFirst?(i&&b(t,n),o&&_(t,n)):(o&&_(t,n),i&&b(t,n))),L&&P&&t.setLineDash([])}function T(t,e,n){var r=e.__image=Object(o["a"])(n.image,e.__image,e,e.onload);if(r&&Object(o["c"])(r)){var i=n.x||0,a=n.y||0,s=e.getWidth(),u=e.getHeight(),c=r.width/r.height;if(null==s&&null!=u?s=u*c:null==u&&null!=s?u=s/c:null==s&&null==u&&(s=r.width,u=r.height),n.sWidth&&n.sHeight){var l=n.sx||0,h=n.sy||0;t.drawImage(r,l,h,n.sWidth,n.sHeight,i,a,s,u)}else if(n.sx&&n.sy){l=n.sx,h=n.sy;var f=s-l,d=u-h;t.drawImage(r,l,h,f,d,i,a,s,u)}else t.drawImage(r,i,a,s,u)}}function S(t,e,n){var r=n.text;if(null!=r&&(r+=""),r){t.font=n.font||l["a"],t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var i=void 0;if(t.setLineDash){var o=n.lineDash&&n.lineWidth>0&&Object(f["a"])(n.lineDash,n.lineWidth),a=n.lineDashOffset;if(o){var s=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(o=Object(h["H"])(o,(function(t){return t/s})),a/=s),t.setLineDash(o),t.lineDashOffset=a,i=!0}}n.strokeFirst?(g(n)&&t.strokeText(r,n.x,n.y),y(n)&&t.fillText(r,n.x,n.y)):(y(n)&&t.fillText(r,n.x,n.y),g(n)&&t.strokeText(r,n.x,n.y)),i&&t.setLineDash([])}}var O=["shadowBlur","shadowOffsetX","shadowOffsetY"],M=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function E(t,e,n,i,o){var a=!1;if(!i&&(n=n||{},e===n))return!1;if(i||e.opacity!==n.opacity){a||(F(t,o),a=!0);var s=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(s)?r["b"].opacity:s}(i||e.blend!==n.blend)&&(a||(F(t,o),a=!0),t.globalCompositeOperation=e.blend||r["b"].blend);for(var u=0;u<O.length;u++){var c=O[u];(i||e[c]!==n[c])&&(a||(F(t,o),a=!0),t[c]=t.dpr*(e[c]||0))}return(i||e.shadowColor!==n.shadowColor)&&(a||(F(t,o),a=!0),t.shadowColor=e.shadowColor||r["b"].shadowColor),a}function A(t,e,n,r,i){var o=B(e,i.inHover),a=r?null:n&&B(n,i.inHover)||{};if(o===a)return!1;var s=E(t,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(F(t,i),s=!0),v(o.fill)&&(t.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(F(t,i),s=!0),v(o.stroke)&&(t.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(F(t,i),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var u=o.lineWidth,c=u/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(s||(F(t,i),s=!0),t.lineWidth=c)}for(var l=0;l<M.length;l++){var h=M[l],f=h[0];(r||o[f]!==a[f])&&(s||(F(t,i),s=!0),t[f]=o[f]||h[1])}return s}function C(t,e,n,r,i){return E(t,B(e,i.inHover),n&&B(n,i.inHover),r,i)}function D(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function L(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=r||o.isZeroArea(),D(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=r}function I(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var P=1,R=2,N=3,k=4;function j(t){var e=y(t),n=g(t);return!(t.lineDash||!(+e^+n)||e&&"string"!==typeof t.fill||n&&"string"!==typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function F(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function B(t,e){return e&&t.__hoverStyle||t.style}function z(t,e){U(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function U(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~p["a"],void(e.__isRendered=!1);var o=e.__clipPaths,l=n.prevElClipPaths,h=!1,f=!1;if(l&&!Object(a["b"])(o,l)||(l&&l.length&&(F(t,n),t.restore(),f=h=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(F(t,n),t.save(),L(o,t,n),h=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var m=n.prevEl;m||(f=h=!0);var g=e instanceof s["b"]&&e.autoBatch&&j(e.style);h||I(i,m.transform)?(F(t,n),D(t,e)):g||F(t,n);var v=B(e,n.inHover);e instanceof s["b"]?(n.lastDrawType!==P&&(f=!0,n.lastDrawType=P),A(t,e,m,f,n),g&&(n.batchFill||n.batchStroke)||t.beginPath(),w(t,e,v,g),g&&(n.batchFill=v.fill||"",n.batchStroke=v.stroke||"")):e instanceof c["a"]?(n.lastDrawType!==N&&(f=!0,n.lastDrawType=N),A(t,e,m,f,n),S(t,e,v)):e instanceof u["a"]?(n.lastDrawType!==R&&(f=!0,n.lastDrawType=R),C(t,e,m,f,n),T(t,e,v)):e instanceof d["a"]&&(n.lastDrawType!==k&&(f=!0,n.lastDrawType=k),H(t,e,n)),g&&r&&F(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function H(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=r.length;o<a;o++){var u=r[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),U(t,u,s,o===a-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}for(var c=0,l=i.length;c<l;c++){u=i[c];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),U(t,u,s,c===l-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}},5270:function(t,e,n){"use strict";var r=n("c532"),i=n("c401"),o=n("2e67"),a=n("2444"),s=n("d925"),u=n("e683");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),o=n("7b0b"),a=n("50c4"),s=n("a691"),u=n("1d80"),c=n("8aa5"),l=n("14c3"),h=Math.max,f=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,_=v?"$":"$0";return[function(n,r){var i=u(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!v&&y||"string"===typeof r&&-1===r.indexOf(_)){var o=n(e,t,this,r);if(o.done)return o.value}var u=i(t),d=String(this),p="function"===typeof r;p||(r=String(r));var m=u.global;if(m){var x=u.unicode;u.lastIndex=0}var w=[];while(1){var T=l(u,d);if(null===T)break;if(w.push(T),!m)break;var S=String(T[0]);""===S&&(u.lastIndex=c(d,a(u.lastIndex),x))}for(var O="",M=0,E=0;E<w.length;E++){T=w[E];for(var A=String(T[0]),C=h(f(s(T.index),d.length),0),D=[],L=1;L<T.length;L++)D.push(g(T[L]));var I=T.groups;if(p){var P=[A].concat(D,C,d);void 0!==I&&P.push(I);var R=String(r.apply(void 0,P))}else R=b(A,d,C,D,I,r);C>=M&&(O+=d.slice(M,C)+R,M=C+A.length)}return O+d.slice(M)}];function b(t,n,r,i,a,s){var u=r+t.length,c=i.length,l=m;return void 0!==a&&(a=o(a),l=p),e.call(s,l,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>c){var h=d(l/10);return 0===h?e:h<=c?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))},"538f":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n("6d8b"),i=n("e86a"),o=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var o=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);Object(r["w"])(a)?this._modelMinNum=c(t,a({min:n[0],max:n[1]})):"dataMin"!==a&&(this._modelMinNum=c(t,a));var s=this._modelMaxRaw=e.get("max",!0);if(Object(r["w"])(s)?this._modelMaxNum=c(t,s({min:n[0],max:n[1]})):"dataMax"!==s&&(this._modelMaxNum=c(t,s)),o)this._axisDataLen=e.getCategories().length;else{var u=e.get("boundaryGap"),l=Object(r["t"])(u)?u:[u||0,u||0];"boolean"===typeof l[0]||"boolean"===typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Object(i["h"])(l[0],1),Object(i["h"])(l[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,u="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,c=null!=s,l=null!=u;null==s&&(s=t?i?0:NaN:e-o[0]*a),null==u&&(u=t?i?i-1:NaN:n+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==u||!isFinite(u))&&(u=NaN),s>u&&(s=NaN,u=NaN);var h=Object(r["l"])(s)||Object(r["l"])(u)||t&&!i;this._needCrossZero&&(s>0&&u>0&&!c&&(s=0),s<0&&u<0&&!l&&(u=0));var f=this._determinedMin,d=this._determinedMax;return null!=f&&(s=f,c=!0),null!=d&&(u=d,l=!0),{min:s,max:u,minFixed:c,maxFixed:l,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[s[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=a[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),a={min:"_determinedMin",max:"_determinedMax"},s={min:"_dataMin",max:"_dataMax"};function u(t,e,n){var r=t.rawExtentInfo;return r||(r=new o(t,e,n),t.rawExtentInfo=r,r)}function c(t,e){return null==e?null:Object(r["l"])(e)?NaN:t.parse(e)}},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},"551f":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n("282b"),i=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],o=Object(r["a"])(i),a=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return o(this,t,e)},t}()},5524:function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),i=n("241c"),o=n("7418"),a=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},"597f":function(t,e){t.exports=function(t,e,n,r){var i,o=0;function a(){var a=this,s=Number(new Date)-o,u=arguments;function c(){o=Number(new Date),n.apply(a,u)}function l(){i=void 0}r&&!i&&c(),i&&clearTimeout(i),void 0===r&&s>t?c():!0!==e&&(i=setTimeout(r?l:c,void 0===r?t-s:t))}return"boolean"!==typeof e&&(r=n,n=e,e=void 0),a}},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5a43":function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"5a94":function(t,e,n){var r=n("b367")("keys"),i=n("8b1a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"5b87":function(t,e,n){"use strict";var r,i=n("6d8b"),o=n("2dc5"),a=n("0da8"),s=n("d9fc"),u=n("c7a2"),c=n("ae69"),l=n("cb11"),h=n("87b1"),f=n("d498"),d=n("1687"),p=n("342d"),m=n("48a9"),g=n("dded"),v=n("dd4f");function y(t){if(Object(i["C"])(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var n=t;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var _={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},b=Object(i["F"])(_),x={"alignment-baseline":"textBaseline","stop-color":"stopColor"},w=Object(i["F"])(x),T=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=y(t);if(!n)throw new Error("Illegal svg");this._defsUsePending=[];var r=new o["a"];this._root=r;var i=[],a=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),c=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(c)&&(c=null),C(n,r,null,!0,!1);var l,h,f=n.firstChild;while(f)this._parseNode(f,r,i,null,!1,!1),f=f.nextSibling;if(P(this._defs,this._defsUsePending),this._defsUsePending=[],a){var d=N(a);d.length>=4&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=s&&null!=c&&(h=H(l,{x:0,y:0,width:s,height:c}),!e.ignoreViewBox)){var p=r;r=new o["a"],r.add(p),p.scaleX=p.scaleY=h.scale,p.x=h.x,p.y=h.y}return e.ignoreRootClip||null==s||null==c||r.setClipPath(new u["a"]({shape:{x:0,y:0,width:s,height:c}})),{root:r,width:s,height:c,viewBoxRect:l,viewBoxTransform:h,named:i}},t.prototype._parseNode=function(t,e,n,o,a,s){var u,c=t.nodeName.toLowerCase(),l=o;if("defs"===c&&(a=!0),"text"===c&&(s=!0),"defs"===c||"switch"===c)u=e;else{if(!a){var h=r[c];if(h&&Object(i["q"])(r,c)){u=h.call(this,t,e);var f=t.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:c,el:u};n.push(d),"g"===c&&(l=d)}else o&&n.push({name:o.name,namedFrom:o,svgNodeTagLower:c,el:u});e.add(u)}}var p=S[c];if(p&&Object(i["q"])(S,c)){var m=p.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=m)}}if(u&&u.isGroup){var v=t.firstChild;while(v)1===v.nodeType?this._parseNode(v,u,n,l,a,s):3===v.nodeType&&s&&this._parseText(v,u),v=v.nextSibling}},t.prototype._parseText=function(t,e){var n=new v["a"]({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});E(e,n),C(t,n,this._defsUsePending,!1,!1),D(n,e);var r=n.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var a=n.getBoundingRect();return this._textX+=a.width,e.add(n),n},t.internalField=function(){r={g:function(t,e){var n=new o["a"];return E(e,n),C(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new u["a"];return E(e,n),C(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new s["a"];return E(e,n),C(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new l["a"];return E(e,n),C(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new c["a"];return E(e,n),C(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,r=t.getAttribute("points");r&&(n=A(r));var i=new h["a"]({shape:{points:n||[]},silent:!0});return E(e,i),C(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,e){var n,r=t.getAttribute("points");r&&(n=A(r));var i=new f["a"]({shape:{points:n||[]},silent:!0});return E(e,i),C(t,i,this._defsUsePending,!1,!1),i},image:function(t,e){var n=new a["a"];return E(e,n),C(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(a);var s=new o["a"];return E(e,s),C(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",s=new o["a"];return E(e,s),C(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(a),s},path:function(t,e){var n=t.getAttribute("d")||"",r=Object(p["b"])(n);return E(e,r),C(t,r,this._defsUsePending,!1,!1),r.silent=!0,r}}}(),t}(),S={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),i=parseInt(t.getAttribute("y2")||"0",10),o=new m["a"](e,n,r,i);return O(t,o),M(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),i=new g["a"](e,n,r);return O(t,i),M(t,i),i}};function O(t,e){var n=t.getAttribute("gradientUnits");"userSpaceOnUse"===n&&(e.global=!0)}function M(t,e){var n=t.firstChild;while(n){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var r=n.getAttribute("offset"),i=void 0;i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o={};z(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:a})}n=n.nextSibling}}function E(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Object(i["j"])(e.__inheritedStyle,t.__inheritedStyle))}function A(t){for(var e=N(t),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),o=parseFloat(e[r+1]);n.push([i,o])}return n}function C(t,e,n,r,o){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},u={};1===t.nodeType&&(F(t,e),z(t,s,u),r||U(t,s,u)),a.style=a.style||{},null!=s.fill&&(a.style.fill=I(a,"fill",s.fill,n)),null!=s.stroke&&(a.style.stroke=I(a,"stroke",s.stroke,n)),Object(i["k"])(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=s[t]&&(a.style[t]=parseFloat(s[t]))})),Object(i["k"])(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=s[t]&&(a.style[t]=s[t])})),o&&(a.__selfStyle=u),s.lineDash&&(a.style.lineDash=Object(i["H"])(N(s.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==s.visibility&&"collapse"!==s.visibility||(a.invisible=!0),"none"===s.display&&(a.ignore=!0)}function D(t,e){var n=e.__selfStyle;if(n){var r=n.textBaseline,i=r;r&&"auto"!==r?"baseline"===r?i="alphabetic":"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":"central"!==r&&"mathematical"!==r||(i="middle"):i="alphabetic",t.style.textBaseline=i}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),t.style.textAlign=s)}}var L=/^url\(\s*#(.*?)\)/;function I(t,e,n,r){var o=n&&n.match(L);if(!o)return"none"===n&&(n=null),n;var a=Object(i["T"])(o[1]);r.push([t,e,a])}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r[0].style[r[1]]=t[r[2]]}}var R=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function N(t){return t.match(R)||[]}var k=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,j=Math.PI/180;function F(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(k,(function(t,e,n){return r.push(e,n),""}));for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1],u=N(a);switch(i=i||d["c"](),s){case"translate":d["i"](i,i,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":d["h"](i,i,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":d["g"](i,i,-parseFloat(u[0])*j);break;case"skewX":var c=Math.tan(parseFloat(u[0])*j);d["f"](i,[1,0,c,1,0,0],i);break;case"skewY":var l=Math.tan(parseFloat(u[0])*j);d["f"](i,[1,l,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(u[0]),i[1]=parseFloat(u[1]),i[2]=parseFloat(u[2]),i[3]=parseFloat(u[3]),i[4]=parseFloat(u[4]),i[5]=parseFloat(u[5]);break}}e.setLocalTransform(i)}}var B=/([^\s:;]+)\s*:\s*([^:;]+)/g;function z(t,e,n){var r=t.getAttribute("style");if(r){var o;B.lastIndex=0;while(null!=(o=B.exec(r))){var a=o[1],s=Object(i["q"])(_,a)?_[a]:null;s&&(e[s]=o[2]);var u=Object(i["q"])(x,a)?x[a]:null;u&&(n[u]=o[2])}}}function U(t,e,n){for(var r=0;r<b.length;r++){var i=b[r],o=t.getAttribute(i);null!=o&&(e[_[i]]=o)}for(r=0;r<w.length;r++){i=w[r],o=t.getAttribute(i);null!=o&&(n[x[i]]=o)}}function H(t,e){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r);return{scale:i,x:-(t.x+t.width/2)*i+(e.x+e.width/2),y:-(t.y+t.height/2)*i+(e.y+e.height/2)}}function G(t,e){var n=new T;return n.parse(t,e)}var V=n("9850"),W=n("f279"),q=Object(i["g"])(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),X=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Object(i["g"])(),this._freedGraphics=[],this._mapName=t,this._parsedXML=y(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=$(t.named),n=e.regions,r=e.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n;try{e=t&&G(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,Object(i["b"])(null!=n)}catch(y){throw new Error("Invalid svg format\n"+y.message)}var r=new o["a"];r.add(n),r.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,c=e.viewBoxRect,l=this._boundingRect;if(!l){var h=void 0,f=void 0,d=void 0,p=void 0;if(null!=a?(h=0,d=a):c&&(h=c.x,d=c.width),null!=s?(f=0,p=s):c&&(f=c.y,p=c.height),null==h||null==f){var m=n.getBoundingRect();null==h&&(h=m.x,d=m.width),null==f&&(f=m.y,p=m.height)}l=this._boundingRect=new V["a"](h,f,d,p)}if(c){var g=H(c,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}r.setClipPath(new u["a"]({shape:l.plain()}));var v=[];return Object(i["k"])(e.named,(function(t){null!=q.get(t.svgNodeTagLower)&&(v.push(t),Y(t.el))})),{root:r,boundingRect:l,named:v}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();function Y(t){t.silent=!1,t.isGroup&&t.traverse((function(t){t.silent=!1}))}function $(t){var e=[],n=Object(i["g"])();return Object(i["k"])(t,(function(t){if(null==t.namedFrom){var r=new W["b"](t.name,t.el);e.push(r),n.set(t.name,r)}})),{regions:e,regionsMap:n}}for(var Z=n("bda7"),K=[126,25],J="南海诸岛",Q=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],tt=0;tt<Q.length;tt++)for(var et=0;et<Q[tt].length;et++)Q[tt][et][0]/=10.5,Q[tt][et][1]/=-14,Q[tt][et][0]+=K[0],Q[tt][et][1]+=K[1];function nt(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===J)return;e.push(new W["a"](J,i["H"](Q,(function(t){return{type:"polygon",exterior:t}})),K))}}var rt=n("1792"),it=n("6bd4"),ot=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function at(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:ot[0]})}var st="name",ut=function(){function t(t,e,n){this.type="geoJSON",this._parsedMap=Object(i["g"])(),this._mapName=t,this._specialAreas=n,this._geoJSON=lt(e)}return t.prototype.load=function(t,e){e=e||st;var n=this._parsedMap.get(e);if(!n){var r=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:r,boundingRect:ct(r)})}var o=Object(i["g"])(),a=[];return Object(i["k"])(n.regions,(function(e){var n=e.name;t&&t.hasOwnProperty(n)&&(e=e.cloneShallow(n=t[n])),a.push(e),o.set(n,e)})),{regions:a,boundingRect:n.boundingRect||new V["a"](0,0,0,0),regionsMap:o}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,r=this._geoJSON;try{e=r?Object(Z["a"])(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return nt(n,e),Object(i["k"])(e,(function(t){var e=t.name;Object(rt["a"])(n,t),Object(it["a"])(n,t),at(n,t);var r=this._specialAreas&&this._specialAreas[e];r&&t.transformTo(r.left,r.top,r.width,r.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function ct(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function lt(t){return Object(i["C"])(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var ht=Object(i["g"])();e["a"]={registerMap:function(t,e,n){if(e.svg){var r=new X(t,e.svg);ht.set(t,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?n=e.specialAreas:i=e;r=new ut(t,i,n);ht.set(t,r)}},getGeoResource:function(t){return ht.get(t)},getMapForUser:function(t){var e=ht.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,n){var r=ht.get(t);if(r)return r.load(e,n)}}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5e76":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("d51b"),i=new r["a"](50);function o(t){if("string"===typeof t){var e=i.get(t);return e&&e.image}return t}function a(t,e,n,r,o){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var a=i.get(t),c={hostEl:n,cb:r,cbPayload:o};return a?(e=a.image,!u(e)&&a.pending.push(c)):(e=new Image,e.onload=e.onerror=s,i.put(t,e.__cachedImgObj={image:e,pending:[c]}),e.src=e.__zrImageSrc=t),e}return t}return e}function s(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function u(t){return t&&t.width&&t.height}},"5e81":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("7fae"),i=n("6cb7"),o=n("b12f"),a=n("07fd"),s=n("f72b"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(r["b"])(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),this._sourceManager=new s["a"](this),Object(s["b"])(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Object(s["b"])(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:a["a"]},e}(i["a"]),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(r["b"])(e,t),e.type="dataset",e}(o["a"]);function l(t){t.registerComponentModel(u),t.registerComponentView(c)}},6062:function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"607d":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return m})),n.d(e,"d",(function(){return g}));var r=n("22d1"),i=n("65ed"),o="undefined"!==typeof window&&!!window.addEventListener,a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,s=[];function u(t,e,n,i){return n=n||{},i||!r["a"].canvasSupported?c(t,e,n):r["a"].browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):c(t,e,n),n}function c(t,e,n){if(r["a"].domSupported&&t.getBoundingClientRect){var o=e.clientX,a=e.clientY;if(Object(i["a"])(t)){var u=t.getBoundingClientRect();return n.zrX=o-u.left,void(n.zrY=a-u.top)}if(Object(i["b"])(s,t,o,a))return n.zrX=s[0],void(n.zrY=s[1])}n.zrX=n.zrY=0}function l(t){return t||window.event}function h(t,e,n){if(e=l(e),null!=e.zrX)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var o="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];o&&u(t,o,e,n)}else{u(t,e,e,n);var s=f(e);e.zrDelta=s?s/120:-(e.detail||0)/3}var c=e.button;return null==e.which&&void 0!==c&&a.test(e.type)&&(e.which=1&c?1:2&c?3:4&c?2:0),e}function f(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(null==n||null==r)return e;var i=0!==r?Math.abs(r):Math.abs(n),o=r>0?-1:r<0?1:n>0?-1:1;return 3*i*o}function d(t,e,n,r){o?t.addEventListener(e,n,r):t.attachEvent("on"+e,n)}function p(t,e,n,r){o?t.removeEventListener(e,n,r):t.detachEvent("on"+e,n)}var m=o?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function g(t){return 2===t.which||3===t.which}},"608a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("6d8b");function i(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:Object(r["z"])(t)?[t]:Object(r["t"])(t)?t:null):null}},"60da":function(t,e,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),a=n("7418"),s=n("d1e7"),u=n("7b0b"),c=n("44ad"),l=Object.assign,h=Object.defineProperty;t.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||o(l({},e)).join("")!=i}))?function(t,e){var n=u(t),i=arguments.length,l=1,h=a.f,f=s.f;while(i>l){var d,p=c(arguments[l++]),m=h?o(p).concat(h(p)):o(p),g=m.length,v=0;while(g>v)d=m[v++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:l},"620a":function(t,e,n){"use strict";(function(t){var r,i=n("3db9"),o={supportWebGL:function(){if(null==r)try{var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)throw new Error}catch(n){r=!1}return r}};o.Int8Array="undefined"===typeof Int8Array?Array:Int8Array,o.Uint8Array="undefined"===typeof Uint8Array?Array:Uint8Array,o.Uint16Array="undefined"===typeof Uint16Array?Array:Uint16Array,o.Uint32Array="undefined"===typeof Uint32Array?Array:Uint32Array,o.Int16Array="undefined"===typeof Int16Array?Array:Int16Array,o.Float32Array="undefined"===typeof Float32Array?Array:Float32Array,o.Float64Array="undefined"===typeof Float64Array?Array:Float64Array;var a={};"undefined"!==typeof window?a=window:"undefined"!==typeof t&&(a=t),o.requestAnimationFrame=a.requestAnimationFrame||a.msRequestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},o.createCanvas=function(){return document.createElement("canvas")},o.createImage=function(){return new a.Image},o.request={get:i["a"].get},o.addEventListener=function(t,e,n,r){t.addEventListener(e,n,r)},o.removeEventListener=function(t,e,n){t.removeEventListener(e,n)},e["a"]=o}).call(this,n("c8ba"))},"625e":function(t,e,n){"use strict";n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return y}));var r=n("7fae"),i=n("6d8b"),o=".",a="___EC__COMPONENT__CONTAINER___",s="___EC__EXTENDED_CLASS___";function u(t){var e={main:"",sub:""};if(t){var n=t.split(o);e.main=n[0]||"",e.sub=n[1]||""}return e}function c(t){i["b"](/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function l(t){return!(!t||!t[s])}function h(t,e){t.$constructor=t,t.extend=function(t){var e=this;function n(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(f(e)){var s=i["h"](n.prototype,new(e.bind.apply(e,Object(r["c"])([void 0],o))));return s}e.apply(this,arguments)}}return n[s]=!0,i["m"](n.prototype,t),n.extend=this.extend,n.superCall=g,n.superApply=v,i["s"](n,this),n.superClass=e,n}}function f(t){return"function"===typeof t&&/^class\s/.test(Function.prototype.toString.call(t))}function d(t,e){t.extend=e.extend}var p=Math.round(10*Math.random());function m(t){var e=["__\0is_clz",p++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function g(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function v(t,e,n){return this.superClass.prototype[e].apply(t,n)}function y(t){var e={};function n(t){var n=e[t.main];return n&&n[a]||(n=e[t.main]={},n[a]=!0),n}t.registerClass=function(t){var r=t.type||t.prototype.type;if(r){c(r),t.prototype.type=r;var i=u(r);if(i.sub){if(i.sub!==a){var o=n(i);o[i.sub]=t}}else e[i.main]=t}return t},t.getClass=function(t,n,r){var i=e[t];if(i&&i[a]&&(i=n?i[n]:null),r&&!i)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){var n=u(t),r=[],o=e[n.main];return o&&o[a]?i["k"](o,(function(t,e){e!==a&&r.push(t)})):r.push(o),r},t.hasClass=function(t){var n=u(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return i["k"](e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=u(t),r=e[n.main];return r&&r[a]}}},6374:function(t,e,n){n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");var r=n("6613");function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},6438:function(t,e,n){var r=n("03d6"),i=n("9742").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),o=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},6566:function(t,e,n){"use strict";var r=n("9bf2").f,i=n("7c73"),o=n("e2cc"),a=n("0366"),s=n("19aa"),u=n("2266"),c=n("7dd0"),l=n("2626"),h=n("83ab"),f=n("f183").fastKey,d=n("69f3"),p=d.set,m=d.getterFor;t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){s(t,l,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=r&&u(r,t[c],t,n)})),d=m(e),g=function(t,e,n){var r,i,o=d(t),a=v(t,e);return a?a.value=n:(o.last=a={index:i=f(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},v=function(t,e){var n,r=d(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(l.prototype,{clear:function(){var t=this,e=d(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=d(e),r=v(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),h?n.size--:e.size--}return!!r},forEach:function(t){var e,n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!v(this,t)}}),o(l.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),h&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),o=m(r);c(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},"658f":function(t,e,n){n("6858");for(var r=n("ef08"),i=n("051b"),o=n("8a0d"),a=n("cc15")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&i(h,a,c),o[c]=o.Array}},"65ed":function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var r=n("22d1"),i=Math.log(2);function o(t,e,n,r,a,s){var u=r+"-"+a,c=t.length;if(s.hasOwnProperty(u))return s[u];if(1===e){var l=Math.round(Math.log((1<<c)-1&~a)/i);return t[n][l]}var h=r|1<<n,f=n+1;while(r&1<<f)f++;for(var d=0,p=0,m=0;p<c;p++){var g=1<<p;g&a||(d+=(m%2?-1:1)*t[n][p]*o(t,e-1,f,h,a|g,s),m++)}return s[u]=d,d}function a(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=o(n,8,0,0,0,r);if(0!==i){for(var a=[],s=0;s<8;s++)for(var u=0;u<8;u++)null==a[u]&&(a[u]=0),a[u]+=((s+u)%2?-1:1)*o(n,7,0===s?1:0,1<<s,1<<u,r)/i*e[s];return function(t,e,n){var r=e*a[6]+n*a[7]+1;t[0]=(e*a[0]+n*a[1]+a[2])/r,t[1]=(e*a[3]+n*a[4]+a[5])/r}}}var s="___zrEVENTSAVED",u=[];function c(t,e,n,r,i){return l(u,e,r,i,!0)&&l(t,n,u[0],u[1])}function l(t,e,n,i,o){if(e.getBoundingClientRect&&r["a"].domSupported&&!d(e)){var a=e[s]||(e[s]={}),u=h(e,a),c=f(u,a,o);if(c)return c(t,n,i),!0}return!1}function h(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,u=o%2,c=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",i[c]+":0",r[1-u]+":auto",i[1-c]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}function f(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],o=e.srcCoords,s=[],u=[],c=!0,l=0;l<4;l++){var h=t[l].getBoundingClientRect(),f=2*l,d=h.left,p=h.top;s.push(d,p),c=c&&o&&d===o[f]&&p===o[f+1],u.push(t[l].offsetLeft,t[l].offsetTop)}return c&&i?i:(e.srcCoords=s,e[r]=n?a(u,s):a(s,u))}function d(t){return"CANVAS"===t.nodeName.toUpperCase()}},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),a=o("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},6613:function(t,e,n){n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var r=n("5a43");function i(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},6858:function(t,e,n){"use strict";var r=n("2f9a"),i=n("ea34"),o=n("8a0d"),a=n("6ca1");t.exports=n("393a")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"68ab":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("4a3f");function i(t,e,n,i,o,a,s,u,c){if(0===s)return!1;var l=s;if(c>e+l&&c>i+l&&c>a+l||c<e-l&&c<i-l&&c<a-l||u>t+l&&u>n+l&&u>o+l||u<t-l&&u<n-l&&u<o-l)return!1;var h=Object(r["l"])(t,e,n,i,o,a,u,c,null);return h<=l/2}},"693d":function(t,e,n){"use strict";var r=n("ef08"),i=n("9c0e"),o=n("0bad"),a=n("512c"),s=n("ba01"),u=n("e34a").KEY,c=n("4b8b"),l=n("b367"),h=n("92f0"),f=n("8b1a"),d=n("cc15"),p=n("fcd4"),m=n("e198"),g=n("0ae2"),v=n("4ebc"),y=n("77e9"),_=n("7a41"),b=n("0983"),x=n("6ca1"),w=n("3397"),T=n("10db"),S=n("6f4f"),O=n("1836"),M=n("4d20"),E=n("fed5"),A=n("1a14"),C=n("9876"),D=M.f,L=A.f,I=O.f,P=r.Symbol,R=r.JSON,N=R&&R.stringify,k="prototype",j=d("_hidden"),F=d("toPrimitive"),B={}.propertyIsEnumerable,z=l("symbol-registry"),U=l("symbols"),H=l("op-symbols"),G=Object[k],V="function"==typeof P&&!!E.f,W=r.QObject,q=!W||!W[k]||!W[k].findChild,X=o&&c((function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=D(G,e);r&&delete G[e],L(t,e,n),r&&t!==G&&L(G,e,r)}:L,Y=function(t){var e=U[t]=S(P[k]);return e._k=t,e},$=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Z=function(t,e,n){return t===G&&Z(H,e,n),y(t),e=w(e,!0),y(n),i(U,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=S(n,{enumerable:T(0,!1)})):(i(t,j)||L(t,j,T(1,{})),t[j][e]=!0),X(t,e,n)):L(t,e,n)},K=function(t,e){y(t);var n,r=g(e=x(e)),i=0,o=r.length;while(o>i)Z(t,n=r[i++],e[n]);return t},J=function(t,e){return void 0===e?S(t):K(S(t),e)},Q=function(t){var e=B.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,j)&&this[j][t])||e)},tt=function(t,e){if(t=x(t),e=w(e,!0),t!==G||!i(U,e)||i(H,e)){var n=D(t,e);return!n||!i(U,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},et=function(t){var e,n=I(x(t)),r=[],o=0;while(n.length>o)i(U,e=n[o++])||e==j||e==u||r.push(e);return r},nt=function(t){var e,n=t===G,r=I(n?H:x(t)),o=[],a=0;while(r.length>a)!i(U,e=r[a++])||n&&!i(G,e)||o.push(U[e]);return o};V||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(H,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),X(this,t,T(1,n))};return o&&q&&X(G,t,{configurable:!0,set:e}),Y(t)},s(P[k],"toString",(function(){return this._k})),M.f=tt,A.f=Z,n("6438").f=O.f=et,n("1917").f=Q,E.f=nt,o&&!n("e444")&&s(G,"propertyIsEnumerable",Q,!0),p.f=function(t){return Y(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:P});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;rt.length>it;)d(rt[it++]);for(var ot=C(d.store),at=0;ot.length>at;)m(ot[at++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=P(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!V,"Object",{create:J,defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=c((function(){E.f(1)}));a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return E.f(b(t))}}),R&&a(a.S+a.F*(!V||c((function(){var t=P();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,N.apply(R,r)}}),P[k][F]||n("051b")(P[k],F,P[k].valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"697e":function(t,e,n){"use strict";n.d(e,"f",(function(){return M})),n.d(e,"i",(function(){return A})),n.d(e,"a",(function(){return C})),n.d(e,"g",(function(){return D})),n.d(e,"h",(function(){return L})),n.d(e,"c",(function(){return I})),n.d(e,"b",(function(){return P})),n.d(e,"e",(function(){return N})),n.d(e,"j",(function(){return k})),n.d(e,"d",(function(){return j})),n.d(e,"k",(function(){return F}));var r=n("6d8b"),i=n("18c0"),o=n("89e3"),a=n("e0d8"),s=n("9d57"),u=n("9850"),c=n("216a"),l=n("7fae"),h=n("3842"),f=n("944e"),d=a["a"].prototype,p=o["a"].prototype,m=h["v"],g=Math.floor,v=Math.ceil,y=Math.pow,_=Math.log,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new o["a"],e._interval=0,e}return Object(l["b"])(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent(),o=p.getTicks.call(this,t);return r["H"](o,(function(t){var e=t.value,r=h["v"](y(this.base,e));return r=e===n[0]&&this._fixMin?w(r,i[0]):r,r=e===n[1]&&this._fixMax?w(r,i[1]):r,{value:r}}),this)},e.prototype.setExtent=function(t,e){var n=this.base;t=_(t)/_(n),e=_(e)/_(n),p.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=d.getExtent.call(this);e[0]=y(t,e[0]),e[1]=y(t,e[1]);var n=this._originalScale,r=n.getExtent();return this._fixMin&&(e[0]=w(e[0],r[0])),this._fixMax&&(e[1]=w(e[1],r[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=_(t[0])/_(e),t[1]=_(t[1])/_(e),d.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=h["r"](n),i=t/n*r;i<=.5&&(r*=10);while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0)r*=10;var o=[h["v"](v(e[0]/r)*r),h["v"](g(e[1]/r)*r)];this._interval=r,this._niceExtent=o}},e.prototype.niceExtent=function(t){p.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=_(t)/_(this.base),f["a"](t,this._extent)},e.prototype.normalize=function(t){return t=_(t)/_(this.base),f["d"](t,this._extent)},e.prototype.scale=function(t){return t=f["e"](t,this._extent),y(this.base,t)},e.type="log",e}(a["a"]),x=b.prototype;function w(t,e){return m(t,h["g"](e))}x.getMinorTicks=p.getMinorTicks,x.getLabel=p.getLabel,a["a"].registerClass(b);var T=b,S=n("ee1a"),O=n("538f");function M(t,e){var n=t.type,i=Object(O["a"])(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var o=i.min,a=i.max,u=e.ecModel;if(u&&"time"===n){var c=Object(s["e"])("bar",u),l=!1;if(r["k"](c,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var h=Object(s["d"])(c),f=E(o,a,e,h);o=f.min,a=f.max}}return{extent:[o,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function E(t,e,n,i){var o=n.axis.getExtent(),a=o[1]-o[0],u=Object(s["f"])(i,n.axis);if(void 0===u)return{min:t,max:e};var c=1/0;r["k"](u,(function(t){c=Math.min(t.offset,c)}));var l=-1/0;r["k"](u,(function(t){l=Math.max(t.offset+t.width,l)})),c=Math.abs(c),l=Math.abs(l);var h=c+l,f=e-t,d=1-(c+l)/a,p=f/d-f;return e+=p*(l/h),t-=p*(c/h),{min:t,max:e}}function A(t,e){var n=M(t,e),r=n.extent,i=e.get("splitNumber");t instanceof T&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(r[0],r[1]),t.niceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var a=e.get("interval");null!=a&&t.setInterval&&t.setInterval(a)}function C(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new i["a"]({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new c["a"]({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(a["a"].getClass(e)||o["a"])}}function D(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function L(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(n,r){return t.scale.getFormattedLabel(n,r,e)}}(e):"string"===typeof e?function(e){return function(n){var r=t.scale.getLabel(n),i=e.replace("{value}",null!=r?r:"");return i}}(e):"function"===typeof e?function(e){return function(r,i){return null!=n&&(i=r.value-n),e(I(t,r),i,null!=r.level?{level:r.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function I(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function P(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var r,o,a=n.getExtent();n instanceof i["a"]?o=n.count():(r=n.getTicks(),o=r.length);var s,u=t.getLabelModel(),c=L(t),l=1;o>40&&(l=Math.ceil(o/40));for(var h=0;h<o;h+=l){var f=r?r[h]:{value:a[0]+h},d=c(f,h),p=u.getTextRect(d),m=R(p,u.get("rotate")||0);s?s.union(m):s=m}return s}}function R(t,e){var n=e*Math.PI/180,r=t.width,i=t.height,o=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),a=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),s=new u["a"](t.x,t.y,o,a);return s}function N(t){var e=t.get("interval");return null==e?"auto":e}function k(t){return"category"===t.type&&0===N(t.getLabelModel())}function j(t,e){var n={};return r["k"](t.mapDimensionsAll(e),(function(e){n[Object(S["b"])(t,e)]=!0})),r["F"](n)}function F(t,e,n){e&&r["k"](j(e,n),(function(n){var r=e.getApproximateExtent(n);r[0]<t[0]&&(t[0]=r[0]),r[1]>t[1]&&(t[1]=r[1])}))}},"697e7":function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return ft})),n.d(e,"dispose",(function(){return dt})),n.d(e,"disposeAll",(function(){return pt})),n.d(e,"getInstance",(function(){return mt})),n.d(e,"registerPainter",(function(){return gt})),n.d(e,"version",(function(){return vt}));var r=n("22d1"),i=n("6d8b"),o=n("21a10"),a=n("401b"),s=function(){function t(t,e){this.target=t,this.topTarget=e&&e.topTarget}return t}(),u=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new s(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.handler.dispatchToElement(new s(e,t),"drag",t.event);var a=this.handler.findHover(n,r,e).target,u=this._dropTarget;this._dropTarget=a,e!==a&&(u&&a!==u&&this.handler.dispatchToElement(new s(u,t),"dragleave",t.event),a&&a!==u&&this.handler.dispatchToElement(new s(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new s(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new s(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),c=u,l=n("6fd3"),h=n("607d"),f=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],u=h["b"](n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},t.prototype._recognize=function(t){for(var e in m)if(m.hasOwnProperty(e)){var n=m[e](this._track,t);if(n)return n}},t}();function d(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function p(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var m={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=d(r)/d(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=p(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},g="silent";function v(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:y}}function y(){h["g"](this.event)}var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return Object(o["a"])(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(l["a"]),b=function(){function t(t,e){this.x=t,this.y=e}return t}(),x=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],w=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._hovered=new b(0,0),o.storage=e,o.painter=n,o.painterRoot=i,r=r||new _,o.proxy=null,o.setHandlerProxy(r),o._draggingMgr=new c(o),o}return Object(o["a"])(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(i["k"](x,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,r=S(this,e,n),i=this._hovered,o=i.target;o&&!o.__zr&&(i=this.findHover(i.x,i.y),o=i.target);var a=this._hovered=r?new b(e,n):this.findHover(e,n),s=a.target,u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new b(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){t=t||{};var r=t.target;if(!r||!r.silent){var i="on"+e,o=v(e,t,n);while(r)if(r[i]&&(o.cancelBubble=!!r[i].call(r,o)),r.trigger(e,o),r=r.__hostTarget?r.__hostTarget:r.parent,o.cancelBubble)break;o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"===typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,n){for(var r=this.storage.getDisplayList(),i=new b(t,e),o=r.length-1;o>=0;o--){var a=void 0;if(r[o]!==n&&!r[o].ignore&&(a=T(r[o],t,e))&&(!i.topTarget&&(i.topTarget=r[o]),a!==g)){i.target=r[o];break}}return i},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new f);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i;var o=new b;o.target=r.target,this.dispatchToElement(o,i,r.event)}},e}(l["a"]);function T(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){var r=t,i=void 0,o=!1;while(r){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||g}return!1}function S(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}i["k"](["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){w.prototype[t]=function(e){var n,r,i=e.zrX,o=e.zrY,s=S(this,i,o);if("mouseup"===t&&s||(n=this.findHover(i,o),r=n.target),"mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||a["f"](this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));var O=w,M=n("04f6"),E=n("4bc4"),A=!1;function C(){A||(A=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function D(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var L=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=D}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,r["a"].canvasSupported&&Object(M["a"])(n,D)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];var i=r,o=t;while(i)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var u=a[s];t.__dirty&&(u.__dirty|=E["a"]),this._updateAndAddDisplayable(u,e,n)}t.__dirty=0}else{var c=t;e&&e.length?c.__clipPaths=e:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(C(),c.z=0),isNaN(c.z2)&&(C(),c.z2=0),isNaN(c.zlevel)&&(C(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var l=t.getDecalElement&&t.getDecalElement();l&&this._updateAndAddDisplayable(l,e,n);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,n);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=i["r"](this._roots,t);r>=0&&this._roots.splice(r,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),I=L,P=n("98b7"),R=n("06ad"),N=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n.onframe=e.onframe||function(){},n}return Object(o["a"])(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._clipsHead=n,n?n.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){var e=(new Date).getTime()-this._pausedTime,n=e-this._time,r=this._clipsHead;while(r){var i=r.next,o=r.step(e,n);o?(r.ondestroy&&r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=e,t||(this.onframe(n),this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;function e(){t._running&&(Object(P["a"])(e),!t._paused&&t.update())}this._running=!0,Object(P["a"])(e)},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){var t=this._clipsHead;while(t){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new R["b"](t,e.loop);return this.addAnimator(n),n},e}(l["a"]),k=N,j=300,F=r["a"].domSupported,B=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=i["H"](t,(function(t){var e=t.replace("mouse","pointer");return n.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:r}}(),z={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},U=!1;function H(t){var e=t.pointerType;return"pen"===e||"touch"===e}function G(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function V(t){t&&(t.zrByTouch=!0)}function W(t,e){return Object(h["e"])(t.dom,new X(t,e),!0)}function q(t,e){var n=e,r=!1;while(n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot))n=n.parentNode;return r}var X=function(){function t(t,e){this.stopPropagation=i["L"],this.stopImmediatePropagation=i["L"],this.preventDefault=i["L"],this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return t}(),Y={mousedown:function(t){t=Object(h["e"])(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Object(h["e"])(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Object(h["e"])(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Object(h["e"])(this.dom,t);var e=t.toElement||t.relatedTarget;q(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){U=!0,t=Object(h["e"])(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){U||(t=Object(h["e"])(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Object(h["e"])(this.dom,t),V(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Y.mousemove.call(this,t),Y.mousedown.call(this,t)},touchmove:function(t){t=Object(h["e"])(this.dom,t),V(t),this.handler.processGesture(t,"change"),Y.mousemove.call(this,t)},touchend:function(t){t=Object(h["e"])(this.dom,t),V(t),this.handler.processGesture(t,"end"),Y.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<j&&Y.click.call(this,t)},pointerdown:function(t){Y.mousedown.call(this,t)},pointermove:function(t){H(t)||Y.mousemove.call(this,t)},pointerup:function(t){Y.mouseup.call(this,t)},pointerout:function(t){H(t)||Y.mouseout.call(this,t)}};i["k"](["click","dblclick","contextmenu"],(function(t){Y[t]=function(e){e=Object(h["e"])(this.dom,e),this.trigger(t,e)}}));var $={pointermove:function(t){H(t)||$.mousemove.call(this,t)},pointerup:function(t){$.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Z(t,e){var n=e.domHandlers;r["a"].pointerEventsSupported?i["k"](B.pointer,(function(r){J(e,r,(function(e){n[r].call(t,e)}))})):(r["a"].touchEventsSupported&&i["k"](B.touch,(function(r){J(e,r,(function(i){n[r].call(t,i),G(e)}))})),i["k"](B.mouse,(function(r){J(e,r,(function(i){i=Object(h["c"])(i),e.touching||n[r].call(t,i)}))})))}function K(t,e){function n(n){function r(r){r=Object(h["c"])(r),q(t,r.target)||(r=W(t,r),e.domHandlers[n].call(t,r))}J(e,n,r,{capture:!0})}r["a"].pointerEventsSupported?i["k"](z.pointer,n):r["a"].touchEventsSupported||i["k"](z.mouse,n)}function J(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,Object(h["a"])(t.domTarget,e,n,r)}function Q(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&Object(h["f"])(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var tt=function(){function t(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return t}(),et=function(t){function e(e,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new tt(e,Y),F&&(r._globalHandlerScope=new tt(document,$)),Z(r,r._localHandlerScope),r}return Object(o["a"])(e,t),e.prototype.dispose=function(){Q(this._localHandlerScope),F&&Q(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,F&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?K(this,e):Q(e)}},e}(l["a"]),nt=et,rt=n("41ef"),it=n("2cf4"),ot=n("2dc5"),at=!r["a"].canvasSupported,st={},ut={};function ct(t){delete ut[t]}function lt(t){if(!t)return!1;if("string"===typeof t)return Object(rt["lum"])(t,1)<it["b"];if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=Object(rt["lum"])(e[i].color,1);return n/=r,n<it["b"]}return!1}var ht=function(){function t(t,e,n){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new I,s=n.renderer||"canvas";if(at)throw new Error("IE8 support has been dropped since 5.0");if(st[s]||(s=i["F"](st)[0]),!st[s])throw new Error("Renderer '"+s+"' is not imported. Please import it first.");n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var u=new st[s](e,a,n,t);this.storage=a,this.painter=u;var c=r["a"].node||r["a"].worker?null:new nt(u.getViewportRoot(),u.root);this.handler=new O(a,u,c,u.root),this.animation=new k({stage:{update:function(){return o._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=lt(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof ot["a"]&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,ct(this.id)},t}();function ft(t,e){var n=new ht(i["p"](),t,e);return ut[n.id]=n,n}function dt(t){t.dispose()}function pt(){for(var t in ut)ut.hasOwnProperty(t)&&ut[t].dispose();ut={}}function mt(t){return ut[t]}function gt(t,e){st[t]=e}var vt="5.2.0"},"69f3":function(t,e,n){var r,i,o,a=n("7f9a"),s=n("da84"),u=n("861d"),c=n("9112"),l=n("5135"),h=n("f772"),f=n("d012"),d=s.WeakMap,p=function(t){return o(t)?i(t):r(t,{})},m=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a){var g=new d,v=g.get,y=g.has,_=g.set;r=function(t,e){return _.call(g,t,e),e},i=function(t){return v.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var b=h("state");f[b]=!0,r=function(t,e){return c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:p,getterFor:m}},"6a2f":function(t,e,n){"use strict";var r=n("6d8b"),i=n("e0d3"),o=Object(i["o"])();function a(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,d(e,n,t),Object(r["k"])(n,(function(n){Object(r["k"])(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,Object(r["i"])(s,t))}))})),e.wrapMethod("cloneShallow",Object(r["i"])(c,t)),Object(r["k"])(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,Object(r["i"])(u,t))})),Object(r["b"])(n[e.dataType]===e)}function s(t,e){if(f(this)){var n=Object(r["m"])({},o(this).datas);n[this.dataType]=e,d(e,n,t)}else p(e,this.dataType,o(this).mainData,t);return e}function u(t,e){return t.struct&&t.struct.update(),e}function c(t,e){return Object(r["k"])(o(e).datas,(function(n,r){n!==e&&p(n.cloneShallow(),r,e,t)})),e}function l(t){var e=o(this).mainData;return null==t||null==e?e:o(e).datas[t]}function h(){var t=o(this).mainData;return null==t?[{data:t}]:Object(r["H"])(Object(r["F"])(o(t).datas),(function(e){return{type:e,data:o(t).datas[e]}}))}function f(t){return o(t).mainData===t}function d(t,e,n){o(t).datas={},Object(r["k"])(e,(function(e,r){p(e,r,t,n)}))}function p(t,e,n,r){o(n).datas[e]=t,o(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=l,t.getLinkedDataAll=h}e["a"]=a},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},"6bd4":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function i(t,e){if("world"===t){var n=r[e.name];if(n){var i=[n[0],n[1]];e.setCenter(i)}}}},"6ca1":function(t,e,n){var r=n("9fbb"),i=n("c901");t.exports=function(t){return r(i(t))}},"6cb7":function(t,e,n){"use strict";var r=n("7fae"),i=n("6d8b"),o=n("4319"),a=n("8918"),s=n("625e"),u=n("e0d3"),c=n("f934"),l=Object(u["o"])(),h=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.uid=a["c"]("ec_cpt_model"),i}return Object(r["b"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=c["d"](this),r=n?c["f"](t):{},o=e.getTheme();i["I"](t,o.get(this.mainType)),i["I"](t,this.getDefaultOption()),n&&c["h"](t,r,n)},e.prototype.mergeOption=function(t,e){i["I"](this.option,t,!0);var n=c["d"](this);n&&c["h"](this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Object(s["d"])(t))return t.defaultOption;var e=l(this);if(!e.defaultOption){var n=[],r=t;while(r){var o=r.prototype.defaultOption;o&&n.push(o),r=r.superClass}for(var a={},u=n.length-1;u>=0;u--)a=i["I"](a,n[u],!0);e.defaultOption=a}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",r=t+"Id";return Object(u["v"])(this.ecModel,t,{index:this.get(n,!0),id:this.get(r,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(o["a"]);function f(t){var e=[];return i["k"](h.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=i["H"](e,(function(t){return Object(s["f"])(t).main})),"dataset"!==t&&i["r"](e,"dataset")<=0&&e.unshift("dataset"),e}Object(s["e"])(h,o["a"]),Object(s["c"])(h),a["a"](h),a["b"](h,f),e["a"]=h},"6d61":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("94ca"),a=n("6eeb"),s=n("f183"),u=n("2266"),c=n("19aa"),l=n("861d"),h=n("d039"),f=n("1c7e"),d=n("d44e"),p=n("7156");t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),v=m?"set":"add",y=i[t],_=y&&y.prototype,b=y,x={},w=function(t){var e=_[t];a(_,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof y||!(g||_.forEach&&!h((function(){(new y).entries().next()})))))b=n.getConstructor(e,t,m,v),s.REQUIRED=!0;else if(o(t,!0)){var T=new b,S=T[v](g?{}:-0,1)!=T,O=h((function(){T.has(1)})),M=f((function(t){new y(t)})),E=!g&&h((function(){var t=new y,e=5;while(e--)t[v](e,e);return!t.has(-0)}));M||(b=e((function(e,n){c(e,b,t);var r=p(new y,e,b);return void 0!=n&&u(n,r[v],r,m),r})),b.prototype=_,_.constructor=b),(O||E)&&(w("delete"),w("has"),m&&w("get")),(E||S)&&w(v),g&&_.clear&&delete _.clear}return x[t]=b,r({global:!0,forced:b!=y},x),d(b,t),g||n.setStrong(b,t,m),b}},"6d8b":function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"p",(function(){return g})),n.d(e,"G",(function(){return v})),n.d(e,"d",(function(){return y})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return b})),n.d(e,"m",(function(){return x})),n.d(e,"j",(function(){return w})),n.d(e,"f",(function(){return T})),n.d(e,"r",(function(){return S})),n.d(e,"s",(function(){return O})),n.d(e,"K",(function(){return M})),n.d(e,"u",(function(){return E})),n.d(e,"k",(function(){return A})),n.d(e,"H",(function(){return C})),n.d(e,"N",(function(){return D})),n.d(e,"n",(function(){return L})),n.d(e,"o",(function(){return I})),n.d(e,"F",(function(){return P})),n.d(e,"c",(function(){return N})),n.d(e,"i",(function(){return k})),n.d(e,"t",(function(){return j})),n.d(e,"w",(function(){return F})),n.d(e,"C",(function(){return B})),n.d(e,"D",(function(){return z})),n.d(e,"z",(function(){return U})),n.d(e,"A",(function(){return H})),n.d(e,"E",(function(){return V})),n.d(e,"v",(function(){return W})),n.d(e,"x",(function(){return q})),n.d(e,"y",(function(){return X})),n.d(e,"B",(function(){return Y})),n.d(e,"l",(function(){return $})),n.d(e,"O",(function(){return Z})),n.d(e,"P",(function(){return K})),n.d(e,"Q",(function(){return J})),n.d(e,"S",(function(){return Q})),n.d(e,"M",(function(){return tt})),n.d(e,"b",(function(){return et})),n.d(e,"T",(function(){return nt})),n.d(e,"R",(function(){return it})),n.d(e,"g",(function(){return st})),n.d(e,"e",(function(){return ut})),n.d(e,"h",(function(){return ct})),n.d(e,"q",(function(){return lt})),n.d(e,"L",(function(){return ht}));var r={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},i={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},o=Object.prototype.toString,a=Array.prototype,s=a.forEach,u=a.filter,c=a.slice,l=a.map,h=function(){}.constructor,f=h?h.prototype:null,d={};function p(t,e){d[t]=e}var m=2311;function g(){return m++}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!==typeof console&&console.error.apply(console,t)}function y(t){if(null==t||"object"!==typeof t)return t;var e=t,n=o.call(t);if("[object Array]"===n){if(!ot(t)){e=[];for(var a=0,s=t.length;a<s;a++)e[a]=y(t[a])}}else if(i[n]){if(!ot(t)){var u=t.constructor;if(u.from)e=u.from(t);else{e=new u(t.length);for(a=0,s=t.length;a<s;a++)e[a]=y(t[a])}}}else if(!r[n]&&!ot(t)&&!W(t))for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=y(t[c]));return e}function _(t,e,n){if(!H(e)||!H(t))return n?y(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],o=e[r];!H(o)||!H(i)||j(o)||j(i)||W(o)||W(i)||G(o)||G(i)||ot(o)||ot(i)?!n&&r in t||(t[r]=y(e[r])):_(i,o,n)}return t}function b(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=_(n,t[r],e);return n}function x(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function w(t,e,n){for(var r=P(e),i=0;i<r.length;i++){var o=r[i];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var T=function(){return d.createCanvas()};function S(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function O(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function M(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else w(t,e,n)}function E(t){return!!t&&("string"!==typeof t&&"number"===typeof t.length)}function A(t,e,n){if(t&&e)if(t.forEach&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function C(t,e,n){if(!t)return[];if(!e)return Q(t);if(t.map&&t.map===l)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}function D(t,e,n,r){if(t&&e){for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function L(t,e,n){if(!t)return[];if(!e)return Q(t);if(t.filter&&t.filter===u)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function I(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function P(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function R(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(c.call(arguments)))}}d.createCanvas=function(){return document.createElement("canvas")};var N=f&&F(f.bind)?f.call.bind(f.bind):R;function k(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(c.call(arguments)))}}function j(t){return Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)}function F(t){return"function"===typeof t}function B(t){return"string"===typeof t}function z(t){return"[object String]"===o.call(t)}function U(t){return"number"===typeof t}function H(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function G(t){return!!r[o.call(t)]}function V(t){return!!i[o.call(t)]}function W(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function q(t){return null!=t.colorStops}function X(t){return null!=t.image}function Y(t){return"[object RegExp]"===o.call(t)}function $(t){return t!==t}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(null!=t[n])return t[n]}function K(t,e){return null!=t?t:e}function J(t,e,n){return null!=t?t:null!=e?e:n}function Q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return c.apply(t,e)}function tt(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function et(t,e){if(!t)throw new Error(e)}function nt(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var rt="__ec_primitive__";function it(t){t[rt]=!0}function ot(t){return t[rt]}var at=function(){function t(e){this.data={};var n=j(e);this.data={};var r=this;function i(t,e){n?r.set(t,e):r.set(e,t)}e instanceof t?e.each(i):e&&A(e,i)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return P(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function st(t){return new at(t)}function ut(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function ct(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&x(n,e),n}function lt(t,e){return t.hasOwnProperty(e)}function ht(){}},"6dd8":function(t,e,n){"use strict";n.r(e),function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),a=2;function s(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&c()}function u(){o(s)}function c(){var t=Date.now();if(n){if(t-i<a)return;r=!0}else n=!0,r=!1,setTimeout(u,e);i=t}return c}var u=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=c.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),f=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||i},p=S(0,0,0,0);function m(t){return parseFloat(t)||0}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var r=t["border-"+n+"-width"];return e+m(r)}),0)}function v(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=m(a)}return n}function y(t){var e=t.getBBox();return S(0,0,e.width,e.height)}function _(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=d(t).getComputedStyle(t),i=v(r),o=i.left+i.right,a=i.top+i.bottom,s=m(r.width),u=m(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=g(r,"left","right")+o),Math.round(u+a)!==n&&(u-=g(r,"top","bottom")+a)),!x(t)){var c=Math.round(s+o)-e,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return S(i.left,i.top,s,u)}var b=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"===typeof t.getBBox}}();function x(t){return t===d(t).document.documentElement}function w(t){return r?b(t)?y(t):_(t):p}function T(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return f(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function S(t,e,n,r){return{x:t,y:e,width:n,height:r}}var O=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=w(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),M=function(){function t(t,e){var n=T(e);f(this,{target:t,contentRect:n})}return t}(),E=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new O(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new M(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),A="undefined"!==typeof WeakMap?new WeakMap:new n,C=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),r=new E(e,n,this);A.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach((function(t){C.prototype[t]=function(){var e;return(e=A.get(this))[t].apply(e,arguments)}}));var D=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:C}();e["default"]=D}.call(this,n("c8ba"))},"6eeb":function(t,e,n){var r=n("da84"),i=n("9112"),o=n("5135"),a=n("ce4e"),s=n("8925"),u=n("69f3"),c=u.get,l=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),l(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!f&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},"6f4f":function(t,e,n){var r=n("77e9"),i=n("85e7"),o=n("9742"),a=n("5a94")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("05f5")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("9141").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(r--)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},"6fd3":function(t,e,n){"use strict";var r=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"===typeof e&&(r=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),i[t]||(i[t]=[]);for(var a=0;a<i[t].length;a++)if(i[t][a].h===n)return this;var s={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=i[t].length-1,c=i[t][u];return c&&c.callAtLast?i[t].splice(u,0,s):i[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=r.length,s=0;s<a;s++){var u=r[s];if(!i||!i.filter||null==u.query||i.filter(t,u.query))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=e[o-1],s=r.length,u=0;u<s;u++){var c=r[u];if(!i||!i.filter||null==c.query||i.filter(t,c.query))switch(o){case 0:c.h.call(a);break;case 1:c.h.call(a,e[0]);break;case 2:c.h.call(a,e[0],e[1]);break;default:c.h.apply(a,e.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}();e["a"]=r},7037:function(t,e,n){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,r(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},7368:function(t,e,n){"use strict";var r=n("6d8b");function i(t){return"_EC_"+t}var o=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[i(t)]){var r=new a(t,e);return r.hostGraph=this,this.nodes.push(r),n[i(t)]=r,r}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[i(t)]},t.prototype.addEdge=function(t,e,n){var r=this._nodesMap,o=this._edgesMap;if("number"===typeof t&&(t=this.nodes[t]),"number"===typeof e&&(e=this.nodes[e]),t instanceof a||(t=r[i(t)]),e instanceof a||(e=r[i(e)]),t&&e){var u=t.id+"-"+e.id,c=new s(t,e,n);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),e.inEdges.push(c)),t.edges.push(c),t!==e&&e.edges.push(c),this.edges.push(c),o[u]=c,c}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof a&&(t=t.id),e instanceof a&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},t.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof a||(e=this._nodesMap[i(e)]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(r,e,null)){var u=[e];while(u.length){var c=u.shift(),l=c[o];for(s=0;s<l.length;s++){var h=l[s],f=h.node1===c?h.node2:h.node1;if(!f.__visited){if(t.call(r,f,c))return;u.push(f),f.__visited=!0}}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf((function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)r[e.getRawIndex(i)].dataIndex=i},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),a=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),s=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function u(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}r["K"](a,u("hostGraph","data")),r["K"](s,u("hostGraph","edgeData")),e["a"]=o},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},"76a5":function(t,e,n){"use strict";var r=n("21a10"),i=n("d409"),o=n("dd4f"),a=n("6d8b"),s=n("e86a"),u=n("0da8"),c=n("c7a2"),l=n("9850"),h=n("19eb"),f={fill:"#000"},d=2,p={style:Object(a["j"])({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},h["a"].style)},m=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=f,n.attr(e),n}return Object(r["a"])(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,y(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new l["a"](0,0,0,0),e=this._children,n=[],r=null,i=0;i<e.length;i++){var o=e[i],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),r=r||t.clone(),r.union(t)):(r=r||a.clone(),r.union(a))}this._rect=r||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||f},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,r=t.rich||n&&{};return Object(a["m"])(t,e),n&&r?(this._mergeRich(r,n),t.rich=r):r&&(t.rich=r),t},e.prototype._mergeRich=function(t,e){for(var n=Object(a["F"])(e),r=0;r<n.length;r++){var i=n[r];t[i]=t[i]||{},Object(a["m"])(t[i],e[i])}},e.prototype.getAnimationStyleProps=function(){return p},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||s["a"],n=t.padding,r=T(t),a=Object(i["a"])(r,t),u=S(t),c=!!t.backgroundColor,h=a.outerHeight,f=a.lines,p=a.lineHeight,m=this._defaultStyle,g=t.x||0,v=t.y||0,y=t.align||m.align||"left",_=t.verticalAlign||m.verticalAlign||"top",O=g,M=Object(s["c"])(v,a.contentHeight,_);if(u||n){var E=a.width;n&&(E+=n[1]+n[3]);var A=Object(s["b"])(g,E,y),C=Object(s["c"])(v,h,_);u&&this._renderBackground(t,t,A,C,E,h)}M+=p/2,n&&(O=w(g,y,n),"top"===_?M+=n[0]:"bottom"===_&&(M-=n[2]));for(var D=0,L=!1,I=(x("fill"in t?t.fill:(L=!0,m.fill))),P=(b("stroke"in t?t.stroke:c||m.autoStroke&&!L?null:(D=d,m.stroke))),R=t.textShadowBlur>0,N=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),k=a.calculatedLineHeight,j=0;j<f.length;j++){var F=this._getOrCreateChild(o["a"]),B=F.createStyle();F.useStyle(B),B.text=f[j],B.x=O,B.y=M,y&&(B.textAlign=y),B.textBaseline="middle",B.opacity=t.opacity,B.strokeFirst=!0,R&&(B.shadowBlur=t.textShadowBlur||0,B.shadowColor=t.textShadowColor||"transparent",B.shadowOffsetX=t.textShadowOffsetX||0,B.shadowOffsetY=t.textShadowOffsetY||0),P&&(B.stroke=P,B.lineWidth=t.lineWidth||D,B.lineDash=t.lineDash,B.lineDashOffset=t.lineDashOffset||0),I&&(B.fill=I),B.font=e,M+=p,N&&F.setBoundingRect(new l["a"](Object(s["b"])(B.x,t.width,B.textAlign),Object(s["c"])(B.y,k,B.textBaseline),t.width,k))}},e.prototype._updateRichTexts=function(){var t=this.style,e=T(t),n=Object(i["b"])(e,t),r=n.width,o=n.outerWidth,a=n.outerHeight,u=t.padding,c=t.x||0,l=t.y||0,h=this._defaultStyle,f=t.align||h.align,d=t.verticalAlign||h.verticalAlign,p=Object(s["b"])(c,o,f),m=Object(s["c"])(l,a,d),g=p,v=m;u&&(g+=u[3],v+=u[0]);var y=g+r;S(t)&&this._renderBackground(t,t,p,m,o,a);for(var _=!!t.backgroundColor,b=0;b<n.lines.length;b++){var x=n.lines[b],w=x.tokens,O=w.length,M=x.lineHeight,E=x.width,A=0,C=g,D=y,L=O-1,I=void 0;while(A<O&&(I=w[A],!I.align||"left"===I.align))this._placeToken(I,t,M,v,C,"left",_),E-=I.width,C+=I.width,A++;while(L>=0&&(I=w[L],"right"===I.align))this._placeToken(I,t,M,v,D,"right",_),E-=I.width,D-=I.width,L--;C+=(r-(C-g)-(y-D)-E)/2;while(A<=L)I=w[A],this._placeToken(I,t,M,v,C+I.width/2,"center",_),C+=I.width,A++;v+=M}},e.prototype._placeToken=function(t,e,n,r,i,u,c){var h=e.rich[t.styleName]||{};h.text=t.text;var f=t.verticalAlign,p=r+n/2;"top"===f?p=r+t.height/2:"bottom"===f&&(p=r+n-t.height/2);var m=!t.isLineHolder&&S(h);m&&this._renderBackground(h,e,"right"===u?i-t.width:"center"===u?i-t.width/2:i,p-t.height/2,t.width,t.height);var g=!!h.backgroundColor,v=t.textPadding;v&&(i=w(i,u,v),p-=t.height/2-v[0]-t.innerHeight/2);var y=this._getOrCreateChild(o["a"]),_=y.createStyle();y.useStyle(_);var T=this._defaultStyle,O=!1,M=0,E=x("fill"in h?h.fill:"fill"in e?e.fill:(O=!0,T.fill)),A=b("stroke"in h?h.stroke:"stroke"in e?e.stroke:g||c||T.autoStroke&&!O?null:(M=d,T.stroke)),C=h.textShadowBlur>0||e.textShadowBlur>0;_.text=t.text,_.x=i,_.y=p,C&&(_.shadowBlur=h.textShadowBlur||e.textShadowBlur||0,_.shadowColor=h.textShadowColor||e.textShadowColor||"transparent",_.shadowOffsetX=h.textShadowOffsetX||e.textShadowOffsetX||0,_.shadowOffsetY=h.textShadowOffsetY||e.textShadowOffsetY||0),_.textAlign=u,_.textBaseline="middle",_.font=t.font||s["a"],_.opacity=Object(a["Q"])(h.opacity,e.opacity,1),A&&(_.lineWidth=Object(a["Q"])(h.lineWidth,e.lineWidth,M),_.lineDash=Object(a["P"])(h.lineDash,e.lineDash),_.lineDashOffset=e.lineDashOffset||0,_.stroke=A),E&&(_.fill=E);var D=t.contentWidth,L=t.contentHeight;y.setBoundingRect(new l["a"](Object(s["b"])(_.x,D,_.textAlign),Object(s["c"])(_.y,L,_.textBaseline),D,L))},e.prototype._renderBackground=function(t,e,n,r,i,o){var s,l,h=t.backgroundColor,f=t.borderWidth,d=t.borderColor,p=h&&h.image,m=h&&!p,g=t.borderRadius,v=this;if(m||t.lineHeight||f&&d){s=this._getOrCreateChild(c["a"]),s.useStyle(s.createStyle()),s.style.fill=null;var y=s.shape;y.x=n,y.y=r,y.width=i,y.height=o,y.r=g,s.dirtyShape()}if(m){var _=s.style;_.fill=h||null,_.fillOpacity=Object(a["P"])(t.fillOpacity,1)}else if(p){l=this._getOrCreateChild(u["a"]),l.onload=function(){v.dirtyStyle()};var b=l.style;b.image=h.image,b.x=n,b.y=r,b.width=i,b.height=o}if(f&&d){_=s.style;_.lineWidth=f,_.stroke=d,_.strokeOpacity=Object(a["P"])(t.strokeOpacity,1),_.lineDash=t.borderDash,_.lineDashOffset=t.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var x=(s||l).style;x.shadowBlur=t.shadowBlur||0,x.shadowColor=t.shadowColor||"transparent",x.shadowOffsetX=t.shadowOffsetX||0,x.shadowOffsetY=t.shadowOffsetY||0,x.opacity=Object(a["Q"])(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var n="";n="string"!==typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,e=[t.fontStyle,t.fontWeight,n,t.fontFamily||"sans-serif"].join(" ")}return e&&Object(a["T"])(e)||t.textFont||t.font},e}(h["c"]),g={left:!0,right:1,center:1},v={top:1,bottom:1,middle:1};function y(t){return _(t),Object(a["k"])(t.rich,_),t}function _(t){if(t){t.font=m.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||g[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||v[n]?n:"top";var r=t.padding;r&&(t.padding=Object(a["M"])(t.padding))}}function b(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function x(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function w(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function T(t){var e=t.text;return null!=e&&(e+=""),e}function S(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}e["a"]=m},"77e9":function(t,e,n){var r=n("7a41");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},7837:function(t,e,n){"use strict";n.d(e,"g",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return x})),n.d(e,"f",(function(){return w})),n.d(e,"h",(function(){return T})),n.d(e,"a",(function(){return S}));var r=n("76a5"),i=n("6d8b"),o=n("7d6c"),a=n("e0d3"),s=n("deab"),u={};function c(t,e){for(var n=0;n<o["g"].length;n++){var r=o["g"][n],i=e[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=i}var s=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(s,!0)}function l(t,e,n){var r,a=t.labelFetcher,s=t.labelDataIndex,u=t.labelDimIndex,c=e.normal;a&&(r=a.getFormattedLabel(s,"normal",null,u,c&&c.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=Object(i["w"])(t.defaultText)?t.defaultText(s,t,n):t.defaultText);for(var l={normal:r},h=0;h<o["g"].length;h++){var f=o["g"][h],d=e[f];l[f]=Object(i["P"])(a?a.getFormattedLabel(s,f,null,u,d&&d.get("formatter")):null,r)}return l}function h(t,e,n,a){n=n||u;for(var s=t instanceof r["a"],h=!1,f=0;f<o["a"].length;f++){var m=e[o["a"][f]];if(m&&m.getShallow("show")){h=!0;break}}var g=s?t:t.getTextContent();if(h){s||(g||(g=new r["a"],t.setTextContent(g)),t.stateProxy&&(g.stateProxy=t.stateProxy));var v=l(n,e),y=e.normal,_=!!y.getShallow("show"),b=d(y,a&&a.normal,n,!1,!s);b.text=v.normal,s||t.setTextConfig(p(y,n,!1));for(f=0;f<o["g"].length;f++){var x=o["g"][f];m=e[x];if(m){var T=g.ensureState(x),S=!!Object(i["P"])(m.getShallow("show"),_);if(S!==_&&(T.ignore=!S),T.style=d(m,a&&a[x],n,!0,!s),T.style.text=v[x],!s){var O=t.ensureState(x);O.textConfig=p(m,n,!0)}}}g.silent=!!y.getShallow("silent"),null!=g.style.x&&(b.x=g.style.x),null!=g.style.y&&(b.y=g.style.y),g.ignore=!_,g.useStyle(b),g.dirty(),n.enableTextSetter&&(w(g).setLabelText=function(t){var r=l(n,e,t);c(g,r)})}else g&&(g.ignore=!0);t.dirty()}function f(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<o["g"].length;r++){var i=o["g"][r];n[i]=t.getModel([i,e])}return n}function d(t,e,n,r,o){var a={};return m(a,t,n,r,o),e&&Object(i["m"])(a,e),a}function p(t,e,n){e=e||{};var r,o={},a=t.getShallow("rotate"),s=Object(i["P"])(t.getShallow("distance"),n?null:5),u=t.getShallow("offset");return r=t.getShallow("position")||(n?null:"inside"),"outside"===r&&(r=e.defaultOutsidePosition||"top"),null!=r&&(o.position=r),null!=u&&(o.offset=u),null!=a&&(a*=Math.PI/180,o.rotation=a),null!=s&&(o.distance=s),o.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",o}function m(t,e,n,r,i){n=n||u;var o,a=e.ecModel,s=a&&a.option.textStyle,c=g(e);if(c)for(var l in o={},c)if(c.hasOwnProperty(l)){var h=e.getModel(["rich",l]);b(o[l]={},h,s,n,r,i,!1,!0)}o&&(t.rich=o);var f=e.get("overflow");f&&(t.overflow=f);var d=e.get("minMargin");null!=d&&(t.margin=d),b(t,e,s,n,r,i,!0,!1)}function g(t){var e;while(t&&t!==t.ecModel){var n=(t.option||u).rich;if(n){e=e||{};for(var r=Object(i["F"])(n),o=0;o<r.length;o++){var a=r[o];e[a]=1}}t=t.parentModel}return e}var v=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],y=["align","lineHeight","width","height","tag","verticalAlign"],_=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function b(t,e,n,r,o,a,s,c){n=!o&&n||u;var l=r&&r.inheritColor,h=e.getShallow("color"),f=e.getShallow("textBorderColor"),d=Object(i["P"])(e.getShallow("opacity"),n.opacity);"inherit"!==h&&"auto"!==h||(h=l||null),"inherit"!==f&&"auto"!==f||(f=l||null),a||(h=h||n.color,f=f||n.textBorderColor),null!=h&&(t.fill=h),null!=f&&(t.stroke=f);var p=Object(i["P"])(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=p&&(t.lineWidth=p);var m=Object(i["P"])(e.getShallow("textBorderType"),n.textBorderType);null!=m&&(t.lineDash=m);var g=Object(i["P"])(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=g&&(t.lineDashOffset=g),o||null!=d||c||(d=r&&r.defaultOpacity),null!=d&&(t.opacity=d),o||a||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var b=0;b<v.length;b++){var x=v[b],w=Object(i["P"])(e.getShallow(x),n[x]);null!=w&&(t[x]=w)}for(b=0;b<y.length;b++){x=y[b],w=e.getShallow(x);null!=w&&(t[x]=w)}if(null==t.verticalAlign){var T=e.getShallow("baseline");null!=T&&(t.verticalAlign=T)}if(!s||!r.disableBox){for(b=0;b<_.length;b++){x=_[b],w=e.getShallow(x);null!=w&&(t[x]=w)}var S=e.getShallow("borderType");null!=S&&(t.borderDash=S),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}function x(t,e){var n=e&&e.getModel("textStyle");return Object(i["T"])([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var w=Object(a["o"])();function T(t,e,n,r){if(t){var i=w(t);i.prevValue=i.value,i.value=n;var o=e.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function S(t,e,n,r,o){var u=w(t);if(u.valueAnimation){var h=u.defaultInterpolatedText,f=Object(i["P"])(u.interpolatedValue,u.prevValue),d=u.value;(null==u.prevValue?s["c"]:s["h"])(t,{},r,e,null,p)}function p(r){var i=Object(a["k"])(n,u.precision,f,d,r);u.interpolatedValue=1===r?null:i;var s=l({labelDataIndex:e,labelFetcher:o,defaultText:h?h(i):i+""},u.statesModels,i);c(t,s)}}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a41":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"7a77":function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"7aac":function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7b3e":function(t,e,n){"use strict";var r,i=n("a3de");
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function o(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"===typeof a[n]}return!o&&r&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=o},"7c73":function(t,e,n){var r,i=n("825a"),o=n("37e8"),a=n("7839"),s=n("d012"),u=n("1be4"),c=n("cc12"),l=n("f772"),h=">",f="<",d="prototype",p="script",m=l("IE_PROTO"),g=function(){},v=function(t){return f+p+h+t+f+"/"+p+h},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=c("iframe"),n="java"+p+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}b=r?y(r):_();var t=a.length;while(t--)delete b[d][a[t]];return b()};s[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[d]=i(t),n=new g,g[d]=null,n[m]=t):n=b(),void 0===e?n:o(n,e)}},"7d6c":function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return m})),n.d(e,"a",(function(){return g})),n.d(e,"j",(function(){return v})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"i",(function(){return w})),n.d(e,"h",(function(){return T})),n.d(e,"H",(function(){return k})),n.d(e,"G",(function(){return H})),n.d(e,"r",(function(){return W})),n.d(e,"C",(function(){return q})),n.d(e,"q",(function(){return X})),n.d(e,"B",(function(){return Y})),n.d(e,"s",(function(){return $})),n.d(e,"D",(function(){return Z})),n.d(e,"k",(function(){return J})),n.d(e,"l",(function(){return tt})),n.d(e,"m",(function(){return et})),n.d(e,"t",(function(){return nt})),n.d(e,"x",(function(){return rt})),n.d(e,"w",(function(){return it})),n.d(e,"J",(function(){return ot})),n.d(e,"K",(function(){return at})),n.d(e,"u",(function(){return st})),n.d(e,"o",(function(){return ut})),n.d(e,"p",(function(){return ct})),n.d(e,"I",(function(){return ft})),n.d(e,"F",(function(){return dt})),n.d(e,"y",(function(){return pt})),n.d(e,"n",(function(){return mt})),n.d(e,"v",(function(){return gt})),n.d(e,"A",(function(){return vt})),n.d(e,"z",(function(){return yt})),n.d(e,"E",(function(){return _t}));var r=n("d51b"),i=n("6d8b"),o=n("861c"),a=n("41ef"),s=n("e0d3"),u=n("cbe5"),c=1,l={},h=Object(s["o"])(),f=0,d=1,p=2,m=["emphasis","blur","select"],g=["normal","emphasis","blur","select"],v=10,y=9,_="highlight",b="downplay",x="select",w="unselect",T="toggleSelect";function S(t){return null!=t&&"none"!==t}var O=new r["a"](100);function M(t){if("string"!==typeof t)return t;var e=O.get(t);return e||(e=a["lift"](t,-.1),O.put(t,e)),e}function E(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function A(t){E(t,"emphasis",p)}function C(t){t.hoverState===p&&E(t,"normal",f)}function D(t){E(t,"blur",d)}function L(t){t.hoverState===d&&E(t,"normal",f)}function I(t){t.selected=!0}function P(t){t.selected=!1}function R(t,e,n){e(t,n)}function N(t,e,n){R(t,e,n),t.isGroup&&t.traverse((function(t){R(t,e,n)}))}function k(t,e){switch(e){case"emphasis":t.hoverState=p;break;case"normal":t.hoverState=f;break;case"blur":t.hoverState=d;break;case"select":t.selected=!0}}function j(t,e,n,r){for(var i=t.style,o={},a=0;a<e.length;a++){var s=e[a],u=i[s];o[s]=null==u?r&&r[s]:u}for(a=0;a<t.animators.length;a++){var c=t.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&"style"===c.targetName&&c.saveFinalToTarget(o,e)}return o}function F(t,e,n,r){var o=n&&Object(i["r"])(n,"select")>=0,a=!1;if(t instanceof u["b"]){var s=h(t),c=o&&s.selectFill||s.normalFill,l=o&&s.selectStroke||s.normalStroke;if(S(c)||S(l)){r=r||{};var f=r.style||{};"inherit"===f.fill?(a=!0,r=Object(i["m"])({},r),f=Object(i["m"])({},f),f.fill=c):!S(f.fill)&&S(c)?(a=!0,r=Object(i["m"])({},r),f=Object(i["m"])({},f),f.fill=M(c)):!S(f.stroke)&&S(l)&&(a||(r=Object(i["m"])({},r),f=Object(i["m"])({},f)),f.stroke=M(l)),r.style=f}}if(r&&null==r.z2){a||(r=Object(i["m"])({},r));var d=t.z2EmphasisLift;r.z2=t.z2+(null!=d?d:v)}return r}function B(t,e,n){if(n&&null==n.z2){n=Object(i["m"])({},n);var r=t.z2SelectLift;n.z2=t.z2+(null!=r?r:y)}return n}function z(t,e,n){var r=Object(i["r"])(t.currentStates,e)>=0,o=t.style.opacity,a=r?null:j(t,["opacity"],e,{opacity:1});n=n||{};var s=n.style||{};return null==s.opacity&&(n=Object(i["m"])({},n),s=Object(i["m"])({opacity:r?o:.1*a.opacity},s),n.style=s),n}function U(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return F(this,t,e,n);if("blur"===t)return z(this,t,n);if("select"===t)return B(this,t,n)}return n}function H(t){t.stateProxy=U;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=U),n&&(n.stateProxy=U)}function G(t,e){!K(t,e)&&!t.__highByOuter&&N(t,A)}function V(t,e){!K(t,e)&&!t.__highByOuter&&N(t,C)}function W(t,e){t.__highByOuter|=1<<(e||0),N(t,A)}function q(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&N(t,C)}function X(t){N(t,D)}function Y(t){N(t,L)}function $(t){N(t,I)}function Z(t){N(t,P)}function K(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function J(t){var e=t.getModel();e.eachComponent((function(e,n){var r="series"===e?t.getViewOfSeriesModel(n):t.getViewOfComponentModel(n);r.group.traverse((function(t){L(t)}))}))}function Q(t,e,n,r){var o=r.getModel();function a(t,e){for(var n=0;n<e.length;n++){var r=t.getItemGraphicEl(e[n]);r&&Y(r)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var s=o.getSeriesByIndex(t),u=s.coordinateSystem;u&&u.master&&(u=u.master);var c=[];o.eachSeries((function(t){var o=s===t,l=t.coordinateSystem;l&&l.master&&(l=l.master);var h=l&&u?l===u:o;if(!("series"===n&&!o||"coordinateSystem"===n&&!h||"series"===e&&o)){var f=r.getViewOfSeriesModel(t);if(f.group.traverse((function(t){D(t)})),Object(i["u"])(e))a(t.getData(),e);else if(Object(i["A"])(e))for(var d=Object(i["F"])(e),p=0;p<d.length;p++)a(t.getData(d[p]),e[d[p]]);c.push(t)}})),o.eachComponent((function(t,e){if("series"!==t){var n=r.getViewOfComponentModel(e);n&&n.blurSeries&&n.blurSeries(c,o)}}))}}function tt(t,e,n){if(null!=t&&null!=e){var r=n.getModel().getComponent(t,e);if(r){var i=n.getViewOfComponentModel(r);i&&i.focusBlurEnabled&&i.group.traverse((function(t){D(t)}))}}}function et(t,e,n){var r=t.seriesIndex,a=t.getData(e.dataType),u=Object(s["u"])(a,e);u=(Object(i["t"])(u)?u[0]:u)||0;var c=a.getItemGraphicEl(u);if(!c){var l=a.count(),h=0;while(!c&&h<l)c=a.getItemGraphicEl(h++)}if(c){var f=Object(o["a"])(c);Q(r,f.focus,f.blurScope,n)}else{var d=t.get(["emphasis","focus"]),p=t.get(["emphasis","blurScope"]);null!=d&&Q(r,d,p,n)}}function nt(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return i;var a=r.getModel().getComponent(t,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var u,c=s.findHighDownDispatchers(n),l=0;l<c.length;l++)if("self"===Object(o["a"])(c[l]).focus){u=!0;break}return{focusSelf:u,dispatchers:c}}function rt(t,e,n){var r=Object(o["a"])(t),a=nt(r.componentMainType,r.componentIndex,r.componentHighDownName,n),s=a.dispatchers,u=a.focusSelf;s?(u&&tt(r.componentMainType,r.componentIndex,n),Object(i["k"])(s,(function(t){return G(t,e)}))):(Q(r.seriesIndex,r.focus,r.blurScope,n),"self"===r.focus&&tt(r.componentMainType,r.componentIndex,n),G(t,e))}function it(t,e,n){J(n);var r=Object(o["a"])(t),a=nt(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;a?Object(i["k"])(a,(function(t){return V(t,e)})):V(t,e)}function ot(t,e,n){if(vt(e)){var r=e.dataType,o=t.getData(r),a=Object(s["u"])(o,e);Object(i["t"])(a)||(a=[a]),t[e.type===T?"toggleSelect":e.type===x?"select":"unselect"](a,r)}}function at(t){var e=t.getAllData();Object(i["k"])(e,(function(e){var n=e.data,r=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,r)?$(e):Z(e)}))}))}function st(t){var e=[];return t.eachSeries((function(t){var n=t.getAllData();Object(i["k"])(n,(function(n){n.data;var r=n.type,i=t.getSelectedDataIndices();if(i.length>0){var o={dataIndex:i,seriesIndex:t.seriesIndex};null!=r&&(o.dataType=r),e.push(o)}}))})),e}function ut(t,e,n){dt(t,!0),N(t,H),ct(t,e,n)}function ct(t,e,n){var r=Object(o["a"])(t);null!=e?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var lt=["emphasis","blur","select"],ht={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ft(t,e,n,r){n=n||"itemStyle";for(var i=0;i<lt.length;i++){var o=lt[i],a=e.getModel([o,n]),s=t.ensureState(o);s.style=r?r(a):a[ht[n]]()}}function dt(t,e){var n=!1===e,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function pt(t){return!(!t||!t.__highDownDispatcher)}function mt(t,e,n){var r=Object(o["a"])(t);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=n}function gt(t){var e=l[t];return null==e&&c<=32&&(e=l[t]=c++),e}function vt(t){var e=t.type;return e===x||e===w||e===T}function yt(t){var e=t.type;return e===_||e===b}function _t(t){var e=h(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),a=n("d2bb"),s=n("d44e"),u=n("9112"),c=n("6eeb"),l=n("b622"),h=n("c430"),f=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v="keys",y="values",_="entries",b=function(){return this};t.exports=function(t,e,n,l,d,x,w){i(n,e,l);var T,S,O,M=function(t){if(t===d&&L)return L;if(!m&&t in C)return C[t];switch(t){case v:return function(){return new n(this,t)};case y:return function(){return new n(this,t)};case _:return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",A=!1,C=t.prototype,D=C[g]||C["@@iterator"]||d&&C[d],L=!m&&D||M(d),I="Array"==e&&C.entries||D;if(I&&(T=o(I.call(new t)),p!==Object.prototype&&T.next&&(h||o(T)===p||(a?a(T,p):"function"!=typeof T[g]&&u(T,g,b)),s(T,E,!0,!0),h&&(f[E]=b))),d==y&&D&&D.name!==y&&(A=!0,L=function(){return D.call(this)}),h&&!w||C[g]===L||u(C,g,L),f[e]=L,d)if(S={values:M(y),keys:x?L:M(v),entries:M(_)},w)for(O in S)(m||A||!(O in C))&&c(C,O,S[O]);else r({target:e,proto:!0,forced:m||A},S);return S}},"7f9a":function(t,e,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},"7fae":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};Object.create;function a(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create},"80b9":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"e",(function(){return f}));var r=n("6d8b"),i=n("e0d3"),o=n("ec6f"),a=Object(i["o"])(),s={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},u=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=h(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return Object(r["P"])(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Object(o["f"])(this.source),n=!f(t),r="",i=[],a=0,u=0;a<t;a++){var c=void 0,l=void 0,h=void 0,d=this.dimensions[u];if(d&&d.storeDimIndex===a)c=e?d.name:null,l=d.type,h=d.ordinalMeta,u++;else{var p=this.getSourceDimension(a);p&&(c=e?p.name:null,l=p.type)}i.push({property:c,type:l,ordinalMeta:h}),!e||null==c||d&&d.isCalculationCoord||(r+=n?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),r+="$",r+=s[l]||"f",h&&(r+=h.uid),r+="$"}var m=this.source,g=[m.seriesLayoutBy,m.startIndex,r].join("$$");return{dimensions:i,hash:g}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===e)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(e);o&&(r=o.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function c(t){return t instanceof u}function l(t){for(var e=Object(r["g"])(),n=0;n<(t||[]).length;n++){var i=t[n],o=Object(r["A"])(i)?i.name:i;null!=o&&null==e.get(o)&&e.set(o,n)}return e}function h(t){var e=a(t);return e.dimNameMap||(e.dimNameMap=l(t.dimensionsDefine))}function f(t){return t>30}},"80f0":function(t,e,n){"use strict";function r(t){return null==t?0:t.length||1}function i(t){return t}var o=function(){function t(t,e,n,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=r||i,this.context=o,this._diffModeMultiple="multiple"===a}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=i[a],u=n[s],c=r(u);if(c>1){var l=u.shift();1===u.length&&(n[s]=u[0]),this._update&&this._update(l,a)}else 1===c?(n[s]=null,this._update&&this._update(u,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},o=[],a=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(e,i,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var u=o[s],c=n[u],l=i[u],h=r(c),f=r(l);if(h>1&&1===f)this._updateManyToOne&&this._updateManyToOne(l,c),i[u]=null;else if(1===h&&f>1)this._updateOneToMany&&this._updateOneToMany(l,c),i[u]=null;else if(1===h&&1===f)this._update&&this._update(l,c),i[u]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(l,c),i[u]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(c[d]);else this._remove&&this._remove(c)}this._performRestAdd(a,i)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=e[i],a=r(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[i]=null}},t.prototype._initIndexMap=function(t,e,n,i){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[i](t[a],a);if(o||(n[a]=s),e){var u=e[s],c=r(u);0===c?(e[s]=a,o&&n.push(s)):1===c?e[s]=[u,a]:u.push(a)}}},t}();e["a"]=o},8119:function(t,e,n){n("693d"),n("dfe5"),n("301c"),n("4e71"),t.exports=n("5524").Symbol},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},"841c":function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),o=n("1d80"),a=n("129f"),s=n("14c3");r("search",1,(function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),u=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var l=s(o,u);return a(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]}))},"84ce":function(t,e,n){"use strict";var r=n("6d8b"),i=n("3842"),o=n("e86a"),a=n("e0d3"),s=n("697e"),u=Object(a["o"])();function c(t){return"category"===t.type?h(t):p(t)}function l(t,e){return"category"===t.type?d(t,e):{ticks:r["H"](t.scale.getTicks(),(function(t){return t.value}))}}function h(t){var e=t.getLabelModel(),n=f(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function f(t,e){var n,i,o=m(t,"labels"),a=Object(s["e"])(e),u=g(o,a);return u||(r["w"](a)?n=w(t,a):(i="auto"===a?y(t):a,n=x(t,i)),v(o,a,{labels:n,labelCategoryInterval:i}))}function d(t,e){var n,i,o=m(t,"ticks"),a=Object(s["e"])(e),u=g(o,a);if(u)return u;if(e.get("show")&&!t.scale.isBlank()||(n=[]),r["w"](a))n=w(t,a,!0);else if("auto"===a){var c=f(t,t.getLabelModel());i=c.labelCategoryInterval,n=r["H"](c.labels,(function(t){return t.tickValue}))}else i=a,n=x(t,i,!0);return v(o,a,{ticks:n,tickCategoryInterval:i})}function p(t){var e=t.scale.getTicks(),n=Object(s["h"])(t);return{labels:r["H"](e,(function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function m(t,e){return u(t)[e]||(u(t)[e]=[])}function g(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function v(t,e,n){return t.push({key:e,value:n}),n}function y(t){var e=u(t).autoInterval;return null!=e?e:u(t).autoInterval=t.calculateCategoryInterval()}function _(t){var e=b(t),n=Object(s["h"])(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),c=i.count();if(a[1]-a[0]<1)return 0;var l=1;c>40&&(l=Math.max(1,Math.floor(c/40)));for(var h=a[0],f=t.dataToCoord(h+1)-t.dataToCoord(h),d=Math.abs(f*Math.cos(r)),p=Math.abs(f*Math.sin(r)),m=0,g=0;h<=a[1];h+=l){var v=0,y=0,_=o["e"](n({value:h}),e.font,"center","top");v=1.3*_.width,y=1.3*_.height,m=Math.max(m,v,7),g=Math.max(g,y,7)}var x=m/d,w=g/p;isNaN(x)&&(x=1/0),isNaN(w)&&(w=1/0);var T=Math.max(0,Math.floor(Math.min(x,w))),S=u(t.model),O=t.getExtent(),M=S.lastAutoInterval,E=S.lastTickCount;return null!=M&&null!=E&&Math.abs(M-T)<=1&&Math.abs(E-c)<=1&&M>T&&S.axisExtent0===O[0]&&S.axisExtent1===O[1]?T=M:(S.lastTickCount=c,S.lastAutoInterval=T,S.axisExtent0=O[0],S.axisExtent1=O[1]),T}function b(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function x(t,e,n){var r=Object(s["h"])(t),i=t.scale,o=i.getExtent(),a=t.getLabelModel(),u=[],c=Math.max((e||0)+1,1),l=o[0],h=i.count();0!==l&&c>1&&h/c>2&&(l=Math.round(Math.ceil(l/c)*c));var f=Object(s["j"])(t),d=a.get("showMinLabel")||f,p=a.get("showMaxLabel")||f;d&&l!==o[0]&&g(o[0]);for(var m=l;m<=o[1];m+=c)g(m);function g(t){var e={value:t};u.push(n?t:{formattedLabel:r(e),rawLabel:i.getLabel(e),tickValue:t})}return p&&m-c!==o[1]&&g(o[1]),u}function w(t,e,n){var i=t.scale,o=Object(s["h"])(t),a=[];return r["k"](i.getTicks(),(function(t){var r=i.getLabel(t),s=t.value;e(t.value,r)&&a.push(n?s:{formattedLabel:o(t),rawLabel:r,tickValue:s})})),a}var T=[0,1],S=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Object(i["f"])(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),O(n,r.count())),Object(i["l"])(t,T,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),O(n,r.count()));var o=Object(i["l"])(t,n,T,e);return this.scale.scale(o)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=l(this,e),i=n.ticks,o=Object(r["H"])(i,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),a=e.get("alignWithLabel");return M(this,o,a,t.clamp),o},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=Object(r["H"])(n,(function(t){return Object(r["H"])(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return i},t.prototype.getViewLabels=function(){return c(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return _(this)},t}();function O(t,e){var n=t[1]-t[0],r=e,i=n/r/2;t[0]+=i,t[1]-=i}function M(t,e,n,o){var a=e.length;if(t.onBand&&!n&&a){var s,u,c=t.getExtent();if(1===a)e[0].coord=c[0],s=e[1]={coord:c[0]};else{var l=e[a-1].tickValue-e[0].tickValue,h=(e[a-1].coord-e[0].coord)/l;Object(r["k"])(e,(function(t){t.coord-=h/2}));var f=t.scale.getExtent();u=1+f[1]-e[a-1].tickValue,s={coord:e[a-1].coord+h*u},e.push(s)}var d=c[0]>c[1];p(e[0].coord,c[0])&&(o?e[0].coord=c[0]:e.shift()),o&&p(c[0],e[0].coord)&&e.unshift({coord:c[0]}),p(c[1],s.coord)&&(o?s.coord=c[1]:e.pop()),o&&p(s.coord,c[1])&&e.push({coord:c[1]})}function p(t,e){return t=Object(i["v"])(t),e=Object(i["v"])(e),d?t>e:t<e}}e["a"]=S},"857d":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=2*Math.PI;function i(t){return t%=r,t<0&&(t+=r),t}},8582:function(t,e,n){"use strict";var r=n("1687"),i=n("401b"),o=r["d"],a=5e-5;function s(t){return t>a||t<-a}var u=[],c=[],l=r["c"](),h=Math.abs,f=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return s(this.rotation)||s(this.x)||s(this.y)||s(this.scaleX-1)||s(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||r["c"](),e?this.getLocalTransform(n):o(n),t&&(e?r["f"](n,t,n):r["b"](n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&o(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(u);var n=u[0]<0?-1:1,i=u[1]<0?-1:1,o=((u[0]-n)*e+n)/u[0]||0,a=((u[1]-i)*e+i)/u[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||r["c"](),r["e"](this.invTransform,t)},t.prototype.getComputedTransform=function(){var t=this,e=[];while(t)e.push(t),t=t.parent;while(t=e.pop())t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),i=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(i),e=Math.sqrt(e),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r["f"](c,t.invTransform,e),e=c);var n=this.originX,i=this.originY;(n||i)&&(l[4]=n,l[5]=i,r["f"](c,e,l),c[4]-=n,c[5]-=i,e=c),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&i["b"](n,n,r),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&i["b"](n,n,r),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&h(t[0]-1)>1e-10&&h(t[3]-1)>1e-10?Math.sqrt(h(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){for(var e=this,n=0;n<d.length;n++){var r=d[n];e[r]=t[r]}},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.rotation||0,u=t.x,c=t.y,l=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;return n||i?(e[4]=-n*o-l*i*a,e[5]=-i*a-h*n*o):e[4]=e[5]=0,e[0]=o,e[3]=a,e[1]=h*o,e[2]=l*a,s&&r["g"](e,e,s),e[4]+=n+u,e[5]+=i+c,e},t.initDefaultProps=function(){var e=t.prototype;e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.skewX=0,e.skewY=0,e.rotation=0,e.globalScaleRatio=1}(),t}(),d=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"];e["a"]=f},"85e7":function(t,e,n){var r=n("1a14"),i=n("77e9"),o=n("9876");t.exports=n("0bad")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),s=a.length,u=0;while(s>u)r.f(t,n=a[u++],e[n]);return t}},"861c":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("e0d3"),i=Object(r["o"])(),o=function(t,e,n,r){if(r){var o=i(r);o.dataIndex=n,o.dataType=e,o.seriesIndex=t,"group"===r.type&&r.traverse((function(r){var o=i(r);o.seriesIndex=t,o.dataIndex=n,o.dataType=e}))}}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8728:function(t,e,n){"use strict";function r(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;1!==a&&0!==a||(s=r<e?.5:-.5);var u=a*(n-t)+t;return u===i?1/0:u>i?s:0}n.d(e,"a",(function(){return r}))},"87b1":function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=n("4fac"),a=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),s=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){o["a"](t,e,!0)},e}(i["b"]);s.prototype.type="polygon",e["a"]=s},"88b3":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r="\0__throttleOriginMethod",i="\0__throttleRate",o="\0__throttleType";function a(t,e,n){var r,i,o,a,s,u=0,c=0,l=null;function h(){c=(new Date).getTime(),l=null,t.apply(o,a||[])}e=e||0;var f=function(){for(var t=[],f=0;f<arguments.length;f++)t[f]=arguments[f];r=(new Date).getTime(),o=this,a=t;var d=s||e,p=s||n;s=null,i=r-(p?u:c)-d,clearTimeout(l),p?l=setTimeout(h,d):i>=0?h():l=setTimeout(h,-i),u=r};return f.clear=function(){l&&(clearTimeout(l),l=null)},f.debounceNextCall=function(t){s=t},f}function s(t,e,n,s){var u=t[e];if(u){var c=u[r]||u,l=u[o],h=u[i];if(h!==n||l!==s){if(null==n||!s)return t[e]=c;u=t[e]=a(c,n,"debounce"===s),u[r]=c,u[o]=s,u[i]=n}return u}}function u(t,e){var n=t[e];n&&n[r]&&(t[e]=n[r])}},8918:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c}));var r=n("6d8b"),i=n("625e"),o=Math.round(10*Math.random());function a(t){return[t||"",o++].join("_")}function s(t){var e={};t.registerSubTypeDefaulter=function(t,n){var r=Object(i["f"])(t);e[r.main]=n},t.determineSubType=function(n,r){var o=r.type;if(!o){var a=Object(i["f"])(n).main;t.hasSubTypes(n)&&e[a]&&(o=e[a](r))}return o}}function u(t,e){function n(t){var n={},a=[];return r["k"](t,(function(s){var u=i(n,s),c=u.originalDeps=e(s),l=o(c,t);u.entryCount=l.length,0===u.entryCount&&a.push(s),r["k"](l,(function(t){r["r"](u.predecessor,t)<0&&u.predecessor.push(t);var e=i(n,t);r["r"](e.successor,t)<0&&e.successor.push(s)}))})),{graph:n,noEntryList:a}}function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var n=[];return r["k"](t,(function(t){r["r"](e,t)>=0&&n.push(t)})),n}t.topologicalTravel=function(t,e,i,o){if(t.length){var a=n(e),s=a.graph,u=a.noEntryList,c={};r["k"](t,(function(t){c[t]=!0}));while(u.length){var l=u.pop(),h=s[l],f=!!c[l];f&&(i.call(o,l,h.originalDeps.slice()),delete c[l]),r["k"](h.successor,f?p:d)}r["k"](c,(function(){var t="";throw new Error(t)}))}function d(t){s[t].entryCount--,0===s[t].entryCount&&u.push(t)}function p(t){c[t]=!0,d(t)}}}function c(t,e){return r["I"](r["I"]({},t,!0),e,!0)}},8925:function(t,e,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"89b6":function(t,e,n){"use strict";n.d(e,"e",(function(){return A})),n.d(e,"c",(function(){return L})),n.d(e,"b",(function(){return I})),n.d(e,"d",(function(){return N})),n.d(e,"a",(function(){return k}));var r=n("dce8"),i=n("cbe5"),o=n("d498"),a=n("20c8"),s=n("857d"),u=n("4a3f"),c=n("6d8b"),l=n("1687"),h=n("401b"),f=n("7d6c"),d=2*Math.PI,p=a["a"].CMD,m=["top","right","bottom","left"];function g(t,e,n,r,i){var o=n.width,a=n.height;switch(t){case"top":r.set(n.x+o/2,n.y-e),i.set(0,-1);break;case"bottom":r.set(n.x+o/2,n.y+a+e),i.set(0,1);break;case"left":r.set(n.x-e,n.y+a/2),i.set(-1,0);break;case"right":r.set(n.x+o+e,n.y+a/2),i.set(1,0);break}}function v(t,e,n,r,i,o,a,u,c){a-=t,u-=e;var l=Math.sqrt(a*a+u*u);a/=l,u/=l;var h=a*n+t,f=u*n+e;if(Math.abs(r-i)%d<1e-4)return c[0]=h,c[1]=f,l-n;if(o){var p=r;r=Object(s["a"])(i),i=Object(s["a"])(p)}else r=Object(s["a"])(r),i=Object(s["a"])(i);r>i&&(i+=d);var m=Math.atan2(u,a);if(m<0&&(m+=d),m>=r&&m<=i||m+d>=r&&m+d<=i)return c[0]=h,c[1]=f,l-n;var g=n*Math.cos(r)+t,v=n*Math.sin(r)+e,y=n*Math.cos(i)+t,_=n*Math.sin(i)+e,b=(g-a)*(g-a)+(v-u)*(v-u),x=(y-a)*(y-a)+(_-u)*(_-u);return b<x?(c[0]=g,c[1]=v,Math.sqrt(b)):(c[0]=y,c[1]=_,Math.sqrt(x))}function y(t,e,n,r,i,o,a,s){var u=i-t,c=o-e,l=n-t,h=r-e,f=Math.sqrt(l*l+h*h);l/=f,h/=f;var d=u*l+c*h,p=d/f;s&&(p=Math.min(Math.max(p,0),1)),p*=f;var m=a[0]=t+p*l,g=a[1]=e+p*h;return Math.sqrt((m-i)*(m-i)+(g-o)*(g-o))}function _(t,e,n,r,i,o,a){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var s=t+n,u=e+r,c=a[0]=Math.min(Math.max(i,t),s),l=a[1]=Math.min(Math.max(o,e),u);return Math.sqrt((c-i)*(c-i)+(l-o)*(l-o))}var b=[];function x(t,e,n){var r=_(e.x,e.y,e.width,e.height,t.x,t.y,b);return n.set(b[0],b[1]),r}function w(t,e,n){for(var r,i,o=0,a=0,s=0,c=0,l=1/0,h=e.data,f=t.x,d=t.y,m=0;m<h.length;){var g=h[m++];1===m&&(o=h[m],a=h[m+1],s=o,c=a);var x=l;switch(g){case p.M:s=h[m++],c=h[m++],o=s,a=c;break;case p.L:x=y(o,a,h[m],h[m+1],f,d,b,!0),o=h[m++],a=h[m++];break;case p.C:x=Object(u["e"])(o,a,h[m++],h[m++],h[m++],h[m++],h[m],h[m+1],f,d,b),o=h[m++],a=h[m++];break;case p.Q:x=Object(u["l"])(o,a,h[m++],h[m++],h[m],h[m+1],f,d,b),o=h[m++],a=h[m++];break;case p.A:var w=h[m++],T=h[m++],S=h[m++],O=h[m++],M=h[m++],E=h[m++];m+=1;var A=!!(1-h[m++]);r=Math.cos(M)*S+w,i=Math.sin(M)*O+T,m<=1&&(s=r,c=i);var C=(f-w)*O/S+w;x=v(w,T,O,M,M+E,A,C,d,b),o=Math.cos(M+E)*S+w,a=Math.sin(M+E)*O+T;break;case p.R:s=o=h[m++],c=a=h[m++];var D=h[m++],L=h[m++];x=_(s,c,D,L,f,d,b);break;case p.Z:x=y(o,a,s,c,f,d,b,!0),o=s,a=c;break}x<l&&(l=x,n.set(b[0],b[1]))}return l}var T=new r["a"],S=new r["a"],O=new r["a"],M=new r["a"],E=new r["a"];function A(t,e){if(t){var n=t.getTextGuideLine(),o=t.getTextContent();if(o&&n){var a=t.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],u=a.candidates||m,c=o.getBoundingRect().clone();c.applyTransform(o.getComputedTransform());var h=1/0,f=a.anchor,d=t.getComputedTransform(),p=d&&Object(l["e"])([],d),v=e.get("length2")||0;f&&O.copy(f);for(var y=0;y<u.length;y++){var _=u[y];g(_,0,c,T,M),r["a"].scaleAndAdd(S,T,M,v),S.transform(p);var b=t.getBoundingRect(),E=f?f.distance(S):t instanceof i["b"]?w(S,t.path,O):x(S,b,O);E<h&&(h=E,S.transform(d),O.transform(d),O.toArray(s[0]),S.toArray(s[1]),T.toArray(s[2]))}L(s,e.get("minTurnAngle")),n.setShape({points:s})}}}var C=[],D=new r["a"];function L(t,e){if(e<=180&&e>0){e=e/180*Math.PI,T.fromArray(t[0]),S.fromArray(t[1]),O.fromArray(t[2]),r["a"].sub(M,T,S),r["a"].sub(E,O,S);var n=M.len(),i=E.len();if(!(n<.001||i<.001)){M.scale(1/n),E.scale(1/i);var o=M.dot(E),a=Math.cos(e);if(a<o){var s=y(S.x,S.y,O.x,O.y,T.x,T.y,C,!1);D.fromArray(C),D.scaleAndAdd(E,s/Math.tan(Math.PI-e));var u=O.x!==S.x?(D.x-S.x)/(O.x-S.x):(D.y-S.y)/(O.y-S.y);if(isNaN(u))return;u<0?r["a"].copy(D,S):u>1&&r["a"].copy(D,O),D.toArray(t[1])}}}}function I(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,T.fromArray(t[0]),S.fromArray(t[1]),O.fromArray(t[2]),r["a"].sub(M,S,T),r["a"].sub(E,O,S);var i=M.len(),o=E.len();if(!(i<.001||o<.001)){M.scale(1/i),E.scale(1/o);var a=M.dot(e),s=Math.cos(n);if(a<s){var u=y(S.x,S.y,O.x,O.y,T.x,T.y,C,!1);D.fromArray(C);var c=Math.PI/2,l=Math.acos(E.dot(e)),h=c+l-n;if(h>=c)r["a"].copy(D,O);else{D.scaleAndAdd(E,u/Math.tan(Math.PI/2-h));var f=O.x!==S.x?(D.x-S.x)/(O.x-S.x):(D.y-S.y)/(O.y-S.y);if(isNaN(f))return;f<0?r["a"].copy(D,S):f>1&&r["a"].copy(D,O)}D.toArray(t[1])}}}}function P(t,e,n,r){var i="normal"===n,o=i?t:t.ensureState(n);o.ignore=e;var a=r.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?t.useStyle(s):o.style=s}function R(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=h["f"](r[0],r[1]),o=h["f"](r[1],r[2]);if(!i||!o)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var a=Math.min(i,o)*n,s=h["j"]([],r[1],r[0],a/i),u=h["j"]([],r[1],r[2],a/o),c=h["j"]([],s,u,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var l=1;l<r.length;l++)t.lineTo(r[l][0],r[l][1])}function N(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(i){for(var a=e.normal,s=a.get("show"),u=i.ignore,l=0;l<f["a"].length;l++){var h=f["a"][l],d=e[h],p="normal"===h;if(d){var m=d.get("show"),g=p?u:Object(c["P"])(i.states[h]&&i.states[h].ignore,u);if(g||!Object(c["P"])(m,s)){var v=p?r:r&&r.states.normal;v&&(v.ignore=!0);continue}r||(r=new o["a"],t.setTextGuideLine(r),p||!u&&s||P(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),P(r,!1,h,d)}}if(r){Object(c["j"])(r.style,n),r.style.fill=null;var y=a.get("showAbove"),_=t.textGuideLineConfig=t.textGuideLineConfig||{};_.showAbove=y||!1,r.buildPath=R}}else r&&t.removeTextGuideLine()}function k(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<f["g"].length;r++){var i=f["g"][r];n[i]=t.getModel([i,e])}return n}},"89e3":function(t,e,n){"use strict";var r=n("7fae"),i=n("3842"),o=n("eda2"),a=n("e0d8"),s=n("944e"),u=i["v"],c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Object(r["b"])(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return s["a"](t,this._extent)},e.prototype.normalize=function(t){return s["d"](t,this._extent)},e.prototype.scale=function(t){return s["e"](t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=s["b"](t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,o=[];if(!e)return o;var a=1e4;n[0]<r[0]&&(t?o.push({value:u(r[0]-e,i)}):o.push({value:n[0]}));var s=r[0];while(s<=r[1]){if(o.push({value:s}),s=u(s+e,i),s===o[o.length-1].value)break;if(o.length>a)return[]}var c=o.length?o[o.length-1].value:r[1];return n[1]>c&&(t?o.push({value:u(c+e,i)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<e.length;i++){var o=e[i],a=e[i-1],s=0,c=[],l=o.value-a.value,h=l/t;while(s<t-1){var f=u(a.value+(s+1)*h);f>r[0]&&f<r[1]&&c.push(f),s++}n.push(c)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;null==n?n=i["g"](t.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=u(t.value,n,!0);return o["a"](r)},e.prototype.niceTicks=function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=s["c"](r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=u(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=u(Math.ceil(e[1]/i)*i))},e.type="interval",e}(a["a"]);a["a"].registerClass(c),e["a"]=c},"8a0d":function(t,e){t.exports={}},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"8b1a":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function r(t,e){0}function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function o(t,e){for(var n in e)t[n]=e[n];return t}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,a=e.data;a.routerView=!0;var u=i.$createElement,c=n.name,l=i.$route,h=i._routerViewCache||(i._routerViewCache={}),f=0,d=!1;while(i&&i._routerRoot!==i)i.$vnode&&i.$vnode.data.routerView&&f++,i._inactive&&(d=!0),i=i.$parent;if(a.routerViewDepth=f,d)return u(h[c],a,r);var p=l.matched[f];if(!p)return h[c]=null,u();var m=h[c]=p.components[c];a.registerRouteInstance=function(t,e){var n=p.instances[c];(e&&n!==t||!e&&n===t)&&(p.instances[c]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){p.instances[c]=e.componentInstance};var g=a.props=s(l,p.props&&p.props[c]);if(g){g=a.props=o({},g);var v=a.attrs=a.attrs||{};for(var y in g)m.props&&y in m.props||(v[y]=g[y],delete g[y])}return u(m,a,r)}};function s(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var u=/[!'()*]/g,c=function(t){return"%"+t.charCodeAt(0).toString(16)},l=/%2C/g,h=function(t){return encodeURIComponent(t).replace(u,c).replace(l,",")},f=decodeURIComponent;function d(t,e,n){void 0===e&&(e={});var r,i=n||p;try{r=i(t||"")}catch(a){r={}}for(var o in e)r[o]=e[o];return r}function p(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=f(n.shift()),i=n.length>0?f(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function m(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return h(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(h(e)):r.push(h(e)+"="+h(t)))})),r.join("&")}return h(e)+"="+h(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var g=/\/?$/;function v(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=y(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:x(e,i),matched:t?b(t):[]};return n&&(a.redirectedFrom=x(n,i)),Object.freeze(a)}function y(t){if(Array.isArray(t))return t.map(y);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=y(t[n]);return e}return t}var _=v(null,{path:"/"});function b(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function x(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||m;return(n||"/")+o(r)+i}function w(t,e){return e===_?t===e:!!e&&(t.path&&e.path?t.path.replace(g,"")===e.path.replace(g,"")&&t.hash===e.hash&&T(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&T(t.query,e.query)&&T(t.params,e.params)))}function T(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((function(n){var r=t[n],i=e[n];return"object"===typeof r&&"object"===typeof i?T(r,i):String(r)===String(i)}))}function S(t,e){return 0===t.path.replace(g,"/").indexOf(e.path.replace(g,"/"))&&(!e.hash||t.hash===e.hash)&&O(t.query,e.query)}function O(t,e){for(var n in e)if(!(n in t))return!1;return!0}var M,E=[String,Object],A=[String,Array],C={name:"RouterLink",props:{to:{type:E,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:A,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),a=i.location,s=i.route,u=i.href,c={},l=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==l?"router-link-active":l,d=null==h?"router-link-exact-active":h,p=null==this.activeClass?f:this.activeClass,m=null==this.exactActiveClass?d:this.exactActiveClass,g=a.path?v(null,a,null,n):s;c[m]=w(r,g),c[p]=this.exact?c[m]:S(r,g);var y=function(t){D(t)&&(e.replace?n.replace(a):n.push(a))},_={click:D};Array.isArray(this.event)?this.event.forEach((function(t){_[t]=y})):_[this.event]=y;var b={class:c};if("a"===this.tag)b.on=_,b.attrs={href:u};else{var x=L(this.$slots.default);if(x){x.isStatic=!1;var T=x.data=o({},x.data);T.on=_;var O=x.data.attrs=o({},x.data.attrs);O.href=u}else b.on=_}return t(this.tag,b,this.$slots.default)}};function D(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function L(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=L(e.children)))return e}}function I(t){if(!I.installed||M!==t){I.installed=!0,M=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",a),t.component("RouterLink",C);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var P="undefined"!==typeof window;function R(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function N(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function k(t){return t.replace(/\/\//g,"/")}var j=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},F=rt,B=V,z=W,U=Y,H=nt,G=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function V(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=G.exec(t))){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=t[o],f=n[2],d=n[3],p=n[4],m=n[5],g=n[6],v=n[7];a&&(r.push(a),a="");var y=null!=f&&null!=h&&h!==f,_="+"===g||"*"===g,b="?"===g||"*"===g,x=n[2]||s,w=p||m;r.push({name:d||i++,prefix:f||"",delimiter:x,optional:b,repeat:_,partial:y,asterisk:!!v,pattern:w?Z(w):v?".*":"[^"+$(x)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function W(t,e){return Y(V(t,e))}function q(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function X(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function Y(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=n||{},a=r||{},s=a.pretty?q:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!==typeof c){var l,h=o[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(j(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(l=s(h[f]),!e[u].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===f?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?X(h):s(h),!e[u].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function $(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Z(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function K(t,e){return t.keys=e,t}function J(t){return t.sensitive?"":"i"}function Q(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return K(t,e)}function tt(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(rt(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",J(n));return K(o,e)}function et(t,e,n){return nt(V(t,n),e,n)}function nt(t,e,n){j(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=$(s);else{var u=$(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",o+=c}}var l=$(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",K(new RegExp("^"+o,J(n)),e)}function rt(t,e,n){return j(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Q(t,e):j(t)?tt(t,e,n):et(t,e,n)}F.parse=B,F.compile=z,F.tokensToFunction=U,F.tokensToRegExp=H;var it=Object.create(null);function ot(t,e,n){try{var r=it[t]||(it[t]=F.compile(t));return r(e||{},{pretty:!0})}catch(i){return""}}function at(t,e,n,r){var i=e||[],o=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){st(i,o,a,t)}));for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:o,nameMap:a}}function st(t,e,n,r,i,o){var a=r.path,s=r.name;var u=r.pathToRegexpOptions||{},c=ct(a,i,u.strict);"boolean"===typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var l={path:c,regex:ut(c,u),components:r.components||{default:r.component},instances:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?k(o+"/"+r.path):void 0;st(t,e,n,r,l,i)})),void 0!==r.alias){var h=Array.isArray(r.alias)?r.alias:[r.alias];h.forEach((function(o){var a={path:o,children:r.children};st(t,e,n,a,i,l.path||"/")}))}e[l.path]||(t.push(l.path),e[l.path]=l),s&&(n[s]||(n[s]=l))}function ut(t,e){var n=F(t,[],e);return n}function ct(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:k(e.path+"/"+t)}function lt(t,e,n,r){var i="string"===typeof t?{path:t}:t;if(i.name||i._normalized)return i;if(!i.path&&i.params&&e){i=o({},i),i._normalized=!0;var a=o(o({},e.params),i.params);if(e.name)i.name=e.name,i.params=a;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;i.path=ot(s,a,"path "+e.path)}else 0;return i}var u=N(i.path||""),c=e&&e.path||"/",l=u.path?R(u.path,c,n||i.append):c,h=d(u.query,i.query,r&&r.options.parseQuery),f=i.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:l,query:h,hash:f}}function ht(t,e){var n=at(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t){at(t,r,i,o)}function s(t,n,a){var s=lt(t,n,!1,e),u=s.name;if(u){var c=o[u];if(!c)return l(null,s);var h=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in s.params)&&h.indexOf(f)>-1&&(s.params[f]=n.params[f]);if(c)return s.path=ot(c.path,s.params,'named route "'+u+'"'),l(c,s,a)}else if(s.path){s.params={};for(var d=0;d<r.length;d++){var p=r[d],m=i[p];if(ft(m.regex,s.path,s.params))return l(m,s,a)}}return l(null,s)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(v(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return l(null,n);var a=i,u=a.name,c=a.path,h=n.query,f=n.hash,d=n.params;if(h=a.hasOwnProperty("query")?a.query:h,f=a.hasOwnProperty("hash")?a.hash:f,d=a.hasOwnProperty("params")?a.params:d,u){o[u];return s({_normalized:!0,name:u,query:h,hash:f,params:d},void 0,n)}if(c){var p=dt(c,t),m=ot(p,d,'redirect route with path "'+p+'"');return s({_normalized:!0,path:m,query:h,hash:f},void 0,n)}return l(null,n)}function c(t,e,n){var r=ot(n,e.params,'aliased route with path "'+n+'"'),i=s({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,l(a,e)}return l(null,e)}function l(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?c(t,n,t.matchAs):v(t,n,r,e)}return{match:s,addRoutes:a}}function ft(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1],s="string"===typeof r[i]?decodeURIComponent(r[i]):r[i];a&&(n[a.name||"pathMatch"]=s)}return!0}function dt(t,e){return R(t,e.parent?e.parent.path:"/",!0)}var pt=Object.create(null);function mt(){window.history.replaceState({key:Ct()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",(function(t){vt(),t.state&&t.state.key&&Dt(t.state.key)}))}function gt(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=yt(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then((function(t){St(t,o)})).catch((function(t){0})):St(a,o))}))}}function vt(){var t=Ct();t&&(pt[t]={x:window.pageXOffset,y:window.pageYOffset})}function yt(){var t=Ct();if(t)return pt[t]}function _t(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function bt(t){return Tt(t.x)||Tt(t.y)}function xt(t){return{x:Tt(t.x)?t.x:window.pageXOffset,y:Tt(t.y)?t.y:window.pageYOffset}}function wt(t){return{x:Tt(t.x)?t.x:0,y:Tt(t.y)?t.y:0}}function Tt(t){return"number"===typeof t}function St(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=wt(i),e=_t(r,i)}else bt(t)&&(e=xt(t))}else n&&bt(t)&&(e=xt(t));e&&window.scrollTo(e.x,e.y)}var Ot=P&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),Mt=P&&window.performance&&window.performance.now?window.performance:Date,Et=At();function At(){return Mt.now().toFixed(3)}function Ct(){return Et}function Dt(t){Et=t}function Lt(t,e){vt();var n=window.history;try{e?n.replaceState({key:Et},"",t):(Et=At(),n.pushState({key:Et},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function It(t){Lt(t,!0)}function Pt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function Rt(t){return function(e,n,r){var o=!1,a=0,s=null;Nt(t,(function(t,e,n,u){if("function"===typeof t&&void 0===t.cid){o=!0,a++;var c,l=Bt((function(e){Ft(e)&&(e=e.default),t.resolved="function"===typeof e?e:M.extend(e),n.components[u]=e,a--,a<=0&&r()})),h=Bt((function(t){var e="Failed to resolve async component "+u+": "+t;s||(s=i(t)?t:new Error(e),r(s))}));try{c=t(l,h)}catch(d){h(d)}if(c)if("function"===typeof c.then)c.then(l,h);else{var f=c.component;f&&"function"===typeof f.then&&f.then(l,h)}}})),o||r()}}function Nt(t,e){return kt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function kt(t){return Array.prototype.concat.apply([],t)}var jt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ft(t){return t.__esModule||jt&&"Module"===t[Symbol.toStringTag]}function Bt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var zt=function(t,e){this.router=t,this.base=Ut(e),this.current=_,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Ut(t){if(!t)if(P){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function Ht(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function Gt(t,e,n,r){var i=Nt(t,(function(t,r,i,o){var a=Vt(t,e);if(a)return Array.isArray(a)?a.map((function(t){return n(t,r,i,o)})):n(a,r,i,o)}));return kt(r?i.reverse():i)}function Vt(t,e){return"function"!==typeof t&&(t=M.extend(t)),t.options[e]}function Wt(t){return Gt(t,"beforeRouteLeave",Xt,!0)}function qt(t){return Gt(t,"beforeRouteUpdate",Xt)}function Xt(t,e){if(e)return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Gt(t,"beforeRouteEnter",(function(t,r,i,o){return $t(t,i,o,e,n)}))}function $t(t,e,n,r,i){return function(o,a,s){return t(o,a,(function(t){s(t),"function"===typeof t&&r.push((function(){Zt(t,e.instances,n,i)}))}))}}function Zt(t,e,n,r){e[n]&&!e[n]._isBeingDestroyed?t(e[n]):r()&&setTimeout((function(){Zt(t,e,n,r)}),16)}zt.prototype.listen=function(t){this.cb=t},zt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},zt.prototype.onError=function(t){this.errorCbs.push(t)},zt.prototype.transitionTo=function(t,e,n){var r=this,i=this.router.match(t,this.current);this.confirmTransition(i,(function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach((function(t){t(i)})))}),(function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach((function(e){e(t)})))}))},zt.prototype.confirmTransition=function(t,e,n){var o=this,a=this.current,s=function(t){i(t)&&(o.errorCbs.length?o.errorCbs.forEach((function(e){e(t)})):(r(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)};if(w(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s();var u=Ht(this.current.matched,t.matched),c=u.updated,l=u.deactivated,h=u.activated,f=[].concat(Wt(l),this.router.beforeHooks,qt(c),h.map((function(t){return t.beforeEnter})),Rt(h));this.pending=t;var d=function(e,n){if(o.pending!==t)return s();try{e(t,a,(function(t){!1===t||i(t)?(o.ensureURL(!0),s(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(s(),"object"===typeof t&&t.replace?o.replace(t):o.push(t)):n(t)}))}catch(r){s(r)}};Pt(f,d,(function(){var n=[],r=function(){return o.current===t},i=Yt(h,n,r),a=i.concat(o.router.resolveHooks);Pt(a,d,(function(){if(o.pending!==t)return s();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick((function(){n.forEach((function(t){t()}))}))}))}))},zt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach((function(n){n&&n(t,e)}))};var Kt=function(t){function e(e,n){var r=this;t.call(this,e,n);var i=e.options.scrollBehavior,o=Ot&&i;o&&mt();var a=Jt(this.base);window.addEventListener("popstate",(function(t){var n=r.current,i=Jt(r.base);r.current===_&&i===a||r.transitionTo(i,(function(t){o&&gt(e,t,n,!0)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Lt(k(r.base+t.fullPath)),gt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){It(k(r.base+t.fullPath)),gt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(Jt(this.base)!==this.current.fullPath){var e=k(this.base+this.current.fullPath);t?Lt(e):It(e)}},e.prototype.getCurrentLocation=function(){return Jt(this.base)},e}(zt);function Jt(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Qt=function(t){function e(e,n,r){t.call(this,e,n),r&&te(this.base)||ee()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,n=e.options.scrollBehavior,r=Ot&&n;r&&mt(),window.addEventListener(Ot?"popstate":"hashchange",(function(){var e=t.current;ee()&&t.transitionTo(ne(),(function(n){r&&gt(t.router,n,e,!0),Ot||oe(n.fullPath)}))}))},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ie(t.fullPath),gt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){oe(t.fullPath),gt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ne()!==e&&(t?ie(e):oe(e))},e.prototype.getCurrentLocation=function(){return ne()},e}(zt);function te(t){var e=Jt(t);if(!/^\/#/.test(e))return window.location.replace(k(t+"/#"+e)),!0}function ee(){var t=ne();return"/"===t.charAt(0)||(oe("/"+t),!1)}function ne(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":decodeURI(t.slice(e+1))}function re(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ie(t){Ot?Lt(re(t)):window.location.hash=t}function oe(t){Ot?It(re(t)):window.location.replace(re(t))}var ae=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){e.index=n,e.updateRoute(r)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(zt),se=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ht(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Ot&&!1!==t.fallback,this.fallback&&(e="hash"),P||(e="abstract"),this.mode=e,e){case"history":this.history=new Kt(this,t.base);break;case"hash":this.history=new Qt(this,t.base,this.fallback);break;case"abstract":this.history=new ae(this,t.base);break;default:0}},ue={currentRoute:{configurable:!0}};function ce(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function le(t,e,n){var r="hash"===n?"#"+e:e;return t?k(t+"/"+r):r}se.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},ue.currentRoute.get=function(){return this.history&&this.history.current},se.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var n=this.history;if(n instanceof Kt)n.transitionTo(n.getCurrentLocation());else if(n instanceof Qt){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},se.prototype.beforeEach=function(t){return ce(this.beforeHooks,t)},se.prototype.beforeResolve=function(t){return ce(this.resolveHooks,t)},se.prototype.afterEach=function(t){return ce(this.afterHooks,t)},se.prototype.onReady=function(t,e){this.history.onReady(t,e)},se.prototype.onError=function(t){this.history.onError(t)},se.prototype.push=function(t,e,n){this.history.push(t,e,n)},se.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},se.prototype.go=function(t){this.history.go(t)},se.prototype.back=function(){this.go(-1)},se.prototype.forward=function(){this.go(1)},se.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},se.prototype.resolve=function(t,e,n){var r=lt(t,e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=le(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},se.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==_&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(se.prototype,ue),se.install=I,se.version="3.0.2",P&&window.Vue&&window.Vue.use(se),e["a"]=se},"8d32":function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),c=Math.sin(o);t.moveTo(u*i+n,c*i+r),t.arc(n,r,i,o,a,!s)},e}(i["b"]);a.prototype.type="arc",e["a"]=a},"8df4":function(t,e,n){"use strict";var r=n("7a77");function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t,e=new i((function(e){t=e}));return{token:e,cancel:t}},t.exports=i},"8e43":function(t,e,n){"use strict";var r=n("6d8b"),i=0,o=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++i}return t.createByAxisModel=function(e){var n=e.option,i=n.data,o=i&&Object(r["H"])(i,a);return new t({categories:o,needCollect:!o,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return e=r.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(r["g"])(this.categories))},t}();function a(t){return Object(r["A"])(t)&&null!=t.value?t.value:t+""}e["a"]=o},"8eb7":function(t,e){var n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v=!1;function y(){if(!v){v=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),y=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(d=/\b(iPhone|iP[ao]d)/.exec(t),p=/\b(iP[ao]d)/.exec(t),h=/Android/i.exec(t),m=/FBAN\/\w+;/i.exec(t),g=/Mobile/i.exec(t),f=!!/Win64/.exec(t),e){n=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(t);s=_?parseFloat(_[1])+4:n,r=e[2]?parseFloat(e[2]):NaN,i=e[3]?parseFloat(e[3]):NaN,o=e[4]?parseFloat(e[4]):NaN,o?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),a=e&&e[1]?parseFloat(e[1]):NaN):a=NaN}else n=r=i=a=o=NaN;if(y){if(y[1]){var b=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);u=!b||parseFloat(b[1].replace("_","."))}else u=!1;c=!!y[2],l=!!y[3]}else u=c=l=!1}}var _={ie:function(){return y()||n},ieCompatibilityMode:function(){return y()||s>n},ie64:function(){return _.ie()&&f},firefox:function(){return y()||r},opera:function(){return y()||i},webkit:function(){return y()||o},safari:function(){return _.webkit()},chrome:function(){return y()||a},windows:function(){return y()||c},osx:function(){return y()||u},linux:function(){return y()||l},iphone:function(){return y()||d},mobile:function(){return y()||d||p||h||g},nativeApp:function(){return y()||m},android:function(){return y()||h},ipad:function(){return y()||p}};t.exports=_},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9141:function(t,e,n){var r=n("ef08").document;t.exports=r&&r.documentElement},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],h=u||l||c;h&&(s=function(t){var e,n,i,s,h=this,f=c&&h.sticky,d=r.call(h),p=h.source,m=0,g=t;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),g=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",d)),l&&(n=new RegExp("^"+p+"$(?!\\s)",d)),u&&(e=h.lastIndex),i=o.call(f?n:h,g),f?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:u&&i&&(h.lastIndex=h.global?i.index+i[0].length:e),l&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"92f0":function(t,e,n){var r=n("1a14").f,i=n("9c0e"),o=n("cc15")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"92fa":function(t,e){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var i,o,a,s,u;for(a in e)if(i=t[a],o=e[a],i&&n.test(a))if("class"===a&&("string"===typeof i&&(u=i,t[a]=i={},i[u]=!0),"string"===typeof o&&(u=o,e[a]=o={},o[u]=!0)),"on"===a||"nativeOn"===a||"hook"===a)for(s in o)i[s]=r(i[s],o[s]);else if(Array.isArray(i))t[a]=i.concat(o);else if(Array.isArray(o))t[a]=[i].concat(o);else for(s in o)i[s]=o[s];else t[a]=e[a];return t}),{})}},"93bf":function(t,e,n){
/*!
* screenfull
* v4.2.0 - 2019-04-01
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var e="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},n=t.exports,r="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if(t=n[r],t&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(t){return new Promise(function(n){var o=i.requestFullscreen,a=function(){this.off("change",a),n()}.bind(this);t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[o]():t[o](r?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",a)}.bind(this))},exit:function(){return new Promise(function(t){if(this.isFullscreen){var n=function(){this.off("change",n),t()}.bind(this);e[i.exitFullscreen](),this.on("change",n)}else t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=o[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=o[t];r&&e.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?(t.exports=a,t.exports.default=a):window.screenfull=a):n?t.exports=!1:window.screenfull=!1})()},"944a":function(t,e,n){var r=n("746f");r("toStringTag")},"944e":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return h}));var r=n("3842"),i=r["v"];function o(t,e,n,o){var s={},c=t[1]-t[0],l=s.interval=r["m"](c/e,!0);null!=n&&l<n&&(l=s.interval=n),null!=o&&l>o&&(l=s.interval=o);var h=s.intervalPrecision=a(l),f=s.niceTickExtent=[i(Math.ceil(t[0]/l)*l,h),i(Math.floor(t[1]/l)*l,h)];return u(f,t),s}function a(t){return r["g"](t)+2}function s(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function u(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),s(t,0,e),s(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function c(t,e){return t>=e[0]&&t<=e[1]}function l(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function h(t,e){return t*(e[1]-e[0])+e[0]}},"94ca":function(t,e,n){var r=n("d039"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},9619:function(t,e,n){var r=n("597f"),i=n("0e15");t.exports={throttle:r,debounce:i}},9680:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,u=0,c=t;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;u=(e-r)/(t-n),c=(t*r-n*e)/(t-n);var l=u*o-a+c,h=l*l/(u*u+1);return h<=s/2*s/2}n.d(e,"a",(function(){return r}))},"96eb":function(module,exports,__webpack_require__){(function(t,e){module.exports=e()})(0,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){var r,i=n(1),o=n(3),a=n(5),s=n(20),u=n(23),c=n(25);"undefined"!==typeof window&&(r=n(27)
/*!
	    Mock - 模拟请求 & 模拟数据
	    https://github.com/nuysoft/Mock
	    墨智 mozhi.gyy@taobao.com nuysoft@gmail.com
	*/);var l={Handler:i,Random:a,Util:o,XHR:r,RE:s,toJSONSchema:u,valid:c,heredoc:o.heredoc,setup:function(t){return r.setup(t)},_mocked:{},version:"1.0.1-beta3"};r&&(r.Mock=l),l.mock=function(t,e,n){return 1===arguments.length?i.gen(t):(2===arguments.length&&(n=e,e=void 0),r&&(window.XMLHttpRequest=r),l._mocked[t+(e||"")]={rurl:t,rtype:e,template:n},l)},t.exports=l},function(module,exports,__webpack_require__){var Constant=__webpack_require__(2),Util=__webpack_require__(3),Parser=__webpack_require__(4),Random=__webpack_require__(5),RE=__webpack_require__(20),Handler={extend:Util.extend,gen:function(t,e,n){e=void 0==e?"":e+"",n=n||{},n={path:n.path||[Constant.GUID],templatePath:n.templatePath||[Constant.GUID++],currentContext:n.currentContext,templateCurrentContext:n.templateCurrentContext||t,root:n.root||n.currentContext,templateRoot:n.templateRoot||n.templateCurrentContext||t};var r,i=Parser.parse(e),o=Util.type(t);return Handler[o]?(r=Handler[o]({type:o,template:t,name:e,parsedName:e?e.replace(Constant.RE_KEY,"$1"):e,rule:i,context:n}),n.root||(n.root=r),r):t}};Handler.extend({array:function(t){var e,n,r=[];if(0===t.template.length)return r;if(t.rule.parameters)if(1===t.rule.min&&void 0===t.rule.max)t.context.path.push(t.name),t.context.templatePath.push(t.name),r=Random.pick(Handler.gen(t.template,void 0,{path:t.context.path,templatePath:t.context.templatePath,currentContext:r,templateCurrentContext:t.template,root:t.context.root||r,templateRoot:t.context.templateRoot||t.template})),t.context.path.pop(),t.context.templatePath.pop();else if(t.rule.parameters[2])t.template.__order_index=t.template.__order_index||0,t.context.path.push(t.name),t.context.templatePath.push(t.name),r=Handler.gen(t.template,void 0,{path:t.context.path,templatePath:t.context.templatePath,currentContext:r,templateCurrentContext:t.template,root:t.context.root||r,templateRoot:t.context.templateRoot||t.template})[t.template.__order_index%t.template.length],t.template.__order_index+=+t.rule.parameters[2],t.context.path.pop(),t.context.templatePath.pop();else for(e=0;e<t.rule.count;e++)for(n=0;n<t.template.length;n++)t.context.path.push(r.length),t.context.templatePath.push(n),r.push(Handler.gen(t.template[n],r.length,{path:t.context.path,templatePath:t.context.templatePath,currentContext:r,templateCurrentContext:t.template,root:t.context.root||r,templateRoot:t.context.templateRoot||t.template})),t.context.path.pop(),t.context.templatePath.pop();else for(e=0;e<t.template.length;e++)t.context.path.push(e),t.context.templatePath.push(e),r.push(Handler.gen(t.template[e],e,{path:t.context.path,templatePath:t.context.templatePath,currentContext:r,templateCurrentContext:t.template,root:t.context.root||r,templateRoot:t.context.templateRoot||t.template})),t.context.path.pop(),t.context.templatePath.pop();return r},object:function(t){var e,n,r,i,o,a,s={};if(void 0!=t.rule.min)for(e=Util.keys(t.template),e=Random.shuffle(e),e=e.slice(0,t.rule.count),a=0;a<e.length;a++)r=e[a],i=r.replace(Constant.RE_KEY,"$1"),t.context.path.push(i),t.context.templatePath.push(r),s[i]=Handler.gen(t.template[r],r,{path:t.context.path,templatePath:t.context.templatePath,currentContext:s,templateCurrentContext:t.template,root:t.context.root||s,templateRoot:t.context.templateRoot||t.template}),t.context.path.pop(),t.context.templatePath.pop();else{for(r in e=[],n=[],t.template)("function"===typeof t.template[r]?n:e).push(r);for(e=e.concat(n),a=0;a<e.length;a++)r=e[a],i=r.replace(Constant.RE_KEY,"$1"),t.context.path.push(i),t.context.templatePath.push(r),s[i]=Handler.gen(t.template[r],r,{path:t.context.path,templatePath:t.context.templatePath,currentContext:s,templateCurrentContext:t.template,root:t.context.root||s,templateRoot:t.context.templateRoot||t.template}),t.context.path.pop(),t.context.templatePath.pop(),o=r.match(Constant.RE_KEY),o&&o[2]&&"number"===Util.type(t.template[r])&&(t.template[r]+=parseInt(o[2],10))}return s},number:function(t){var e,n;if(t.rule.decimal){t.template+="",n=t.template.split("."),n[0]=t.rule.range?t.rule.count:n[0],n[1]=(n[1]||"").slice(0,t.rule.dcount);while(n[1].length<t.rule.dcount)n[1]+=n[1].length<t.rule.dcount-1?Random.character("number"):Random.character("123456789");e=parseFloat(n.join("."),10)}else e=t.rule.range&&!t.rule.parameters[2]?t.rule.count:t.template;return e},boolean:function(t){var e;return e=t.rule.parameters?Random.bool(t.rule.min,t.rule.max,t.template):t.template,e},string:function(t){var e,n,r,i,o="";if(t.template.length){for(void 0==t.rule.count&&(o+=t.template),e=0;e<t.rule.count;e++)o+=t.template;for(n=o.match(Constant.RE_PLACEHOLDER)||[],e=0;e<n.length;e++)if(r=n[e],/^\\/.test(r))n.splice(e--,1);else{if(i=Handler.placeholder(r,t.context.currentContext,t.context.templateCurrentContext,t),1===n.length&&r===o&&typeof i!==typeof o){o=i;break}o=o.replace(r,i)}}else o=t.rule.range?Random.string(t.rule.count):t.template;return o},function:function(t){return t.template.call(t.context.currentContext,t)},regexp:function(t){var e="";void 0==t.rule.count&&(e+=t.template.source);for(var n=0;n<t.rule.count;n++)e+=t.template.source;return RE.Handler.gen(RE.Parser.parse(e))}}),Handler.extend({_all:function(){var t={};for(var e in Random)t[e.toLowerCase()]=e;return t},placeholder:function(placeholder,obj,templateContext,options){Constant.RE_PLACEHOLDER.exec("");var parts=Constant.RE_PLACEHOLDER.exec(placeholder),key=parts&&parts[1],lkey=key&&key.toLowerCase(),okey=this._all()[lkey],params=parts&&parts[2]||"",pathParts=this.splitPathToArray(key);try{params=eval("(function(){ return [].splice.call(arguments, 0 ) })("+params+")")}catch(error){params=parts[2].split(/,\s*/)}if(obj&&key in obj)return obj[key];if("/"===key.charAt(0)||pathParts.length>1)return this.getValueByKeyPath(key,options);if(templateContext&&"object"===typeof templateContext&&key in templateContext&&placeholder!==templateContext[key])return templateContext[key]=Handler.gen(templateContext[key],key,{currentContext:obj,templateCurrentContext:templateContext}),templateContext[key];if(!(key in Random)&&!(lkey in Random)&&!(okey in Random))return placeholder;for(var i=0;i<params.length;i++)Constant.RE_PLACEHOLDER.exec(""),Constant.RE_PLACEHOLDER.test(params[i])&&(params[i]=Handler.placeholder(params[i],obj,templateContext,options));var handle=Random[key]||Random[lkey]||Random[okey];switch(Util.type(handle)){case"array":return Random.pick(handle);case"function":handle.options=options;var re=handle.apply(Random,params);return void 0===re&&(re=""),delete handle.options,re}},getValueByKeyPath:function(t,e){var n=t,r=this.splitPathToArray(t),i=[];"/"===t.charAt(0)?i=[e.context.path[0]].concat(this.normalizePath(r)):r.length>1&&(i=e.context.path.slice(0),i.pop(),i=this.normalizePath(i.concat(r))),t=r[r.length-1];for(var o=e.context.root,a=e.context.templateRoot,s=1;s<i.length-1;s++)o=o[i[s]],a=a[i[s]];return o&&t in o?o[t]:a&&"object"===typeof a&&t in a&&n!==a[t]?(a[t]=Handler.gen(a[t],t,{currentContext:o,templateCurrentContext:a}),a[t]):void 0},normalizePath:function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n]){case"..":e.pop();break;case".":break;default:e.push(t[n])}return e},splitPathToArray:function(t){var e=t.split(/\/+/);return e[e.length-1]||(e=e.slice(0,-1)),e[0]||(e=e.slice(1)),e}}),module.exports=Handler},function(t,e){t.exports={GUID:1,RE_KEY:/(.+)\|(?:\+(\d+)|([\+\-]?\d+-?[\+\-]?\d*)?(?:\.(\d+-?\d*))?)/,RE_RANGE:/([\+\-]?\d+)-?([\+\-]?\d+)?/,RE_PLACEHOLDER:/\\*@([^@#%&()\?\s]+)(?:\((.*?)\))?/g}},function(t,e){var n={extend:function(){var t,e,r,i,o,a=arguments[0]||{},s=1,u=arguments.length;for(1===u&&(a=this,s=0);s<u;s++)if(t=arguments[s],t)for(e in t)r=a[e],i=t[e],a!==i&&void 0!==i&&(n.isArray(i)||n.isObject(i)?(n.isArray(i)&&(o=r&&n.isArray(r)?r:[]),n.isObject(i)&&(o=r&&n.isObject(r)?r:{}),a[e]=n.extend(o,i)):a[e]=i);return a},each:function(t,e,n){var r,i;if("number"===this.type(t))for(r=0;r<t;r++)e(r,r);else if(t.length===+t.length){for(r=0;r<t.length;r++)if(!1===e.call(n,t[r],r,t))break}else for(i in t)if(!1===e.call(n,t[i],i,t))break},type:function(t){return null===t||void 0===t?String(t):Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1].toLowerCase()}};n.each("String Object Array RegExp Function".split(" "),(function(t){n["is"+t]=function(e){return n.type(e)===t.toLowerCase()}})),n.isObjectOrArray=function(t){return n.isObject(t)||n.isArray(t)},n.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},n.heredoc=function(t){return t.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},n.noop=function(){},t.exports=n},function(t,e,n){var r=n(2),i=n(5);t.exports={parse:function(t){t=void 0==t?"":t+"";var e=(t||"").match(r.RE_KEY),n=e&&e[3]&&e[3].match(r.RE_RANGE),o=n&&n[1]&&parseInt(n[1],10),a=n&&n[2]&&parseInt(n[2],10),s=n?n[2]?i.integer(o,a):parseInt(n[1],10):void 0,u=e&&e[4]&&e[4].match(r.RE_RANGE),c=u&&u[1]&&parseInt(u[1],10),l=u&&u[2]&&parseInt(u[2],10),h=u?!u[2]&&parseInt(u[1],10)||i.integer(c,l):void 0,f={parameters:e,range:n,min:o,max:a,count:s,decimal:u,dmin:c,dmax:l,dcount:h};for(var d in f)if(void 0!=f[d])return f;return{}}}},function(t,e,n){var r=n(3),i={extend:r.extend};i.extend(n(6)),i.extend(n(7)),i.extend(n(8)),i.extend(n(10)),i.extend(n(13)),i.extend(n(15)),i.extend(n(16)),i.extend(n(17)),i.extend(n(14)),i.extend(n(19)),t.exports=i},function(t,e){t.exports={boolean:function(t,e,n){return void 0!==n?(t="undefined"===typeof t||isNaN(t)?1:parseInt(t,10),e="undefined"===typeof e||isNaN(e)?1:parseInt(e,10),Math.random()>1/(t+e)*t?!n:n):Math.random()>=.5},bool:function(t,e,n){return this.boolean(t,e,n)},natural:function(t,e){return t="undefined"!==typeof t?parseInt(t,10):0,e="undefined"!==typeof e?parseInt(e,10):9007199254740992,Math.round(Math.random()*(e-t))+t},integer:function(t,e){return t="undefined"!==typeof t?parseInt(t,10):-9007199254740992,e="undefined"!==typeof e?parseInt(e,10):9007199254740992,Math.round(Math.random()*(e-t))+t},int:function(t,e){return this.integer(t,e)},float:function(t,e,n,r){n=void 0===n?0:n,n=Math.max(Math.min(n,17),0),r=void 0===r?17:r,r=Math.max(Math.min(r,17),0);for(var i=this.integer(t,e)+".",o=0,a=this.natural(n,r);o<a;o++)i+=o<a-1?this.character("number"):this.character("123456789");return parseFloat(i,10)},character:function(t){var e={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"!@#$%^&*()[]"};return e.alpha=e.lower+e.upper,e["undefined"]=e.lower+e.upper+e.number+e.symbol,t=e[(""+t).toLowerCase()]||t,t.charAt(this.natural(0,t.length-1))},char:function(t){return this.character(t)},string:function(t,e,n){var r;switch(arguments.length){case 0:r=this.natural(3,7);break;case 1:r=t,t=void 0;break;case 2:"string"===typeof arguments[0]?r=e:(r=this.natural(t,e),t=void 0);break;case 3:r=this.natural(e,n);break}for(var i="",o=0;o<r;o++)i+=this.character(t);return i},str:function(){return this.string.apply(this,arguments)},range:function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1,t=+t,e=+e,n=+n;var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);while(i<r)o[i++]=t,t+=n;return o}}},function(t,e){var n={yyyy:"getFullYear",yy:function(t){return(""+t.getFullYear()).slice(2)},y:"yy",MM:function(t){var e=t.getMonth()+1;return e<10?"0"+e:e},M:function(t){return t.getMonth()+1},dd:function(t){var e=t.getDate();return e<10?"0"+e:e},d:"getDate",HH:function(t){var e=t.getHours();return e<10?"0"+e:e},H:"getHours",hh:function(t){var e=t.getHours()%12;return e<10?"0"+e:e},h:function(t){return t.getHours()%12},mm:function(t){var e=t.getMinutes();return e<10?"0"+e:e},m:"getMinutes",ss:function(t){var e=t.getSeconds();return e<10?"0"+e:e},s:"getSeconds",SS:function(t){var e=t.getMilliseconds();return e<10&&"00"+e||e<100&&"0"+e||e},S:"getMilliseconds",A:function(t){return t.getHours()<12?"AM":"PM"},a:function(t){return t.getHours()<12?"am":"pm"},T:"getTime"};t.exports={_patternLetters:n,_rformat:new RegExp(function(){var t=[];for(var e in n)t.push(e);return"("+t.join("|")+")"}(),"g"),_formatDate:function(t,e){return e.replace(this._rformat,(function e(r,i){return"function"===typeof n[i]?n[i](t):n[i]in n?e(r,n[i]):t[n[i]]()}))},_randomDate:function(t,e){return t=void 0===t?new Date(0):t,e=void 0===e?new Date:e,new Date(Math.random()*(e.getTime()-t.getTime()))},date:function(t){return t=t||"yyyy-MM-dd",this._formatDate(this._randomDate(),t)},time:function(t){return t=t||"HH:mm:ss",this._formatDate(this._randomDate(),t)},datetime:function(t){return t=t||"yyyy-MM-dd HH:mm:ss",this._formatDate(this._randomDate(),t)},now:function(t,e){1===arguments.length&&(/year|month|day|hour|minute|second|week/.test(t)||(e=t,t="")),t=(t||"").toLowerCase(),e=e||"yyyy-MM-dd HH:mm:ss";var n=new Date;switch(t){case"year":n.setMonth(0);case"month":n.setDate(1);case"week":case"day":n.setHours(0);case"hour":n.setMinutes(0);case"minute":n.setSeconds(0);case"second":n.setMilliseconds(0)}switch(t){case"week":n.setDate(n.getDate()-n.getDay())}return this._formatDate(n,e)}}},function(t,e,n){(function(t){t.exports={_adSize:["300x250","250x250","240x400","336x280","180x150","720x300","468x60","234x60","88x31","120x90","120x60","120x240","125x125","728x90","160x600","120x600","300x600"],_screenSize:["320x200","320x240","640x480","800x480","800x480","1024x600","1024x768","1280x800","1440x900","1920x1200","2560x1600"],_videoSize:["720x480","768x576","1280x720","1920x1080"],image:function(t,e,n,r,i){return 4===arguments.length&&(i=r,r=void 0),3===arguments.length&&(i=n,n=void 0),t||(t=this.pick(this._adSize)),e&&~e.indexOf("#")&&(e=e.slice(1)),n&&~n.indexOf("#")&&(n=n.slice(1)),"http://dummyimage.com/"+t+(e?"/"+e:"")+(n?"/"+n:"")+(r?"."+r:"")+(i?"&text="+i:"")},img:function(){return this.image.apply(this,arguments)},_brandColors:{"4ormat":"#fb0a2a","500px":"#02adea","About.me (blue)":"#00405d","About.me (yellow)":"#ffcc33",Addvocate:"#ff6138",Adobe:"#ff0000",Aim:"#fcd20b",Amazon:"#e47911",Android:"#a4c639","Angie's List":"#7fbb00",AOL:"#0060a3",Atlassian:"#003366",Behance:"#053eff","Big Cartel":"#97b538",bitly:"#ee6123",Blogger:"#fc4f08",Boeing:"#0039a6","Booking.com":"#003580",Carbonmade:"#613854",Cheddar:"#ff7243","Code School":"#3d4944",Delicious:"#205cc0",Dell:"#3287c1",Designmoo:"#e54a4f",Deviantart:"#4e6252","Designer News":"#2d72da",Devour:"#fd0001",DEWALT:"#febd17","Disqus (blue)":"#59a3fc","Disqus (orange)":"#db7132",Dribbble:"#ea4c89",Dropbox:"#3d9ae8",Drupal:"#0c76ab",Dunked:"#2a323a",eBay:"#89c507",Ember:"#f05e1b",Engadget:"#00bdf6",Envato:"#528036",Etsy:"#eb6d20",Evernote:"#5ba525","Fab.com":"#dd0017",Facebook:"#3b5998",Firefox:"#e66000","Flickr (blue)":"#0063dc","Flickr (pink)":"#ff0084",Forrst:"#5b9a68",Foursquare:"#25a0ca",Garmin:"#007cc3",GetGlue:"#2d75a2",Gimmebar:"#f70078",GitHub:"#171515","Google Blue":"#0140ca","Google Green":"#16a61e","Google Red":"#dd1812","Google Yellow":"#fcca03","Google+":"#dd4b39",Grooveshark:"#f77f00",Groupon:"#82b548","Hacker News":"#ff6600",HelloWallet:"#0085ca","Heroku (light)":"#c7c5e6","Heroku (dark)":"#6567a5",HootSuite:"#003366",Houzz:"#73ba37",HTML5:"#ec6231",IKEA:"#ffcc33",IMDb:"#f3ce13",Instagram:"#3f729b",Intel:"#0071c5",Intuit:"#365ebf",Kickstarter:"#76cc1e",kippt:"#e03500",Kodery:"#00af81",LastFM:"#c3000d",LinkedIn:"#0e76a8",Livestream:"#cf0005",Lumo:"#576396",Mixpanel:"#a086d3",Meetup:"#e51937",Nokia:"#183693",NVIDIA:"#76b900",Opera:"#cc0f16",Path:"#e41f11","PayPal (dark)":"#1e477a","PayPal (light)":"#3b7bbf",Pinboard:"#0000e6",Pinterest:"#c8232c",PlayStation:"#665cbe",Pocket:"#ee4056",Prezi:"#318bff",Pusha:"#0f71b4",Quora:"#a82400","QUOTE.fm":"#66ceff",Rdio:"#008fd5",Readability:"#9c0000","Red Hat":"#cc0000",Resource:"#7eb400",Rockpack:"#0ba6ab",Roon:"#62b0d9",RSS:"#ee802f",Salesforce:"#1798c1",Samsung:"#0c4da2",Shopify:"#96bf48",Skype:"#00aff0",Snagajob:"#f47a20",Softonic:"#008ace",SoundCloud:"#ff7700","Space Box":"#f86960",Spotify:"#81b71a",Sprint:"#fee100",Squarespace:"#121212",StackOverflow:"#ef8236",Staples:"#cc0000","Status Chart":"#d7584f",Stripe:"#008cdd",StudyBlue:"#00afe1",StumbleUpon:"#f74425","T-Mobile":"#ea0a8e",Technorati:"#40a800","The Next Web":"#ef4423",Treehouse:"#5cb868",Trulia:"#5eab1f",Tumblr:"#34526f","Twitch.tv":"#6441a5",Twitter:"#00acee",TYPO3:"#ff8700",Ubuntu:"#dd4814",Ustream:"#3388ff",Verizon:"#ef1d1d",Vimeo:"#86c9ef",Vine:"#00a478",Virb:"#06afd8","Virgin Media":"#cc0000",Wooga:"#5b009c","WordPress (blue)":"#21759b","WordPress (orange)":"#d54e21","WordPress (grey)":"#464646",Wunderlist:"#2b88d9",XBOX:"#9bc848",XING:"#126567","Yahoo!":"#720e9e",Yandex:"#ffcc00",Yelp:"#c41200",YouTube:"#c4302b",Zalongo:"#5498dc",Zendesk:"#78a300",Zerply:"#9dcc7a",Zootool:"#5e8b1d"},_brandNames:function(){var t=[];for(var e in this._brandColors)t.push(e);return t},dataImage:function(e,n){var r;if("undefined"!==typeof document)r=document.createElement("canvas");else{var i=t.require("canvas");r=new i}var o=r&&r.getContext&&r.getContext("2d");if(!r||!o)return"";e||(e=this.pick(this._adSize)),n=void 0!==n?n:e,e=e.split("x");var a=parseInt(e[0],10),s=parseInt(e[1],10),u=this._brandColors[this.pick(this._brandNames())],c="#FFF",l=14,h="sans-serif";return r.width=a,r.height=s,o.textAlign="center",o.textBaseline="middle",o.fillStyle=u,o.fillRect(0,0,a,s),o.fillStyle=c,o.font="bold "+l+"px "+h,o.fillText(n,a/2,s/2,a),r.toDataURL("image/png")}}}).call(e,n(9)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r=n(11),i=n(12);t.exports={color:function(t){return t||i[t]?i[t].nicer:this.hex()},hex:function(){var t=this._goldenRatioColor(),e=r.hsv2rgb(t),n=r.rgb2hex(e[0],e[1],e[2]);return n},rgb:function(){var t=this._goldenRatioColor(),e=r.hsv2rgb(t);return"rgb("+parseInt(e[0],10)+", "+parseInt(e[1],10)+", "+parseInt(e[2],10)+")"},rgba:function(){var t=this._goldenRatioColor(),e=r.hsv2rgb(t);return"rgba("+parseInt(e[0],10)+", "+parseInt(e[1],10)+", "+parseInt(e[2],10)+", "+Math.random().toFixed(2)+")"},hsl:function(){var t=this._goldenRatioColor(),e=r.hsv2hsl(t);return"hsl("+parseInt(e[0],10)+", "+parseInt(e[1],10)+", "+parseInt(e[2],10)+")"},_goldenRatioColor:function(t,e){return this._goldenRatio=.618033988749895,this._hue=this._hue||Math.random(),this._hue+=this._goldenRatio,this._hue%=1,"number"!==typeof t&&(t=.5),"number"!==typeof e&&(e=.95),[360*this._hue,100*t,100*e]}}},function(t,e){t.exports={rgb2hsl:function(t){var e,n,r,i=t[0]/255,o=t[1]/255,a=t[2]/255,s=Math.min(i,o,a),u=Math.max(i,o,a),c=u-s;return u==s?e=0:i==u?e=(o-a)/c:o==u?e=2+(a-i)/c:a==u&&(e=4+(i-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),r=(s+u)/2,n=u==s?0:r<=.5?c/(u+s):c/(2-u-s),[e,100*n,100*r]},rgb2hsv:function(t){var e,n,r,i=t[0],o=t[1],a=t[2],s=Math.min(i,o,a),u=Math.max(i,o,a),c=u-s;return n=0===u?0:c/u*1e3/10,u==s?e=0:i==u?e=(o-a)/c:o==u?e=2+(a-i)/c:a==u&&(e=4+(i-o)/c),e=Math.min(60*e,360),e<0&&(e+=360),r=u/255*1e3/10,[e,n,r]},hsl2rgb:function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return o=255*u,[o,o,o];n=u<.5?u*(1+s):u+s-u*s,e=2*u-n,i=[0,0,0];for(var c=0;c<3;c++)r=a+1/3*-(c-1),r<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[c]=255*o;return i},hsl2hsv:function(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return o*=2,i*=o<=1?o:2-o,n=(o+i)/2,e=2*i/(o+i),[r,100*e,100*n]},hsv2rgb:function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},hsv2hsl:function(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return n=(2-i)*o,e=i*o,e/=n<=1?n:2-n,n/=2,[r,100*e,100*n]},rgb2hex:function(t,e,n){return"#"+((256+t<<8|e)<<8|n).toString(16).slice(1)},hex2rgb:function(t){return t="0x"+t.slice(1).replace(t.length>4?t:/./g,"$&$&")|0,[t>>16,t>>8&255,255&t]}}},function(t,e){t.exports={navy:{value:"#000080",nicer:"#001F3F"},blue:{value:"#0000ff",nicer:"#0074D9"},aqua:{value:"#00ffff",nicer:"#7FDBFF"},teal:{value:"#008080",nicer:"#39CCCC"},olive:{value:"#008000",nicer:"#3D9970"},green:{value:"#008000",nicer:"#2ECC40"},lime:{value:"#00ff00",nicer:"#01FF70"},yellow:{value:"#ffff00",nicer:"#FFDC00"},orange:{value:"#ffa500",nicer:"#FF851B"},red:{value:"#ff0000",nicer:"#FF4136"},maroon:{value:"#800000",nicer:"#85144B"},fuchsia:{value:"#ff00ff",nicer:"#F012BE"},purple:{value:"#800080",nicer:"#B10DC9"},silver:{value:"#c0c0c0",nicer:"#DDDDDD"},gray:{value:"#808080",nicer:"#AAAAAA"},black:{value:"#000000",nicer:"#111111"},white:{value:"#FFFFFF",nicer:"#FFFFFF"}}},function(t,e,n){var r=n(6),i=n(14);function o(t,e,n,i){return void 0===n?r.natural(t,e):void 0===i?n:r.natural(parseInt(n,10),parseInt(i,10))}t.exports={paragraph:function(t,e){for(var n=o(3,7,t,e),r=[],i=0;i<n;i++)r.push(this.sentence());return r.join(" ")},cparagraph:function(t,e){for(var n=o(3,7,t,e),r=[],i=0;i<n;i++)r.push(this.csentence());return r.join("")},sentence:function(t,e){for(var n=o(12,18,t,e),r=[],a=0;a<n;a++)r.push(this.word());return i.capitalize(r.join(" "))+"."},csentence:function(t,e){for(var n=o(12,18,t,e),r=[],i=0;i<n;i++)r.push(this.cword());return r.join("")+"。"},word:function(t,e){for(var n=o(3,10,t,e),i="",a=0;a<n;a++)i+=r.character("lower");return i},cword:function(t,e,n){var r,i="的一是在不了有和人这中大为上个国我以要他时来用们生到作地于出就分对成会可主发年动同工也能下过子说产种面而方后多定行学法所民得经十三之进着等部度家电力里如水化高自二理起小物现实加量都两体制机当使点从业本去把性好应开它合还因由其些然前外天政四日那社义事平形相全表间样与关各重新线内数正心反你明看原又么利比或但质气第向道命此变条只没结解问意建月公无系军很情者最立代想已通并提直题党程展五果料象员革位入常文总次品式活设及管特件长求老头基资边流路级少图山统接知较将组见计别她手角期根论运农指几九区强放决西被干做必战先回则任取据处队南给色光门即保治北造百规热领七海口东导器压志世金增争济阶油思术极交受联什认六共权收证改清己美再采转更单风切打白教速花带安场身车例真务具万每目至达走积示议声报斗完类八离华名确才科张信马节话米整空元况今集温传土许步群广石记需段研界拉林律叫且究观越织装影算低持音众书布复容儿须际商非验连断深难近矿千周委素技备半办青省列习响约支般史感劳便团往酸历市克何除消构府称太准精值号率族维划选标写存候毛亲快效斯院查江型眼王按格养易置派层片始却专状育厂京识适属圆包火住调满县局照参红细引听该铁价严龙飞";switch(arguments.length){case 0:t=i,r=1;break;case 1:"string"===typeof arguments[0]?r=1:(r=t,t=i);break;case 2:"string"===typeof arguments[0]?r=e:(r=this.natural(t,e),t=i);break;case 3:r=this.natural(e,n);break}for(var o="",a=0;a<r;a++)o+=t.charAt(this.natural(0,t.length-1));return o},title:function(t,e){for(var n=o(3,7,t,e),r=[],i=0;i<n;i++)r.push(this.capitalize(this.word()));return r.join(" ")},ctitle:function(t,e){for(var n=o(3,7,t,e),r=[],i=0;i<n;i++)r.push(this.cword());return r.join("")}}},function(t,e,n){var r=n(3);t.exports={capitalize:function(t){return(t+"").charAt(0).toUpperCase()+(t+"").substr(1)},upper:function(t){return(t+"").toUpperCase()},lower:function(t){return(t+"").toLowerCase()},pick:function(t,e,n){return r.isArray(t)?(void 0===e&&(e=1),void 0===n&&(n=e)):(t=[].slice.call(arguments),e=1,n=1),1===e&&1===n?t[this.natural(0,t.length-1)]:this.shuffle(t,e,n)},shuffle:function(t,e,n){t=t||[];for(var r=t.slice(0),i=[],o=0,a=r.length,s=0;s<a;s++)o=this.natural(0,r.length-1),i.push(r[o]),r.splice(o,1);switch(arguments.length){case 0:case 1:return i;case 2:n=e;case 3:return e=parseInt(e,10),n=parseInt(n,10),i.slice(0,this.natural(e,n))}},order:function t(e){t.cache=t.cache||{},arguments.length>1&&(e=[].slice.call(arguments,0));var n=t.options,r=n.context.templatePath.join("."),i=t.cache[r]=t.cache[r]||{index:0,array:e};return i.array[i.index++%i.array.length]}}},function(t,e){t.exports={first:function(){var t=["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric"].concat(["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna"]);return this.pick(t)},last:function(){var t=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen"];return this.pick(t)},name:function(t){return this.first()+" "+(t?this.first()+" ":"")+this.last()},cfirst:function(){var t="王 李 张 刘 陈 杨 赵 黄 周 吴 徐 孙 胡 朱 高 林 何 郭 马 罗 梁 宋 郑 谢 韩 唐 冯 于 董 萧 程 曹 袁 邓 许 傅 沈 曾 彭 吕 苏 卢 蒋 蔡 贾 丁 魏 薛 叶 阎 余 潘 杜 戴 夏 锺 汪 田 任 姜 范 方 石 姚 谭 廖 邹 熊 金 陆 郝 孔 白 崔 康 毛 邱 秦 江 史 顾 侯 邵 孟 龙 万 段 雷 钱 汤 尹 黎 易 常 武 乔 贺 赖 龚 文".split(" ");return this.pick(t)},clast:function(){var t="伟 芳 娜 秀英 敏 静 丽 强 磊 军 洋 勇 艳 杰 娟 涛 明 超 秀兰 霞 平 刚 桂英".split(" ");return this.pick(t)},cname:function(){return this.cfirst()+this.clast()}}},function(t,e){t.exports={url:function(t,e){return(t||this.protocol())+"://"+(e||this.domain())+"/"+this.word()},protocol:function(){return this.pick("http ftp gopher mailto mid cid news nntp prospero telnet rlogin tn3270 wais".split(" "))},domain:function(t){return this.word()+"."+(t||this.tld())},tld:function(){return this.pick("com net org edu gov int mil cn com.cn net.cn gov.cn org.cn 中国 中国互联.公司 中国互联.网络 tel biz cc tv info name hk mobi asia cd travel pro museum coop aero ad ae af ag ai al am an ao aq ar as at au aw az ba bb bd be bf bg bh bi bj bm bn bo br bs bt bv bw by bz ca cc cf cg ch ci ck cl cm cn co cq cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh es et ev fi fj fk fm fo fr ga gb gd ge gf gh gi gl gm gn gp gr gt gu gw gy hk hm hn hr ht hu id ie il in io iq ir is it jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md mg mh ml mm mn mo mp mq mr ms mt mv mw mx my mz na nc ne nf ng ni nl no np nr nt nu nz om qa pa pe pf pg ph pk pl pm pn pr pt pw py re ro ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr st su sy sz tc td tf tg th tj tk tm tn to tp tr tt tv tw tz ua ug uk us uy va vc ve vg vn vu wf ws ye yu za zm zr zw".split(" "))},email:function(t){return this.character("lower")+"."+this.word()+"@"+(t||this.word()+"."+this.tld())},ip:function(){return this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)}}},function(t,e,n){var r=n(18),i=["东北","华北","华东","华中","华南","西南","西北"];t.exports={region:function(){return this.pick(i)},province:function(){return this.pick(r).name},city:function(t){var e=this.pick(r),n=this.pick(e.children);return t?[e.name,n.name].join(" "):n.name},county:function(t){var e=this.pick(r),n=this.pick(e.children),i=this.pick(n.children)||{name:"-"};return t?[e.name,n.name,i.name].join(" "):i.name},zip:function(t){for(var e="",n=0;n<(t||6);n++)e+=this.natural(0,9);return e}}},function(t,e){var n={11e4:"北京",110100:"北京市",110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110228:"密云县",110229:"延庆县",110230:"其它区",12e4:"天津",120100:"天津市",120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区",120106:"红桥区",120110:"东丽区",120111:"西青区",120112:"津南区",120113:"北辰区",120114:"武清区",120115:"宝坻区",120116:"滨海新区",120221:"宁河县",120223:"静海县",120225:"蓟县",120226:"其它区",13e4:"河北省",130100:"石家庄市",130102:"长安区",130103:"桥东区",130104:"桥西区",130105:"新华区",130107:"井陉矿区",130108:"裕华区",130121:"井陉县",130123:"正定县",130124:"栾城县",130125:"行唐县",130126:"灵寿县",130127:"高邑县",130128:"深泽县",130129:"赞皇县",130130:"无极县",130131:"平山县",130132:"元氏县",130133:"赵县",130181:"辛集市",130182:"藁城市",130183:"晋州市",130184:"新乐市",130185:"鹿泉市",130186:"其它区",130200:"唐山市",130202:"路南区",130203:"路北区",130204:"古冶区",130205:"开平区",130207:"丰南区",130208:"丰润区",130223:"滦县",130224:"滦南县",130225:"乐亭县",130227:"迁西县",130229:"玉田县",130230:"曹妃甸区",130281:"遵化市",130283:"迁安市",130284:"其它区",130300:"秦皇岛市",130302:"海港区",130303:"山海关区",130304:"北戴河区",130321:"青龙满族自治县",130322:"昌黎县",130323:"抚宁县",130324:"卢龙县",130398:"其它区",130400:"邯郸市",130402:"邯山区",130403:"丛台区",130404:"复兴区",130406:"峰峰矿区",130421:"邯郸县",130423:"临漳县",130424:"成安县",130425:"大名县",130426:"涉县",130427:"磁县",130428:"肥乡县",130429:"永年县",130430:"邱县",130431:"鸡泽县",130432:"广平县",130433:"馆陶县",130434:"魏县",130435:"曲周县",130481:"武安市",130482:"其它区",130500:"邢台市",130502:"桥东区",130503:"桥西区",130521:"邢台县",130522:"临城县",130523:"内丘县",130524:"柏乡县",130525:"隆尧县",130526:"任县",130527:"南和县",130528:"宁晋县",130529:"巨鹿县",130530:"新河县",130531:"广宗县",130532:"平乡县",130533:"威县",130534:"清河县",130535:"临西县",130581:"南宫市",130582:"沙河市",130583:"其它区",130600:"保定市",130602:"新市区",130603:"北市区",130604:"南市区",130621:"满城县",130622:"清苑县",130623:"涞水县",130624:"阜平县",130625:"徐水县",130626:"定兴县",130627:"唐县",130628:"高阳县",130629:"容城县",130630:"涞源县",130631:"望都县",130632:"安新县",130633:"易县",130634:"曲阳县",130635:"蠡县",130636:"顺平县",130637:"博野县",130638:"雄县",130681:"涿州市",130682:"定州市",130683:"安国市",130684:"高碑店市",130699:"其它区",130700:"张家口市",130702:"桥东区",130703:"桥西区",130705:"宣化区",130706:"下花园区",130721:"宣化县",130722:"张北县",130723:"康保县",130724:"沽源县",130725:"尚义县",130726:"蔚县",130727:"阳原县",130728:"怀安县",130729:"万全县",130730:"怀来县",130731:"涿鹿县",130732:"赤城县",130733:"崇礼县",130734:"其它区",130800:"承德市",130802:"双桥区",130803:"双滦区",130804:"鹰手营子矿区",130821:"承德县",130822:"兴隆县",130823:"平泉县",130824:"滦平县",130825:"隆化县",130826:"丰宁满族自治县",130827:"宽城满族自治县",130828:"围场满族蒙古族自治县",130829:"其它区",130900:"沧州市",130902:"新华区",130903:"运河区",130921:"沧县",130922:"青县",130923:"东光县",130924:"海兴县",130925:"盐山县",130926:"肃宁县",130927:"南皮县",130928:"吴桥县",130929:"献县",130930:"孟村回族自治县",130981:"泊头市",130982:"任丘市",130983:"黄骅市",130984:"河间市",130985:"其它区",131e3:"廊坊市",131002:"安次区",131003:"广阳区",131022:"固安县",131023:"永清县",131024:"香河县",131025:"大城县",131026:"文安县",131028:"大厂回族自治县",131081:"霸州市",131082:"三河市",131083:"其它区",131100:"衡水市",131102:"桃城区",131121:"枣强县",131122:"武邑县",131123:"武强县",131124:"饶阳县",131125:"安平县",131126:"故城县",131127:"景县",131128:"阜城县",131181:"冀州市",131182:"深州市",131183:"其它区",14e4:"山西省",140100:"太原市",140105:"小店区",140106:"迎泽区",140107:"杏花岭区",140108:"尖草坪区",140109:"万柏林区",140110:"晋源区",140121:"清徐县",140122:"阳曲县",140123:"娄烦县",140181:"古交市",140182:"其它区",140200:"大同市",140202:"城区",140203:"矿区",140211:"南郊区",140212:"新荣区",140221:"阳高县",140222:"天镇县",140223:"广灵县",140224:"灵丘县",140225:"浑源县",140226:"左云县",140227:"大同县",140228:"其它区",140300:"阳泉市",140302:"城区",140303:"矿区",140311:"郊区",140321:"平定县",140322:"盂县",140323:"其它区",140400:"长治市",140421:"长治县",140423:"襄垣县",140424:"屯留县",140425:"平顺县",140426:"黎城县",140427:"壶关县",140428:"长子县",140429:"武乡县",140430:"沁县",140431:"沁源县",140481:"潞城市",140482:"城区",140483:"郊区",140485:"其它区",140500:"晋城市",140502:"城区",140521:"沁水县",140522:"阳城县",140524:"陵川县",140525:"泽州县",140581:"高平市",140582:"其它区",140600:"朔州市",140602:"朔城区",140603:"平鲁区",140621:"山阴县",140622:"应县",140623:"右玉县",140624:"怀仁县",140625:"其它区",140700:"晋中市",140702:"榆次区",140721:"榆社县",140722:"左权县",140723:"和顺县",140724:"昔阳县",140725:"寿阳县",140726:"太谷县",140727:"祁县",140728:"平遥县",140729:"灵石县",140781:"介休市",140782:"其它区",140800:"运城市",140802:"盐湖区",140821:"临猗县",140822:"万荣县",140823:"闻喜县",140824:"稷山县",140825:"新绛县",140826:"绛县",140827:"垣曲县",140828:"夏县",140829:"平陆县",140830:"芮城县",140881:"永济市",140882:"河津市",140883:"其它区",140900:"忻州市",140902:"忻府区",140921:"定襄县",140922:"五台县",140923:"代县",140924:"繁峙县",140925:"宁武县",140926:"静乐县",140927:"神池县",140928:"五寨县",140929:"岢岚县",140930:"河曲县",140931:"保德县",140932:"偏关县",140981:"原平市",140982:"其它区",141e3:"临汾市",141002:"尧都区",141021:"曲沃县",141022:"翼城县",141023:"襄汾县",141024:"洪洞县",141025:"古县",141026:"安泽县",141027:"浮山县",141028:"吉县",141029:"乡宁县",141030:"大宁县",141031:"隰县",141032:"永和县",141033:"蒲县",141034:"汾西县",141081:"侯马市",141082:"霍州市",141083:"其它区",141100:"吕梁市",141102:"离石区",141121:"文水县",141122:"交城县",141123:"兴县",141124:"临县",141125:"柳林县",141126:"石楼县",141127:"岚县",141128:"方山县",141129:"中阳县",141130:"交口县",141181:"孝义市",141182:"汾阳市",141183:"其它区",15e4:"内蒙古自治区",150100:"呼和浩特市",150102:"新城区",150103:"回民区",150104:"玉泉区",150105:"赛罕区",150121:"土默特左旗",150122:"托克托县",150123:"和林格尔县",150124:"清水河县",150125:"武川县",150126:"其它区",150200:"包头市",150202:"东河区",150203:"昆都仑区",150204:"青山区",150205:"石拐区",150206:"白云鄂博矿区",150207:"九原区",150221:"土默特右旗",150222:"固阳县",150223:"达尔罕茂明安联合旗",150224:"其它区",150300:"乌海市",150302:"海勃湾区",150303:"海南区",150304:"乌达区",150305:"其它区",150400:"赤峰市",150402:"红山区",150403:"元宝山区",150404:"松山区",150421:"阿鲁科尔沁旗",150422:"巴林左旗",150423:"巴林右旗",150424:"林西县",150425:"克什克腾旗",150426:"翁牛特旗",150428:"喀喇沁旗",150429:"宁城县",150430:"敖汉旗",150431:"其它区",150500:"通辽市",150502:"科尔沁区",150521:"科尔沁左翼中旗",150522:"科尔沁左翼后旗",150523:"开鲁县",150524:"库伦旗",150525:"奈曼旗",150526:"扎鲁特旗",150581:"霍林郭勒市",150582:"其它区",150600:"鄂尔多斯市",150602:"东胜区",150621:"达拉特旗",150622:"准格尔旗",150623:"鄂托克前旗",150624:"鄂托克旗",150625:"杭锦旗",150626:"乌审旗",150627:"伊金霍洛旗",150628:"其它区",150700:"呼伦贝尔市",150702:"海拉尔区",150703:"扎赉诺尔区",150721:"阿荣旗",150722:"莫力达瓦达斡尔族自治旗",150723:"鄂伦春自治旗",150724:"鄂温克族自治旗",150725:"陈巴尔虎旗",150726:"新巴尔虎左旗",150727:"新巴尔虎右旗",150781:"满洲里市",150782:"牙克石市",150783:"扎兰屯市",150784:"额尔古纳市",150785:"根河市",150786:"其它区",150800:"巴彦淖尔市",150802:"临河区",150821:"五原县",150822:"磴口县",150823:"乌拉特前旗",150824:"乌拉特中旗",150825:"乌拉特后旗",150826:"杭锦后旗",150827:"其它区",150900:"乌兰察布市",150902:"集宁区",150921:"卓资县",150922:"化德县",150923:"商都县",150924:"兴和县",150925:"凉城县",150926:"察哈尔右翼前旗",150927:"察哈尔右翼中旗",150928:"察哈尔右翼后旗",150929:"四子王旗",150981:"丰镇市",150982:"其它区",152200:"兴安盟",152201:"乌兰浩特市",152202:"阿尔山市",152221:"科尔沁右翼前旗",152222:"科尔沁右翼中旗",152223:"扎赉特旗",152224:"突泉县",152225:"其它区",152500:"锡林郭勒盟",152501:"二连浩特市",152502:"锡林浩特市",152522:"阿巴嘎旗",152523:"苏尼特左旗",152524:"苏尼特右旗",152525:"东乌珠穆沁旗",152526:"西乌珠穆沁旗",152527:"太仆寺旗",152528:"镶黄旗",152529:"正镶白旗",152530:"正蓝旗",152531:"多伦县",152532:"其它区",152900:"阿拉善盟",152921:"阿拉善左旗",152922:"阿拉善右旗",152923:"额济纳旗",152924:"其它区",21e4:"辽宁省",210100:"沈阳市",210102:"和平区",210103:"沈河区",210104:"大东区",210105:"皇姑区",210106:"铁西区",210111:"苏家屯区",210112:"东陵区",210113:"新城子区",210114:"于洪区",210122:"辽中县",210123:"康平县",210124:"法库县",210181:"新民市",210184:"沈北新区",210185:"其它区",210200:"大连市",210202:"中山区",210203:"西岗区",210204:"沙河口区",210211:"甘井子区",210212:"旅顺口区",210213:"金州区",210224:"长海县",210281:"瓦房店市",210282:"普兰店市",210283:"庄河市",210298:"其它区",210300:"鞍山市",210302:"铁东区",210303:"铁西区",210304:"立山区",210311:"千山区",210321:"台安县",210323:"岫岩满族自治县",210381:"海城市",210382:"其它区",210400:"抚顺市",210402:"新抚区",210403:"东洲区",210404:"望花区",210411:"顺城区",210421:"抚顺县",210422:"新宾满族自治县",210423:"清原满族自治县",210424:"其它区",210500:"本溪市",210502:"平山区",210503:"溪湖区",210504:"明山区",210505:"南芬区",210521:"本溪满族自治县",210522:"桓仁满族自治县",210523:"其它区",210600:"丹东市",210602:"元宝区",210603:"振兴区",210604:"振安区",210624:"宽甸满族自治县",210681:"东港市",210682:"凤城市",210683:"其它区",210700:"锦州市",210702:"古塔区",210703:"凌河区",210711:"太和区",210726:"黑山县",210727:"义县",210781:"凌海市",210782:"北镇市",210783:"其它区",210800:"营口市",210802:"站前区",210803:"西市区",210804:"鲅鱼圈区",210811:"老边区",210881:"盖州市",210882:"大石桥市",210883:"其它区",210900:"阜新市",210902:"海州区",210903:"新邱区",210904:"太平区",210905:"清河门区",210911:"细河区",210921:"阜新蒙古族自治县",210922:"彰武县",210923:"其它区",211e3:"辽阳市",211002:"白塔区",211003:"文圣区",211004:"宏伟区",211005:"弓长岭区",211011:"太子河区",211021:"辽阳县",211081:"灯塔市",211082:"其它区",211100:"盘锦市",211102:"双台子区",211103:"兴隆台区",211121:"大洼县",211122:"盘山县",211123:"其它区",211200:"铁岭市",211202:"银州区",211204:"清河区",211221:"铁岭县",211223:"西丰县",211224:"昌图县",211281:"调兵山市",211282:"开原市",211283:"其它区",211300:"朝阳市",211302:"双塔区",211303:"龙城区",211321:"朝阳县",211322:"建平县",211324:"喀喇沁左翼蒙古族自治县",211381:"北票市",211382:"凌源市",211383:"其它区",211400:"葫芦岛市",211402:"连山区",211403:"龙港区",211404:"南票区",211421:"绥中县",211422:"建昌县",211481:"兴城市",211482:"其它区",22e4:"吉林省",220100:"长春市",220102:"南关区",220103:"宽城区",220104:"朝阳区",220105:"二道区",220106:"绿园区",220112:"双阳区",220122:"农安县",220181:"九台市",220182:"榆树市",220183:"德惠市",220188:"其它区",220200:"吉林市",220202:"昌邑区",220203:"龙潭区",220204:"船营区",220211:"丰满区",220221:"永吉县",220281:"蛟河市",220282:"桦甸市",220283:"舒兰市",220284:"磐石市",220285:"其它区",220300:"四平市",220302:"铁西区",220303:"铁东区",220322:"梨树县",220323:"伊通满族自治县",220381:"公主岭市",220382:"双辽市",220383:"其它区",220400:"辽源市",220402:"龙山区",220403:"西安区",220421:"东丰县",220422:"东辽县",220423:"其它区",220500:"通化市",220502:"东昌区",220503:"二道江区",220521:"通化县",220523:"辉南县",220524:"柳河县",220581:"梅河口市",220582:"集安市",220583:"其它区",220600:"白山市",220602:"浑江区",220621:"抚松县",220622:"靖宇县",220623:"长白朝鲜族自治县",220625:"江源区",220681:"临江市",220682:"其它区",220700:"松原市",220702:"宁江区",220721:"前郭尔罗斯蒙古族自治县",220722:"长岭县",220723:"乾安县",220724:"扶余市",220725:"其它区",220800:"白城市",220802:"洮北区",220821:"镇赉县",220822:"通榆县",220881:"洮南市",220882:"大安市",220883:"其它区",222400:"延边朝鲜族自治州",222401:"延吉市",222402:"图们市",222403:"敦化市",222404:"珲春市",222405:"龙井市",222406:"和龙市",222424:"汪清县",222426:"安图县",222427:"其它区",23e4:"黑龙江省",230100:"哈尔滨市",230102:"道里区",230103:"南岗区",230104:"道外区",230106:"香坊区",230108:"平房区",230109:"松北区",230111:"呼兰区",230123:"依兰县",230124:"方正县",230125:"宾县",230126:"巴彦县",230127:"木兰县",230128:"通河县",230129:"延寿县",230181:"阿城区",230182:"双城市",230183:"尚志市",230184:"五常市",230186:"其它区",230200:"齐齐哈尔市",230202:"龙沙区",230203:"建华区",230204:"铁锋区",230205:"昂昂溪区",230206:"富拉尔基区",230207:"碾子山区",230208:"梅里斯达斡尔族区",230221:"龙江县",230223:"依安县",230224:"泰来县",230225:"甘南县",230227:"富裕县",230229:"克山县",230230:"克东县",230231:"拜泉县",230281:"讷河市",230282:"其它区",230300:"鸡西市",230302:"鸡冠区",230303:"恒山区",230304:"滴道区",230305:"梨树区",230306:"城子河区",230307:"麻山区",230321:"鸡东县",230381:"虎林市",230382:"密山市",230383:"其它区",230400:"鹤岗市",230402:"向阳区",230403:"工农区",230404:"南山区",230405:"兴安区",230406:"东山区",230407:"兴山区",230421:"萝北县",230422:"绥滨县",230423:"其它区",230500:"双鸭山市",230502:"尖山区",230503:"岭东区",230505:"四方台区",230506:"宝山区",230521:"集贤县",230522:"友谊县",230523:"宝清县",230524:"饶河县",230525:"其它区",230600:"大庆市",230602:"萨尔图区",230603:"龙凤区",230604:"让胡路区",230605:"红岗区",230606:"大同区",230621:"肇州县",230622:"肇源县",230623:"林甸县",230624:"杜尔伯特蒙古族自治县",230625:"其它区",230700:"伊春市",230702:"伊春区",230703:"南岔区",230704:"友好区",230705:"西林区",230706:"翠峦区",230707:"新青区",230708:"美溪区",230709:"金山屯区",230710:"五营区",230711:"乌马河区",230712:"汤旺河区",230713:"带岭区",230714:"乌伊岭区",230715:"红星区",230716:"上甘岭区",230722:"嘉荫县",230781:"铁力市",230782:"其它区",230800:"佳木斯市",230803:"向阳区",230804:"前进区",230805:"东风区",230811:"郊区",230822:"桦南县",230826:"桦川县",230828:"汤原县",230833:"抚远县",230881:"同江市",230882:"富锦市",230883:"其它区",230900:"七台河市",230902:"新兴区",230903:"桃山区",230904:"茄子河区",230921:"勃利县",230922:"其它区",231e3:"牡丹江市",231002:"东安区",231003:"阳明区",231004:"爱民区",231005:"西安区",231024:"东宁县",231025:"林口县",231081:"绥芬河市",231083:"海林市",231084:"宁安市",231085:"穆棱市",231086:"其它区",231100:"黑河市",231102:"爱辉区",231121:"嫩江县",231123:"逊克县",231124:"孙吴县",231181:"北安市",231182:"五大连池市",231183:"其它区",231200:"绥化市",231202:"北林区",231221:"望奎县",231222:"兰西县",231223:"青冈县",231224:"庆安县",231225:"明水县",231226:"绥棱县",231281:"安达市",231282:"肇东市",231283:"海伦市",231284:"其它区",232700:"大兴安岭地区",232702:"松岭区",232703:"新林区",232704:"呼中区",232721:"呼玛县",232722:"塔河县",232723:"漠河县",232724:"加格达奇区",232725:"其它区",31e4:"上海",310100:"上海市",310101:"黄浦区",310104:"徐汇区",310105:"长宁区",310106:"静安区",310107:"普陀区",310108:"闸北区",310109:"虹口区",310110:"杨浦区",310112:"闵行区",310113:"宝山区",310114:"嘉定区",310115:"浦东新区",310116:"金山区",310117:"松江区",310118:"青浦区",310120:"奉贤区",310230:"崇明县",310231:"其它区",32e4:"江苏省",320100:"南京市",320102:"玄武区",320104:"秦淮区",320105:"建邺区",320106:"鼓楼区",320111:"浦口区",320113:"栖霞区",320114:"雨花台区",320115:"江宁区",320116:"六合区",320124:"溧水区",320125:"高淳区",320126:"其它区",320200:"无锡市",320202:"崇安区",320203:"南长区",320204:"北塘区",320205:"锡山区",320206:"惠山区",320211:"滨湖区",320281:"江阴市",320282:"宜兴市",320297:"其它区",320300:"徐州市",320302:"鼓楼区",320303:"云龙区",320305:"贾汪区",320311:"泉山区",320321:"丰县",320322:"沛县",320323:"铜山区",320324:"睢宁县",320381:"新沂市",320382:"邳州市",320383:"其它区",320400:"常州市",320402:"天宁区",320404:"钟楼区",320405:"戚墅堰区",320411:"新北区",320412:"武进区",320481:"溧阳市",320482:"金坛市",320483:"其它区",320500:"苏州市",320505:"虎丘区",320506:"吴中区",320507:"相城区",320508:"姑苏区",320581:"常熟市",320582:"张家港市",320583:"昆山市",320584:"吴江区",320585:"太仓市",320596:"其它区",320600:"南通市",320602:"崇川区",320611:"港闸区",320612:"通州区",320621:"海安县",320623:"如东县",320681:"启东市",320682:"如皋市",320684:"海门市",320694:"其它区",320700:"连云港市",320703:"连云区",320705:"新浦区",320706:"海州区",320721:"赣榆县",320722:"东海县",320723:"灌云县",320724:"灌南县",320725:"其它区",320800:"淮安市",320802:"清河区",320803:"淮安区",320804:"淮阴区",320811:"清浦区",320826:"涟水县",320829:"洪泽县",320830:"盱眙县",320831:"金湖县",320832:"其它区",320900:"盐城市",320902:"亭湖区",320903:"盐都区",320921:"响水县",320922:"滨海县",320923:"阜宁县",320924:"射阳县",320925:"建湖县",320981:"东台市",320982:"大丰市",320983:"其它区",321e3:"扬州市",321002:"广陵区",321003:"邗江区",321023:"宝应县",321081:"仪征市",321084:"高邮市",321088:"江都区",321093:"其它区",321100:"镇江市",321102:"京口区",321111:"润州区",321112:"丹徒区",321181:"丹阳市",321182:"扬中市",321183:"句容市",321184:"其它区",321200:"泰州市",321202:"海陵区",321203:"高港区",321281:"兴化市",321282:"靖江市",321283:"泰兴市",321284:"姜堰区",321285:"其它区",321300:"宿迁市",321302:"宿城区",321311:"宿豫区",321322:"沭阳县",321323:"泗阳县",321324:"泗洪县",321325:"其它区",33e4:"浙江省",330100:"杭州市",330102:"上城区",330103:"下城区",330104:"江干区",330105:"拱墅区",330106:"西湖区",330108:"滨江区",330109:"萧山区",330110:"余杭区",330122:"桐庐县",330127:"淳安县",330182:"建德市",330183:"富阳市",330185:"临安市",330186:"其它区",330200:"宁波市",330203:"海曙区",330204:"江东区",330205:"江北区",330206:"北仑区",330211:"镇海区",330212:"鄞州区",330225:"象山县",330226:"宁海县",330281:"余姚市",330282:"慈溪市",330283:"奉化市",330284:"其它区",330300:"温州市",330302:"鹿城区",330303:"龙湾区",330304:"瓯海区",330322:"洞头县",330324:"永嘉县",330326:"平阳县",330327:"苍南县",330328:"文成县",330329:"泰顺县",330381:"瑞安市",330382:"乐清市",330383:"其它区",330400:"嘉兴市",330402:"南湖区",330411:"秀洲区",330421:"嘉善县",330424:"海盐县",330481:"海宁市",330482:"平湖市",330483:"桐乡市",330484:"其它区",330500:"湖州市",330502:"吴兴区",330503:"南浔区",330521:"德清县",330522:"长兴县",330523:"安吉县",330524:"其它区",330600:"绍兴市",330602:"越城区",330621:"绍兴县",330624:"新昌县",330681:"诸暨市",330682:"上虞市",330683:"嵊州市",330684:"其它区",330700:"金华市",330702:"婺城区",330703:"金东区",330723:"武义县",330726:"浦江县",330727:"磐安县",330781:"兰溪市",330782:"义乌市",330783:"东阳市",330784:"永康市",330785:"其它区",330800:"衢州市",330802:"柯城区",330803:"衢江区",330822:"常山县",330824:"开化县",330825:"龙游县",330881:"江山市",330882:"其它区",330900:"舟山市",330902:"定海区",330903:"普陀区",330921:"岱山县",330922:"嵊泗县",330923:"其它区",331e3:"台州市",331002:"椒江区",331003:"黄岩区",331004:"路桥区",331021:"玉环县",331022:"三门县",331023:"天台县",331024:"仙居县",331081:"温岭市",331082:"临海市",331083:"其它区",331100:"丽水市",331102:"莲都区",331121:"青田县",331122:"缙云县",331123:"遂昌县",331124:"松阳县",331125:"云和县",331126:"庆元县",331127:"景宁畲族自治县",331181:"龙泉市",331182:"其它区",34e4:"安徽省",340100:"合肥市",340102:"瑶海区",340103:"庐阳区",340104:"蜀山区",340111:"包河区",340121:"长丰县",340122:"肥东县",340123:"肥西县",340192:"其它区",340200:"芜湖市",340202:"镜湖区",340203:"弋江区",340207:"鸠江区",340208:"三山区",340221:"芜湖县",340222:"繁昌县",340223:"南陵县",340224:"其它区",340300:"蚌埠市",340302:"龙子湖区",340303:"蚌山区",340304:"禹会区",340311:"淮上区",340321:"怀远县",340322:"五河县",340323:"固镇县",340324:"其它区",340400:"淮南市",340402:"大通区",340403:"田家庵区",340404:"谢家集区",340405:"八公山区",340406:"潘集区",340421:"凤台县",340422:"其它区",340500:"马鞍山市",340503:"花山区",340504:"雨山区",340506:"博望区",340521:"当涂县",340522:"其它区",340600:"淮北市",340602:"杜集区",340603:"相山区",340604:"烈山区",340621:"濉溪县",340622:"其它区",340700:"铜陵市",340702:"铜官山区",340703:"狮子山区",340711:"郊区",340721:"铜陵县",340722:"其它区",340800:"安庆市",340802:"迎江区",340803:"大观区",340811:"宜秀区",340822:"怀宁县",340823:"枞阳县",340824:"潜山县",340825:"太湖县",340826:"宿松县",340827:"望江县",340828:"岳西县",340881:"桐城市",340882:"其它区",341e3:"黄山市",341002:"屯溪区",341003:"黄山区",341004:"徽州区",341021:"歙县",341022:"休宁县",341023:"黟县",341024:"祁门县",341025:"其它区",341100:"滁州市",341102:"琅琊区",341103:"南谯区",341122:"来安县",341124:"全椒县",341125:"定远县",341126:"凤阳县",341181:"天长市",341182:"明光市",341183:"其它区",341200:"阜阳市",341202:"颍州区",341203:"颍东区",341204:"颍泉区",341221:"临泉县",341222:"太和县",341225:"阜南县",341226:"颍上县",341282:"界首市",341283:"其它区",341300:"宿州市",341302:"埇桥区",341321:"砀山县",341322:"萧县",341323:"灵璧县",341324:"泗县",341325:"其它区",341400:"巢湖市",341421:"庐江县",341422:"无为县",341423:"含山县",341424:"和县",341500:"六安市",341502:"金安区",341503:"裕安区",341521:"寿县",341522:"霍邱县",341523:"舒城县",341524:"金寨县",341525:"霍山县",341526:"其它区",341600:"亳州市",341602:"谯城区",341621:"涡阳县",341622:"蒙城县",341623:"利辛县",341624:"其它区",341700:"池州市",341702:"贵池区",341721:"东至县",341722:"石台县",341723:"青阳县",341724:"其它区",341800:"宣城市",341802:"宣州区",341821:"郎溪县",341822:"广德县",341823:"泾县",341824:"绩溪县",341825:"旌德县",341881:"宁国市",341882:"其它区",35e4:"福建省",350100:"福州市",350102:"鼓楼区",350103:"台江区",350104:"仓山区",350105:"马尾区",350111:"晋安区",350121:"闽侯县",350122:"连江县",350123:"罗源县",350124:"闽清县",350125:"永泰县",350128:"平潭县",350181:"福清市",350182:"长乐市",350183:"其它区",350200:"厦门市",350203:"思明区",350205:"海沧区",350206:"湖里区",350211:"集美区",350212:"同安区",350213:"翔安区",350214:"其它区",350300:"莆田市",350302:"城厢区",350303:"涵江区",350304:"荔城区",350305:"秀屿区",350322:"仙游县",350323:"其它区",350400:"三明市",350402:"梅列区",350403:"三元区",350421:"明溪县",350423:"清流县",350424:"宁化县",350425:"大田县",350426:"尤溪县",350427:"沙县",350428:"将乐县",350429:"泰宁县",350430:"建宁县",350481:"永安市",350482:"其它区",350500:"泉州市",350502:"鲤城区",350503:"丰泽区",350504:"洛江区",350505:"泉港区",350521:"惠安县",350524:"安溪县",350525:"永春县",350526:"德化县",350527:"金门县",350581:"石狮市",350582:"晋江市",350583:"南安市",350584:"其它区",350600:"漳州市",350602:"芗城区",350603:"龙文区",350622:"云霄县",350623:"漳浦县",350624:"诏安县",350625:"长泰县",350626:"东山县",350627:"南靖县",350628:"平和县",350629:"华安县",350681:"龙海市",350682:"其它区",350700:"南平市",350702:"延平区",350721:"顺昌县",350722:"浦城县",350723:"光泽县",350724:"松溪县",350725:"政和县",350781:"邵武市",350782:"武夷山市",350783:"建瓯市",350784:"建阳市",350785:"其它区",350800:"龙岩市",350802:"新罗区",350821:"长汀县",350822:"永定县",350823:"上杭县",350824:"武平县",350825:"连城县",350881:"漳平市",350882:"其它区",350900:"宁德市",350902:"蕉城区",350921:"霞浦县",350922:"古田县",350923:"屏南县",350924:"寿宁县",350925:"周宁县",350926:"柘荣县",350981:"福安市",350982:"福鼎市",350983:"其它区",36e4:"江西省",360100:"南昌市",360102:"东湖区",360103:"西湖区",360104:"青云谱区",360105:"湾里区",360111:"青山湖区",360121:"南昌县",360122:"新建县",360123:"安义县",360124:"进贤县",360128:"其它区",360200:"景德镇市",360202:"昌江区",360203:"珠山区",360222:"浮梁县",360281:"乐平市",360282:"其它区",360300:"萍乡市",360302:"安源区",360313:"湘东区",360321:"莲花县",360322:"上栗县",360323:"芦溪县",360324:"其它区",360400:"九江市",360402:"庐山区",360403:"浔阳区",360421:"九江县",360423:"武宁县",360424:"修水县",360425:"永修县",360426:"德安县",360427:"星子县",360428:"都昌县",360429:"湖口县",360430:"彭泽县",360481:"瑞昌市",360482:"其它区",360483:"共青城市",360500:"新余市",360502:"渝水区",360521:"分宜县",360522:"其它区",360600:"鹰潭市",360602:"月湖区",360622:"余江县",360681:"贵溪市",360682:"其它区",360700:"赣州市",360702:"章贡区",360721:"赣县",360722:"信丰县",360723:"大余县",360724:"上犹县",360725:"崇义县",360726:"安远县",360727:"龙南县",360728:"定南县",360729:"全南县",360730:"宁都县",360731:"于都县",360732:"兴国县",360733:"会昌县",360734:"寻乌县",360735:"石城县",360781:"瑞金市",360782:"南康市",360783:"其它区",360800:"吉安市",360802:"吉州区",360803:"青原区",360821:"吉安县",360822:"吉水县",360823:"峡江县",360824:"新干县",360825:"永丰县",360826:"泰和县",360827:"遂川县",360828:"万安县",360829:"安福县",360830:"永新县",360881:"井冈山市",360882:"其它区",360900:"宜春市",360902:"袁州区",360921:"奉新县",360922:"万载县",360923:"上高县",360924:"宜丰县",360925:"靖安县",360926:"铜鼓县",360981:"丰城市",360982:"樟树市",360983:"高安市",360984:"其它区",361e3:"抚州市",361002:"临川区",361021:"南城县",361022:"黎川县",361023:"南丰县",361024:"崇仁县",361025:"乐安县",361026:"宜黄县",361027:"金溪县",361028:"资溪县",361029:"东乡县",361030:"广昌县",361031:"其它区",361100:"上饶市",361102:"信州区",361121:"上饶县",361122:"广丰县",361123:"玉山县",361124:"铅山县",361125:"横峰县",361126:"弋阳县",361127:"余干县",361128:"鄱阳县",361129:"万年县",361130:"婺源县",361181:"德兴市",361182:"其它区",37e4:"山东省",370100:"济南市",370102:"历下区",370103:"市中区",370104:"槐荫区",370105:"天桥区",370112:"历城区",370113:"长清区",370124:"平阴县",370125:"济阳县",370126:"商河县",370181:"章丘市",370182:"其它区",370200:"青岛市",370202:"市南区",370203:"市北区",370211:"黄岛区",370212:"崂山区",370213:"李沧区",370214:"城阳区",370281:"胶州市",370282:"即墨市",370283:"平度市",370285:"莱西市",370286:"其它区",370300:"淄博市",370302:"淄川区",370303:"张店区",370304:"博山区",370305:"临淄区",370306:"周村区",370321:"桓台县",370322:"高青县",370323:"沂源县",370324:"其它区",370400:"枣庄市",370402:"市中区",370403:"薛城区",370404:"峄城区",370405:"台儿庄区",370406:"山亭区",370481:"滕州市",370482:"其它区",370500:"东营市",370502:"东营区",370503:"河口区",370521:"垦利县",370522:"利津县",370523:"广饶县",370591:"其它区",370600:"烟台市",370602:"芝罘区",370611:"福山区",370612:"牟平区",370613:"莱山区",370634:"长岛县",370681:"龙口市",370682:"莱阳市",370683:"莱州市",370684:"蓬莱市",370685:"招远市",370686:"栖霞市",370687:"海阳市",370688:"其它区",370700:"潍坊市",370702:"潍城区",370703:"寒亭区",370704:"坊子区",370705:"奎文区",370724:"临朐县",370725:"昌乐县",370781:"青州市",370782:"诸城市",370783:"寿光市",370784:"安丘市",370785:"高密市",370786:"昌邑市",370787:"其它区",370800:"济宁市",370802:"市中区",370811:"任城区",370826:"微山县",370827:"鱼台县",370828:"金乡县",370829:"嘉祥县",370830:"汶上县",370831:"泗水县",370832:"梁山县",370881:"曲阜市",370882:"兖州市",370883:"邹城市",370884:"其它区",370900:"泰安市",370902:"泰山区",370903:"岱岳区",370921:"宁阳县",370923:"东平县",370982:"新泰市",370983:"肥城市",370984:"其它区",371e3:"威海市",371002:"环翠区",371081:"文登市",371082:"荣成市",371083:"乳山市",371084:"其它区",371100:"日照市",371102:"东港区",371103:"岚山区",371121:"五莲县",371122:"莒县",371123:"其它区",371200:"莱芜市",371202:"莱城区",371203:"钢城区",371204:"其它区",371300:"临沂市",371302:"兰山区",371311:"罗庄区",371312:"河东区",371321:"沂南县",371322:"郯城县",371323:"沂水县",371324:"苍山县",371325:"费县",371326:"平邑县",371327:"莒南县",371328:"蒙阴县",371329:"临沭县",371330:"其它区",371400:"德州市",371402:"德城区",371421:"陵县",371422:"宁津县",371423:"庆云县",371424:"临邑县",371425:"齐河县",371426:"平原县",371427:"夏津县",371428:"武城县",371481:"乐陵市",371482:"禹城市",371483:"其它区",371500:"聊城市",371502:"东昌府区",371521:"阳谷县",371522:"莘县",371523:"茌平县",371524:"东阿县",371525:"冠县",371526:"高唐县",371581:"临清市",371582:"其它区",371600:"滨州市",371602:"滨城区",371621:"惠民县",371622:"阳信县",371623:"无棣县",371624:"沾化县",371625:"博兴县",371626:"邹平县",371627:"其它区",371700:"菏泽市",371702:"牡丹区",371721:"曹县",371722:"单县",371723:"成武县",371724:"巨野县",371725:"郓城县",371726:"鄄城县",371727:"定陶县",371728:"东明县",371729:"其它区",41e4:"河南省",410100:"郑州市",410102:"中原区",410103:"二七区",410104:"管城回族区",410105:"金水区",410106:"上街区",410108:"惠济区",410122:"中牟县",410181:"巩义市",410182:"荥阳市",410183:"新密市",410184:"新郑市",410185:"登封市",410188:"其它区",410200:"开封市",410202:"龙亭区",410203:"顺河回族区",410204:"鼓楼区",410205:"禹王台区",410211:"金明区",410221:"杞县",410222:"通许县",410223:"尉氏县",410224:"开封县",410225:"兰考县",410226:"其它区",410300:"洛阳市",410302:"老城区",410303:"西工区",410304:"瀍河回族区",410305:"涧西区",410306:"吉利区",410307:"洛龙区",410322:"孟津县",410323:"新安县",410324:"栾川县",410325:"嵩县",410326:"汝阳县",410327:"宜阳县",410328:"洛宁县",410329:"伊川县",410381:"偃师市",410400:"平顶山市",410402:"新华区",410403:"卫东区",410404:"石龙区",410411:"湛河区",410421:"宝丰县",410422:"叶县",410423:"鲁山县",410425:"郏县",410481:"舞钢市",410482:"汝州市",410483:"其它区",410500:"安阳市",410502:"文峰区",410503:"北关区",410505:"殷都区",410506:"龙安区",410522:"安阳县",410523:"汤阴县",410526:"滑县",410527:"内黄县",410581:"林州市",410582:"其它区",410600:"鹤壁市",410602:"鹤山区",410603:"山城区",410611:"淇滨区",410621:"浚县",410622:"淇县",410623:"其它区",410700:"新乡市",410702:"红旗区",410703:"卫滨区",410704:"凤泉区",410711:"牧野区",410721:"新乡县",410724:"获嘉县",410725:"原阳县",410726:"延津县",410727:"封丘县",410728:"长垣县",410781:"卫辉市",410782:"辉县市",410783:"其它区",410800:"焦作市",410802:"解放区",410803:"中站区",410804:"马村区",410811:"山阳区",410821:"修武县",410822:"博爱县",410823:"武陟县",410825:"温县",410881:"济源市",410882:"沁阳市",410883:"孟州市",410884:"其它区",410900:"濮阳市",410902:"华龙区",410922:"清丰县",410923:"南乐县",410926:"范县",410927:"台前县",410928:"濮阳县",410929:"其它区",411e3:"许昌市",411002:"魏都区",411023:"许昌县",411024:"鄢陵县",411025:"襄城县",411081:"禹州市",411082:"长葛市",411083:"其它区",411100:"漯河市",411102:"源汇区",411103:"郾城区",411104:"召陵区",411121:"舞阳县",411122:"临颍县",411123:"其它区",411200:"三门峡市",411202:"湖滨区",411221:"渑池县",411222:"陕县",411224:"卢氏县",411281:"义马市",411282:"灵宝市",411283:"其它区",411300:"南阳市",411302:"宛城区",411303:"卧龙区",411321:"南召县",411322:"方城县",411323:"西峡县",411324:"镇平县",411325:"内乡县",411326:"淅川县",411327:"社旗县",411328:"唐河县",411329:"新野县",411330:"桐柏县",411381:"邓州市",411382:"其它区",411400:"商丘市",411402:"梁园区",411403:"睢阳区",411421:"民权县",411422:"睢县",411423:"宁陵县",411424:"柘城县",411425:"虞城县",411426:"夏邑县",411481:"永城市",411482:"其它区",411500:"信阳市",411502:"浉河区",411503:"平桥区",411521:"罗山县",411522:"光山县",411523:"新县",411524:"商城县",411525:"固始县",411526:"潢川县",411527:"淮滨县",411528:"息县",411529:"其它区",411600:"周口市",411602:"川汇区",411621:"扶沟县",411622:"西华县",411623:"商水县",411624:"沈丘县",411625:"郸城县",411626:"淮阳县",411627:"太康县",411628:"鹿邑县",411681:"项城市",411682:"其它区",411700:"驻马店市",411702:"驿城区",411721:"西平县",411722:"上蔡县",411723:"平舆县",411724:"正阳县",411725:"确山县",411726:"泌阳县",411727:"汝南县",411728:"遂平县",411729:"新蔡县",411730:"其它区",42e4:"湖北省",420100:"武汉市",420102:"江岸区",420103:"江汉区",420104:"硚口区",420105:"汉阳区",420106:"武昌区",420107:"青山区",420111:"洪山区",420112:"东西湖区",420113:"汉南区",420114:"蔡甸区",420115:"江夏区",420116:"黄陂区",420117:"新洲区",420118:"其它区",420200:"黄石市",420202:"黄石港区",420203:"西塞山区",420204:"下陆区",420205:"铁山区",420222:"阳新县",420281:"大冶市",420282:"其它区",420300:"十堰市",420302:"茅箭区",420303:"张湾区",420321:"郧县",420322:"郧西县",420323:"竹山县",420324:"竹溪县",420325:"房县",420381:"丹江口市",420383:"其它区",420500:"宜昌市",420502:"西陵区",420503:"伍家岗区",420504:"点军区",420505:"猇亭区",420506:"夷陵区",420525:"远安县",420526:"兴山县",420527:"秭归县",420528:"长阳土家族自治县",420529:"五峰土家族自治县",420581:"宜都市",420582:"当阳市",420583:"枝江市",420584:"其它区",420600:"襄阳市",420602:"襄城区",420606:"樊城区",420607:"襄州区",420624:"南漳县",420625:"谷城县",420626:"保康县",420682:"老河口市",420683:"枣阳市",420684:"宜城市",420685:"其它区",420700:"鄂州市",420702:"梁子湖区",420703:"华容区",420704:"鄂城区",420705:"其它区",420800:"荆门市",420802:"东宝区",420804:"掇刀区",420821:"京山县",420822:"沙洋县",420881:"钟祥市",420882:"其它区",420900:"孝感市",420902:"孝南区",420921:"孝昌县",420922:"大悟县",420923:"云梦县",420981:"应城市",420982:"安陆市",420984:"汉川市",420985:"其它区",421e3:"荆州市",421002:"沙市区",421003:"荆州区",421022:"公安县",421023:"监利县",421024:"江陵县",421081:"石首市",421083:"洪湖市",421087:"松滋市",421088:"其它区",421100:"黄冈市",421102:"黄州区",421121:"团风县",421122:"红安县",421123:"罗田县",421124:"英山县",421125:"浠水县",421126:"蕲春县",421127:"黄梅县",421181:"麻城市",421182:"武穴市",421183:"其它区",421200:"咸宁市",421202:"咸安区",421221:"嘉鱼县",421222:"通城县",421223:"崇阳县",421224:"通山县",421281:"赤壁市",421283:"其它区",421300:"随州市",421302:"曾都区",421321:"随县",421381:"广水市",421382:"其它区",422800:"恩施土家族苗族自治州",422801:"恩施市",422802:"利川市",422822:"建始县",422823:"巴东县",422825:"宣恩县",422826:"咸丰县",422827:"来凤县",422828:"鹤峰县",422829:"其它区",429004:"仙桃市",429005:"潜江市",429006:"天门市",429021:"神农架林区",43e4:"湖南省",430100:"长沙市",430102:"芙蓉区",430103:"天心区",430104:"岳麓区",430105:"开福区",430111:"雨花区",430121:"长沙县",430122:"望城区",430124:"宁乡县",430181:"浏阳市",430182:"其它区",430200:"株洲市",430202:"荷塘区",430203:"芦淞区",430204:"石峰区",430211:"天元区",430221:"株洲县",430223:"攸县",430224:"茶陵县",430225:"炎陵县",430281:"醴陵市",430282:"其它区",430300:"湘潭市",430302:"雨湖区",430304:"岳塘区",430321:"湘潭县",430381:"湘乡市",430382:"韶山市",430383:"其它区",430400:"衡阳市",430405:"珠晖区",430406:"雁峰区",430407:"石鼓区",430408:"蒸湘区",430412:"南岳区",430421:"衡阳县",430422:"衡南县",430423:"衡山县",430424:"衡东县",430426:"祁东县",430481:"耒阳市",430482:"常宁市",430483:"其它区",430500:"邵阳市",430502:"双清区",430503:"大祥区",430511:"北塔区",430521:"邵东县",430522:"新邵县",430523:"邵阳县",430524:"隆回县",430525:"洞口县",430527:"绥宁县",430528:"新宁县",430529:"城步苗族自治县",430581:"武冈市",430582:"其它区",430600:"岳阳市",430602:"岳阳楼区",430603:"云溪区",430611:"君山区",430621:"岳阳县",430623:"华容县",430624:"湘阴县",430626:"平江县",430681:"汨罗市",430682:"临湘市",430683:"其它区",430700:"常德市",430702:"武陵区",430703:"鼎城区",430721:"安乡县",430722:"汉寿县",430723:"澧县",430724:"临澧县",430725:"桃源县",430726:"石门县",430781:"津市市",430782:"其它区",430800:"张家界市",430802:"永定区",430811:"武陵源区",430821:"慈利县",430822:"桑植县",430823:"其它区",430900:"益阳市",430902:"资阳区",430903:"赫山区",430921:"南县",430922:"桃江县",430923:"安化县",430981:"沅江市",430982:"其它区",431e3:"郴州市",431002:"北湖区",431003:"苏仙区",431021:"桂阳县",431022:"宜章县",431023:"永兴县",431024:"嘉禾县",431025:"临武县",431026:"汝城县",431027:"桂东县",431028:"安仁县",431081:"资兴市",431082:"其它区",431100:"永州市",431102:"零陵区",431103:"冷水滩区",431121:"祁阳县",431122:"东安县",431123:"双牌县",431124:"道县",431125:"江永县",431126:"宁远县",431127:"蓝山县",431128:"新田县",431129:"江华瑶族自治县",431130:"其它区",431200:"怀化市",431202:"鹤城区",431221:"中方县",431222:"沅陵县",431223:"辰溪县",431224:"溆浦县",431225:"会同县",431226:"麻阳苗族自治县",431227:"新晃侗族自治县",431228:"芷江侗族自治县",431229:"靖州苗族侗族自治县",431230:"通道侗族自治县",431281:"洪江市",431282:"其它区",431300:"娄底市",431302:"娄星区",431321:"双峰县",431322:"新化县",431381:"冷水江市",431382:"涟源市",431383:"其它区",433100:"湘西土家族苗族自治州",433101:"吉首市",433122:"泸溪县",433123:"凤凰县",433124:"花垣县",433125:"保靖县",433126:"古丈县",433127:"永顺县",433130:"龙山县",433131:"其它区",44e4:"广东省",440100:"广州市",440103:"荔湾区",440104:"越秀区",440105:"海珠区",440106:"天河区",440111:"白云区",440112:"黄埔区",440113:"番禺区",440114:"花都区",440115:"南沙区",440116:"萝岗区",440183:"增城市",440184:"从化市",440189:"其它区",440200:"韶关市",440203:"武江区",440204:"浈江区",440205:"曲江区",440222:"始兴县",440224:"仁化县",440229:"翁源县",440232:"乳源瑶族自治县",440233:"新丰县",440281:"乐昌市",440282:"南雄市",440283:"其它区",440300:"深圳市",440303:"罗湖区",440304:"福田区",440305:"南山区",440306:"宝安区",440307:"龙岗区",440308:"盐田区",440309:"其它区",440320:"光明新区",440321:"坪山新区",440322:"大鹏新区",440323:"龙华新区",440400:"珠海市",440402:"香洲区",440403:"斗门区",440404:"金湾区",440488:"其它区",440500:"汕头市",440507:"龙湖区",440511:"金平区",440512:"濠江区",440513:"潮阳区",440514:"潮南区",440515:"澄海区",440523:"南澳县",440524:"其它区",440600:"佛山市",440604:"禅城区",440605:"南海区",440606:"顺德区",440607:"三水区",440608:"高明区",440609:"其它区",440700:"江门市",440703:"蓬江区",440704:"江海区",440705:"新会区",440781:"台山市",440783:"开平市",440784:"鹤山市",440785:"恩平市",440786:"其它区",440800:"湛江市",440802:"赤坎区",440803:"霞山区",440804:"坡头区",440811:"麻章区",440823:"遂溪县",440825:"徐闻县",440881:"廉江市",440882:"雷州市",440883:"吴川市",440884:"其它区",440900:"茂名市",440902:"茂南区",440903:"茂港区",440923:"电白县",440981:"高州市",440982:"化州市",440983:"信宜市",440984:"其它区",441200:"肇庆市",441202:"端州区",441203:"鼎湖区",441223:"广宁县",441224:"怀集县",441225:"封开县",441226:"德庆县",441283:"高要市",441284:"四会市",441285:"其它区",441300:"惠州市",441302:"惠城区",441303:"惠阳区",441322:"博罗县",441323:"惠东县",441324:"龙门县",441325:"其它区",441400:"梅州市",441402:"梅江区",441421:"梅县",441422:"大埔县",441423:"丰顺县",441424:"五华县",441426:"平远县",441427:"蕉岭县",441481:"兴宁市",441482:"其它区",441500:"汕尾市",441502:"城区",441521:"海丰县",441523:"陆河县",441581:"陆丰市",441582:"其它区",441600:"河源市",441602:"源城区",441621:"紫金县",441622:"龙川县",441623:"连平县",441624:"和平县",441625:"东源县",441626:"其它区",441700:"阳江市",441702:"江城区",441721:"阳西县",441723:"阳东县",441781:"阳春市",441782:"其它区",441800:"清远市",441802:"清城区",441821:"佛冈县",441823:"阳山县",441825:"连山壮族瑶族自治县",441826:"连南瑶族自治县",441827:"清新区",441881:"英德市",441882:"连州市",441883:"其它区",441900:"东莞市",442e3:"中山市",442101:"东沙群岛",445100:"潮州市",445102:"湘桥区",445121:"潮安区",445122:"饶平县",445186:"其它区",445200:"揭阳市",445202:"榕城区",445221:"揭东区",445222:"揭西县",445224:"惠来县",445281:"普宁市",445285:"其它区",445300:"云浮市",445302:"云城区",445321:"新兴县",445322:"郁南县",445323:"云安县",445381:"罗定市",445382:"其它区",45e4:"广西壮族自治区",450100:"南宁市",450102:"兴宁区",450103:"青秀区",450105:"江南区",450107:"西乡塘区",450108:"良庆区",450109:"邕宁区",450122:"武鸣县",450123:"隆安县",450124:"马山县",450125:"上林县",450126:"宾阳县",450127:"横县",450128:"其它区",450200:"柳州市",450202:"城中区",450203:"鱼峰区",450204:"柳南区",450205:"柳北区",450221:"柳江县",450222:"柳城县",450223:"鹿寨县",450224:"融安县",450225:"融水苗族自治县",450226:"三江侗族自治县",450227:"其它区",450300:"桂林市",450302:"秀峰区",450303:"叠彩区",450304:"象山区",450305:"七星区",450311:"雁山区",450321:"阳朔县",450322:"临桂区",450323:"灵川县",450324:"全州县",450325:"兴安县",450326:"永福县",450327:"灌阳县",450328:"龙胜各族自治县",450329:"资源县",450330:"平乐县",450331:"荔浦县",450332:"恭城瑶族自治县",450333:"其它区",450400:"梧州市",450403:"万秀区",450405:"长洲区",450406:"龙圩区",450421:"苍梧县",450422:"藤县",450423:"蒙山县",450481:"岑溪市",450482:"其它区",450500:"北海市",450502:"海城区",450503:"银海区",450512:"铁山港区",450521:"合浦县",450522:"其它区",450600:"防城港市",450602:"港口区",450603:"防城区",450621:"上思县",450681:"东兴市",450682:"其它区",450700:"钦州市",450702:"钦南区",450703:"钦北区",450721:"灵山县",450722:"浦北县",450723:"其它区",450800:"贵港市",450802:"港北区",450803:"港南区",450804:"覃塘区",450821:"平南县",450881:"桂平市",450882:"其它区",450900:"玉林市",450902:"玉州区",450903:"福绵区",450921:"容县",450922:"陆川县",450923:"博白县",450924:"兴业县",450981:"北流市",450982:"其它区",451e3:"百色市",451002:"右江区",451021:"田阳县",451022:"田东县",451023:"平果县",451024:"德保县",451025:"靖西县",451026:"那坡县",451027:"凌云县",451028:"乐业县",451029:"田林县",451030:"西林县",451031:"隆林各族自治县",451032:"其它区",451100:"贺州市",451102:"八步区",451119:"平桂管理区",451121:"昭平县",451122:"钟山县",451123:"富川瑶族自治县",451124:"其它区",451200:"河池市",451202:"金城江区",451221:"南丹县",451222:"天峨县",451223:"凤山县",451224:"东兰县",451225:"罗城仫佬族自治县",451226:"环江毛南族自治县",451227:"巴马瑶族自治县",451228:"都安瑶族自治县",451229:"大化瑶族自治县",451281:"宜州市",451282:"其它区",451300:"来宾市",451302:"兴宾区",451321:"忻城县",451322:"象州县",451323:"武宣县",451324:"金秀瑶族自治县",451381:"合山市",451382:"其它区",451400:"崇左市",451402:"江州区",451421:"扶绥县",451422:"宁明县",451423:"龙州县",451424:"大新县",451425:"天等县",451481:"凭祥市",451482:"其它区",46e4:"海南省",460100:"海口市",460105:"秀英区",460106:"龙华区",460107:"琼山区",460108:"美兰区",460109:"其它区",460200:"三亚市",460300:"三沙市",460321:"西沙群岛",460322:"南沙群岛",460323:"中沙群岛的岛礁及其海域",469001:"五指山市",469002:"琼海市",469003:"儋州市",469005:"文昌市",469006:"万宁市",469007:"东方市",469025:"定安县",469026:"屯昌县",469027:"澄迈县",469028:"临高县",469030:"白沙黎族自治县",469031:"昌江黎族自治县",469033:"乐东黎族自治县",469034:"陵水黎族自治县",469035:"保亭黎族苗族自治县",469036:"琼中黎族苗族自治县",471005:"其它区",5e5:"重庆",500100:"重庆市",500101:"万州区",500102:"涪陵区",500103:"渝中区",500104:"大渡口区",500105:"江北区",500106:"沙坪坝区",500107:"九龙坡区",500108:"南岸区",500109:"北碚区",500110:"万盛区",500111:"双桥区",500112:"渝北区",500113:"巴南区",500114:"黔江区",500115:"长寿区",500222:"綦江区",500223:"潼南县",500224:"铜梁县",500225:"大足区",500226:"荣昌县",500227:"璧山县",500228:"梁平县",500229:"城口县",500230:"丰都县",500231:"垫江县",500232:"武隆县",500233:"忠县",500234:"开县",500235:"云阳县",500236:"奉节县",500237:"巫山县",500238:"巫溪县",500240:"石柱土家族自治县",500241:"秀山土家族苗族自治县",500242:"酉阳土家族苗族自治县",500243:"彭水苗族土家族自治县",500381:"江津区",500382:"合川区",500383:"永川区",500384:"南川区",500385:"其它区",51e4:"四川省",510100:"成都市",510104:"锦江区",510105:"青羊区",510106:"金牛区",510107:"武侯区",510108:"成华区",510112:"龙泉驿区",510113:"青白江区",510114:"新都区",510115:"温江区",510121:"金堂县",510122:"双流县",510124:"郫县",510129:"大邑县",510131:"蒲江县",510132:"新津县",510181:"都江堰市",510182:"彭州市",510183:"邛崃市",510184:"崇州市",510185:"其它区",510300:"自贡市",510302:"自流井区",510303:"贡井区",510304:"大安区",510311:"沿滩区",510321:"荣县",510322:"富顺县",510323:"其它区",510400:"攀枝花市",510402:"东区",510403:"西区",510411:"仁和区",510421:"米易县",510422:"盐边县",510423:"其它区",510500:"泸州市",510502:"江阳区",510503:"纳溪区",510504:"龙马潭区",510521:"泸县",510522:"合江县",510524:"叙永县",510525:"古蔺县",510526:"其它区",510600:"德阳市",510603:"旌阳区",510623:"中江县",510626:"罗江县",510681:"广汉市",510682:"什邡市",510683:"绵竹市",510684:"其它区",510700:"绵阳市",510703:"涪城区",510704:"游仙区",510722:"三台县",510723:"盐亭县",510724:"安县",510725:"梓潼县",510726:"北川羌族自治县",510727:"平武县",510781:"江油市",510782:"其它区",510800:"广元市",510802:"利州区",510811:"昭化区",510812:"朝天区",510821:"旺苍县",510822:"青川县",510823:"剑阁县",510824:"苍溪县",510825:"其它区",510900:"遂宁市",510903:"船山区",510904:"安居区",510921:"蓬溪县",510922:"射洪县",510923:"大英县",510924:"其它区",511e3:"内江市",511002:"市中区",511011:"东兴区",511024:"威远县",511025:"资中县",511028:"隆昌县",511029:"其它区",511100:"乐山市",511102:"市中区",511111:"沙湾区",511112:"五通桥区",511113:"金口河区",511123:"犍为县",511124:"井研县",511126:"夹江县",511129:"沐川县",511132:"峨边彝族自治县",511133:"马边彝族自治县",511181:"峨眉山市",511182:"其它区",511300:"南充市",511302:"顺庆区",511303:"高坪区",511304:"嘉陵区",511321:"南部县",511322:"营山县",511323:"蓬安县",511324:"仪陇县",511325:"西充县",511381:"阆中市",511382:"其它区",511400:"眉山市",511402:"东坡区",511421:"仁寿县",511422:"彭山县",511423:"洪雅县",511424:"丹棱县",511425:"青神县",511426:"其它区",511500:"宜宾市",511502:"翠屏区",511521:"宜宾县",511522:"南溪区",511523:"江安县",511524:"长宁县",511525:"高县",511526:"珙县",511527:"筠连县",511528:"兴文县",511529:"屏山县",511530:"其它区",511600:"广安市",511602:"广安区",511603:"前锋区",511621:"岳池县",511622:"武胜县",511623:"邻水县",511681:"华蓥市",511683:"其它区",511700:"达州市",511702:"通川区",511721:"达川区",511722:"宣汉县",511723:"开江县",511724:"大竹县",511725:"渠县",511781:"万源市",511782:"其它区",511800:"雅安市",511802:"雨城区",511821:"名山区",511822:"荥经县",511823:"汉源县",511824:"石棉县",511825:"天全县",511826:"芦山县",511827:"宝兴县",511828:"其它区",511900:"巴中市",511902:"巴州区",511903:"恩阳区",511921:"通江县",511922:"南江县",511923:"平昌县",511924:"其它区",512e3:"资阳市",512002:"雁江区",512021:"安岳县",512022:"乐至县",512081:"简阳市",512082:"其它区",513200:"阿坝藏族羌族自治州",513221:"汶川县",513222:"理县",513223:"茂县",513224:"松潘县",513225:"九寨沟县",513226:"金川县",513227:"小金县",513228:"黑水县",513229:"马尔康县",513230:"壤塘县",513231:"阿坝县",513232:"若尔盖县",513233:"红原县",513234:"其它区",513300:"甘孜藏族自治州",513321:"康定县",513322:"泸定县",513323:"丹巴县",513324:"九龙县",513325:"雅江县",513326:"道孚县",513327:"炉霍县",513328:"甘孜县",513329:"新龙县",513330:"德格县",513331:"白玉县",513332:"石渠县",513333:"色达县",513334:"理塘县",513335:"巴塘县",513336:"乡城县",513337:"稻城县",513338:"得荣县",513339:"其它区",513400:"凉山彝族自治州",513401:"西昌市",513422:"木里藏族自治县",513423:"盐源县",513424:"德昌县",513425:"会理县",513426:"会东县",513427:"宁南县",513428:"普格县",513429:"布拖县",513430:"金阳县",513431:"昭觉县",513432:"喜德县",513433:"冕宁县",513434:"越西县",513435:"甘洛县",513436:"美姑县",513437:"雷波县",513438:"其它区",52e4:"贵州省",520100:"贵阳市",520102:"南明区",520103:"云岩区",520111:"花溪区",520112:"乌当区",520113:"白云区",520121:"开阳县",520122:"息烽县",520123:"修文县",520151:"观山湖区",520181:"清镇市",520182:"其它区",520200:"六盘水市",520201:"钟山区",520203:"六枝特区",520221:"水城县",520222:"盘县",520223:"其它区",520300:"遵义市",520302:"红花岗区",520303:"汇川区",520321:"遵义县",520322:"桐梓县",520323:"绥阳县",520324:"正安县",520325:"道真仡佬族苗族自治县",520326:"务川仡佬族苗族自治县",520327:"凤冈县",520328:"湄潭县",520329:"余庆县",520330:"习水县",520381:"赤水市",520382:"仁怀市",520383:"其它区",520400:"安顺市",520402:"西秀区",520421:"平坝县",520422:"普定县",520423:"镇宁布依族苗族自治县",520424:"关岭布依族苗族自治县",520425:"紫云苗族布依族自治县",520426:"其它区",522200:"铜仁市",522201:"碧江区",522222:"江口县",522223:"玉屏侗族自治县",522224:"石阡县",522225:"思南县",522226:"印江土家族苗族自治县",522227:"德江县",522228:"沿河土家族自治县",522229:"松桃苗族自治县",522230:"万山区",522231:"其它区",522300:"黔西南布依族苗族自治州",522301:"兴义市",522322:"兴仁县",522323:"普安县",522324:"晴隆县",522325:"贞丰县",522326:"望谟县",522327:"册亨县",522328:"安龙县",522329:"其它区",522400:"毕节市",522401:"七星关区",522422:"大方县",522423:"黔西县",522424:"金沙县",522425:"织金县",522426:"纳雍县",522427:"威宁彝族回族苗族自治县",522428:"赫章县",522429:"其它区",522600:"黔东南苗族侗族自治州",522601:"凯里市",522622:"黄平县",522623:"施秉县",522624:"三穗县",522625:"镇远县",522626:"岑巩县",522627:"天柱县",522628:"锦屏县",522629:"剑河县",522630:"台江县",522631:"黎平县",522632:"榕江县",522633:"从江县",522634:"雷山县",522635:"麻江县",522636:"丹寨县",522637:"其它区",522700:"黔南布依族苗族自治州",522701:"都匀市",522702:"福泉市",522722:"荔波县",522723:"贵定县",522725:"瓮安县",522726:"独山县",522727:"平塘县",522728:"罗甸县",522729:"长顺县",522730:"龙里县",522731:"惠水县",522732:"三都水族自治县",522733:"其它区",53e4:"云南省",530100:"昆明市",530102:"五华区",530103:"盘龙区",530111:"官渡区",530112:"西山区",530113:"东川区",530121:"呈贡区",530122:"晋宁县",530124:"富民县",530125:"宜良县",530126:"石林彝族自治县",530127:"嵩明县",530128:"禄劝彝族苗族自治县",530129:"寻甸回族彝族自治县",530181:"安宁市",530182:"其它区",530300:"曲靖市",530302:"麒麟区",530321:"马龙县",530322:"陆良县",530323:"师宗县",530324:"罗平县",530325:"富源县",530326:"会泽县",530328:"沾益县",530381:"宣威市",530382:"其它区",530400:"玉溪市",530402:"红塔区",530421:"江川县",530422:"澄江县",530423:"通海县",530424:"华宁县",530425:"易门县",530426:"峨山彝族自治县",530427:"新平彝族傣族自治县",530428:"元江哈尼族彝族傣族自治县",530429:"其它区",530500:"保山市",530502:"隆阳区",530521:"施甸县",530522:"腾冲县",530523:"龙陵县",530524:"昌宁县",530525:"其它区",530600:"昭通市",530602:"昭阳区",530621:"鲁甸县",530622:"巧家县",530623:"盐津县",530624:"大关县",530625:"永善县",530626:"绥江县",530627:"镇雄县",530628:"彝良县",530629:"威信县",530630:"水富县",530631:"其它区",530700:"丽江市",530702:"古城区",530721:"玉龙纳西族自治县",530722:"永胜县",530723:"华坪县",530724:"宁蒗彝族自治县",530725:"其它区",530800:"普洱市",530802:"思茅区",530821:"宁洱哈尼族彝族自治县",530822:"墨江哈尼族自治县",530823:"景东彝族自治县",530824:"景谷傣族彝族自治县",530825:"镇沅彝族哈尼族拉祜族自治县",530826:"江城哈尼族彝族自治县",530827:"孟连傣族拉祜族佤族自治县",530828:"澜沧拉祜族自治县",530829:"西盟佤族自治县",530830:"其它区",530900:"临沧市",530902:"临翔区",530921:"凤庆县",530922:"云县",530923:"永德县",530924:"镇康县",530925:"双江拉祜族佤族布朗族傣族自治县",530926:"耿马傣族佤族自治县",530927:"沧源佤族自治县",530928:"其它区",532300:"楚雄彝族自治州",532301:"楚雄市",532322:"双柏县",532323:"牟定县",532324:"南华县",532325:"姚安县",532326:"大姚县",532327:"永仁县",532328:"元谋县",532329:"武定县",532331:"禄丰县",532332:"其它区",532500:"红河哈尼族彝族自治州",532501:"个旧市",532502:"开远市",532522:"蒙自市",532523:"屏边苗族自治县",532524:"建水县",532525:"石屏县",532526:"弥勒市",532527:"泸西县",532528:"元阳县",532529:"红河县",532530:"金平苗族瑶族傣族自治县",532531:"绿春县",532532:"河口瑶族自治县",532533:"其它区",532600:"文山壮族苗族自治州",532621:"文山市",532622:"砚山县",532623:"西畴县",532624:"麻栗坡县",532625:"马关县",532626:"丘北县",532627:"广南县",532628:"富宁县",532629:"其它区",532800:"西双版纳傣族自治州",532801:"景洪市",532822:"勐海县",532823:"勐腊县",532824:"其它区",532900:"大理白族自治州",532901:"大理市",532922:"漾濞彝族自治县",532923:"祥云县",532924:"宾川县",532925:"弥渡县",532926:"南涧彝族自治县",532927:"巍山彝族回族自治县",532928:"永平县",532929:"云龙县",532930:"洱源县",532931:"剑川县",532932:"鹤庆县",532933:"其它区",533100:"德宏傣族景颇族自治州",533102:"瑞丽市",533103:"芒市",533122:"梁河县",533123:"盈江县",533124:"陇川县",533125:"其它区",533300:"怒江傈僳族自治州",533321:"泸水县",533323:"福贡县",533324:"贡山独龙族怒族自治县",533325:"兰坪白族普米族自治县",533326:"其它区",533400:"迪庆藏族自治州",533421:"香格里拉县",533422:"德钦县",533423:"维西傈僳族自治县",533424:"其它区",54e4:"西藏自治区",540100:"拉萨市",540102:"城关区",540121:"林周县",540122:"当雄县",540123:"尼木县",540124:"曲水县",540125:"堆龙德庆县",540126:"达孜县",540127:"墨竹工卡县",540128:"其它区",542100:"昌都地区",542121:"昌都县",542122:"江达县",542123:"贡觉县",542124:"类乌齐县",542125:"丁青县",542126:"察雅县",542127:"八宿县",542128:"左贡县",542129:"芒康县",542132:"洛隆县",542133:"边坝县",542134:"其它区",542200:"山南地区",542221:"乃东县",542222:"扎囊县",542223:"贡嘎县",542224:"桑日县",542225:"琼结县",542226:"曲松县",542227:"措美县",542228:"洛扎县",542229:"加查县",542231:"隆子县",542232:"错那县",542233:"浪卡子县",542234:"其它区",542300:"日喀则地区",542301:"日喀则市",542322:"南木林县",542323:"江孜县",542324:"定日县",542325:"萨迦县",542326:"拉孜县",542327:"昂仁县",542328:"谢通门县",542329:"白朗县",542330:"仁布县",542331:"康马县",542332:"定结县",542333:"仲巴县",542334:"亚东县",542335:"吉隆县",542336:"聂拉木县",542337:"萨嘎县",542338:"岗巴县",542339:"其它区",542400:"那曲地区",542421:"那曲县",542422:"嘉黎县",542423:"比如县",542424:"聂荣县",542425:"安多县",542426:"申扎县",542427:"索县",542428:"班戈县",542429:"巴青县",542430:"尼玛县",542431:"其它区",542432:"双湖县",542500:"阿里地区",542521:"普兰县",542522:"札达县",542523:"噶尔县",542524:"日土县",542525:"革吉县",542526:"改则县",542527:"措勤县",542528:"其它区",542600:"林芝地区",542621:"林芝县",542622:"工布江达县",542623:"米林县",542624:"墨脱县",542625:"波密县",542626:"察隅县",542627:"朗县",542628:"其它区",61e4:"陕西省",610100:"西安市",610102:"新城区",610103:"碑林区",610104:"莲湖区",610111:"灞桥区",610112:"未央区",610113:"雁塔区",610114:"阎良区",610115:"临潼区",610116:"长安区",610122:"蓝田县",610124:"周至县",610125:"户县",610126:"高陵县",610127:"其它区",610200:"铜川市",610202:"王益区",610203:"印台区",610204:"耀州区",610222:"宜君县",610223:"其它区",610300:"宝鸡市",610302:"渭滨区",610303:"金台区",610304:"陈仓区",610322:"凤翔县",610323:"岐山县",610324:"扶风县",610326:"眉县",610327:"陇县",610328:"千阳县",610329:"麟游县",610330:"凤县",610331:"太白县",610332:"其它区",610400:"咸阳市",610402:"秦都区",610403:"杨陵区",610404:"渭城区",610422:"三原县",610423:"泾阳县",610424:"乾县",610425:"礼泉县",610426:"永寿县",610427:"彬县",610428:"长武县",610429:"旬邑县",610430:"淳化县",610431:"武功县",610481:"兴平市",610482:"其它区",610500:"渭南市",610502:"临渭区",610521:"华县",610522:"潼关县",610523:"大荔县",610524:"合阳县",610525:"澄城县",610526:"蒲城县",610527:"白水县",610528:"富平县",610581:"韩城市",610582:"华阴市",610583:"其它区",610600:"延安市",610602:"宝塔区",610621:"延长县",610622:"延川县",610623:"子长县",610624:"安塞县",610625:"志丹县",610626:"吴起县",610627:"甘泉县",610628:"富县",610629:"洛川县",610630:"宜川县",610631:"黄龙县",610632:"黄陵县",610633:"其它区",610700:"汉中市",610702:"汉台区",610721:"南郑县",610722:"城固县",610723:"洋县",610724:"西乡县",610725:"勉县",610726:"宁强县",610727:"略阳县",610728:"镇巴县",610729:"留坝县",610730:"佛坪县",610731:"其它区",610800:"榆林市",610802:"榆阳区",610821:"神木县",610822:"府谷县",610823:"横山县",610824:"靖边县",610825:"定边县",610826:"绥德县",610827:"米脂县",610828:"佳县",610829:"吴堡县",610830:"清涧县",610831:"子洲县",610832:"其它区",610900:"安康市",610902:"汉滨区",610921:"汉阴县",610922:"石泉县",610923:"宁陕县",610924:"紫阳县",610925:"岚皋县",610926:"平利县",610927:"镇坪县",610928:"旬阳县",610929:"白河县",610930:"其它区",611e3:"商洛市",611002:"商州区",611021:"洛南县",611022:"丹凤县",611023:"商南县",611024:"山阳县",611025:"镇安县",611026:"柞水县",611027:"其它区",62e4:"甘肃省",620100:"兰州市",620102:"城关区",620103:"七里河区",620104:"西固区",620105:"安宁区",620111:"红古区",620121:"永登县",620122:"皋兰县",620123:"榆中县",620124:"其它区",620200:"嘉峪关市",620300:"金昌市",620302:"金川区",620321:"永昌县",620322:"其它区",620400:"白银市",620402:"白银区",620403:"平川区",620421:"靖远县",620422:"会宁县",620423:"景泰县",620424:"其它区",620500:"天水市",620502:"秦州区",620503:"麦积区",620521:"清水县",620522:"秦安县",620523:"甘谷县",620524:"武山县",620525:"张家川回族自治县",620526:"其它区",620600:"武威市",620602:"凉州区",620621:"民勤县",620622:"古浪县",620623:"天祝藏族自治县",620624:"其它区",620700:"张掖市",620702:"甘州区",620721:"肃南裕固族自治县",620722:"民乐县",620723:"临泽县",620724:"高台县",620725:"山丹县",620726:"其它区",620800:"平凉市",620802:"崆峒区",620821:"泾川县",620822:"灵台县",620823:"崇信县",620824:"华亭县",620825:"庄浪县",620826:"静宁县",620827:"其它区",620900:"酒泉市",620902:"肃州区",620921:"金塔县",620922:"瓜州县",620923:"肃北蒙古族自治县",620924:"阿克塞哈萨克族自治县",620981:"玉门市",620982:"敦煌市",620983:"其它区",621e3:"庆阳市",621002:"西峰区",621021:"庆城县",621022:"环县",621023:"华池县",621024:"合水县",621025:"正宁县",621026:"宁县",621027:"镇原县",621028:"其它区",621100:"定西市",621102:"安定区",621121:"通渭县",621122:"陇西县",621123:"渭源县",621124:"临洮县",621125:"漳县",621126:"岷县",621127:"其它区",621200:"陇南市",621202:"武都区",621221:"成县",621222:"文县",621223:"宕昌县",621224:"康县",621225:"西和县",621226:"礼县",621227:"徽县",621228:"两当县",621229:"其它区",622900:"临夏回族自治州",622901:"临夏市",622921:"临夏县",622922:"康乐县",622923:"永靖县",622924:"广河县",622925:"和政县",622926:"东乡族自治县",622927:"积石山保安族东乡族撒拉族自治县",622928:"其它区",623e3:"甘南藏族自治州",623001:"合作市",623021:"临潭县",623022:"卓尼县",623023:"舟曲县",623024:"迭部县",623025:"玛曲县",623026:"碌曲县",623027:"夏河县",623028:"其它区",63e4:"青海省",630100:"西宁市",630102:"城东区",630103:"城中区",630104:"城西区",630105:"城北区",630121:"大通回族土族自治县",630122:"湟中县",630123:"湟源县",630124:"其它区",632100:"海东市",632121:"平安县",632122:"民和回族土族自治县",632123:"乐都区",632126:"互助土族自治县",632127:"化隆回族自治县",632128:"循化撒拉族自治县",632129:"其它区",632200:"海北藏族自治州",632221:"门源回族自治县",632222:"祁连县",632223:"海晏县",632224:"刚察县",632225:"其它区",632300:"黄南藏族自治州",632321:"同仁县",632322:"尖扎县",632323:"泽库县",632324:"河南蒙古族自治县",632325:"其它区",632500:"海南藏族自治州",632521:"共和县",632522:"同德县",632523:"贵德县",632524:"兴海县",632525:"贵南县",632526:"其它区",632600:"果洛藏族自治州",632621:"玛沁县",632622:"班玛县",632623:"甘德县",632624:"达日县",632625:"久治县",632626:"玛多县",632627:"其它区",632700:"玉树藏族自治州",632721:"玉树市",632722:"杂多县",632723:"称多县",632724:"治多县",632725:"囊谦县",632726:"曲麻莱县",632727:"其它区",632800:"海西蒙古族藏族自治州",632801:"格尔木市",632802:"德令哈市",632821:"乌兰县",632822:"都兰县",632823:"天峻县",632824:"其它区",64e4:"宁夏回族自治区",640100:"银川市",640104:"兴庆区",640105:"西夏区",640106:"金凤区",640121:"永宁县",640122:"贺兰县",640181:"灵武市",640182:"其它区",640200:"石嘴山市",640202:"大武口区",640205:"惠农区",640221:"平罗县",640222:"其它区",640300:"吴忠市",640302:"利通区",640303:"红寺堡区",640323:"盐池县",640324:"同心县",640381:"青铜峡市",640382:"其它区",640400:"固原市",640402:"原州区",640422:"西吉县",640423:"隆德县",640424:"泾源县",640425:"彭阳县",640426:"其它区",640500:"中卫市",640502:"沙坡头区",640521:"中宁县",640522:"海原县",640523:"其它区",65e4:"新疆维吾尔自治区",650100:"乌鲁木齐市",650102:"天山区",650103:"沙依巴克区",650104:"新市区",650105:"水磨沟区",650106:"头屯河区",650107:"达坂城区",650109:"米东区",650121:"乌鲁木齐县",650122:"其它区",650200:"克拉玛依市",650202:"独山子区",650203:"克拉玛依区",650204:"白碱滩区",650205:"乌尔禾区",650206:"其它区",652100:"吐鲁番地区",652101:"吐鲁番市",652122:"鄯善县",652123:"托克逊县",652124:"其它区",652200:"哈密地区",652201:"哈密市",652222:"巴里坤哈萨克自治县",652223:"伊吾县",652224:"其它区",652300:"昌吉回族自治州",652301:"昌吉市",652302:"阜康市",652323:"呼图壁县",652324:"玛纳斯县",652325:"奇台县",652327:"吉木萨尔县",652328:"木垒哈萨克自治县",652329:"其它区",652700:"博尔塔拉蒙古自治州",652701:"博乐市",652702:"阿拉山口市",652722:"精河县",652723:"温泉县",652724:"其它区",652800:"巴音郭楞蒙古自治州",652801:"库尔勒市",652822:"轮台县",652823:"尉犁县",652824:"若羌县",652825:"且末县",652826:"焉耆回族自治县",652827:"和静县",652828:"和硕县",652829:"博湖县",652830:"其它区",652900:"阿克苏地区",652901:"阿克苏市",652922:"温宿县",652923:"库车县",652924:"沙雅县",652925:"新和县",652926:"拜城县",652927:"乌什县",652928:"阿瓦提县",652929:"柯坪县",652930:"其它区",653e3:"克孜勒苏柯尔克孜自治州",653001:"阿图什市",653022:"阿克陶县",653023:"阿合奇县",653024:"乌恰县",653025:"其它区",653100:"喀什地区",653101:"喀什市",653121:"疏附县",653122:"疏勒县",653123:"英吉沙县",653124:"泽普县",653125:"莎车县",653126:"叶城县",653127:"麦盖提县",653128:"岳普湖县",653129:"伽师县",653130:"巴楚县",653131:"塔什库尔干塔吉克自治县",653132:"其它区",653200:"和田地区",653201:"和田市",653221:"和田县",653222:"墨玉县",653223:"皮山县",653224:"洛浦县",653225:"策勒县",653226:"于田县",653227:"民丰县",653228:"其它区",654e3:"伊犁哈萨克自治州",654002:"伊宁市",654003:"奎屯市",654021:"伊宁县",654022:"察布查尔锡伯自治县",654023:"霍城县",654024:"巩留县",654025:"新源县",654026:"昭苏县",654027:"特克斯县",654028:"尼勒克县",654029:"其它区",654200:"塔城地区",654201:"塔城市",654202:"乌苏市",654221:"额敏县",654223:"沙湾县",654224:"托里县",654225:"裕民县",654226:"和布克赛尔蒙古自治县",654227:"其它区",654300:"阿勒泰地区",654301:"阿勒泰市",654321:"布尔津县",654322:"富蕴县",654323:"福海县",654324:"哈巴河县",654325:"青河县",654326:"吉木乃县",654327:"其它区",659001:"石河子市",659002:"阿拉尔市",659003:"图木舒克市",659004:"五家渠市",71e4:"台湾",710100:"台北市",710101:"中正区",710102:"大同区",710103:"中山区",710104:"松山区",710105:"大安区",710106:"万华区",710107:"信义区",710108:"士林区",710109:"北投区",710110:"内湖区",710111:"南港区",710112:"文山区",710113:"其它区",710200:"高雄市",710201:"新兴区",710202:"前金区",710203:"芩雅区",710204:"盐埕区",710205:"鼓山区",710206:"旗津区",710207:"前镇区",710208:"三民区",710209:"左营区",710210:"楠梓区",710211:"小港区",710212:"其它区",710241:"苓雅区",710242:"仁武区",710243:"大社区",710244:"冈山区",710245:"路竹区",710246:"阿莲区",710247:"田寮区",710248:"燕巢区",710249:"桥头区",710250:"梓官区",710251:"弥陀区",710252:"永安区",710253:"湖内区",710254:"凤山区",710255:"大寮区",710256:"林园区",710257:"鸟松区",710258:"大树区",710259:"旗山区",710260:"美浓区",710261:"六龟区",710262:"内门区",710263:"杉林区",710264:"甲仙区",710265:"桃源区",710266:"那玛夏区",710267:"茂林区",710268:"茄萣区",710300:"台南市",710301:"中西区",710302:"东区",710303:"南区",710304:"北区",710305:"安平区",710306:"安南区",710307:"其它区",710339:"永康区",710340:"归仁区",710341:"新化区",710342:"左镇区",710343:"玉井区",710344:"楠西区",710345:"南化区",710346:"仁德区",710347:"关庙区",710348:"龙崎区",710349:"官田区",710350:"麻豆区",710351:"佳里区",710352:"西港区",710353:"七股区",710354:"将军区",710355:"学甲区",710356:"北门区",710357:"新营区",710358:"后壁区",710359:"白河区",710360:"东山区",710361:"六甲区",710362:"下营区",710363:"柳营区",710364:"盐水区",710365:"善化区",710366:"大内区",710367:"山上区",710368:"新市区",710369:"安定区",710400:"台中市",710401:"中区",710402:"东区",710403:"南区",710404:"西区",710405:"北区",710406:"北屯区",710407:"西屯区",710408:"南屯区",710409:"其它区",710431:"太平区",710432:"大里区",710433:"雾峰区",710434:"乌日区",710435:"丰原区",710436:"后里区",710437:"石冈区",710438:"东势区",710439:"和平区",710440:"新社区",710441:"潭子区",710442:"大雅区",710443:"神冈区",710444:"大肚区",710445:"沙鹿区",710446:"龙井区",710447:"梧栖区",710448:"清水区",710449:"大甲区",710450:"外埔区",710451:"大安区",710500:"金门县",710507:"金沙镇",710508:"金湖镇",710509:"金宁乡",710510:"金城镇",710511:"烈屿乡",710512:"乌坵乡",710600:"南投县",710614:"南投市",710615:"中寮乡",710616:"草屯镇",710617:"国姓乡",710618:"埔里镇",710619:"仁爱乡",710620:"名间乡",710621:"集集镇",710622:"水里乡",710623:"鱼池乡",710624:"信义乡",710625:"竹山镇",710626:"鹿谷乡",710700:"基隆市",710701:"仁爱区",710702:"信义区",710703:"中正区",710704:"中山区",710705:"安乐区",710706:"暖暖区",710707:"七堵区",710708:"其它区",710800:"新竹市",710801:"东区",710802:"北区",710803:"香山区",710804:"其它区",710900:"嘉义市",710901:"东区",710902:"西区",710903:"其它区",711100:"新北市",711130:"万里区",711131:"金山区",711132:"板桥区",711133:"汐止区",711134:"深坑区",711135:"石碇区",711136:"瑞芳区",711137:"平溪区",711138:"双溪区",711139:"贡寮区",711140:"新店区",711141:"坪林区",711142:"乌来区",711143:"永和区",711144:"中和区",711145:"土城区",711146:"三峡区",711147:"树林区",711148:"莺歌区",711149:"三重区",711150:"新庄区",711151:"泰山区",711152:"林口区",711153:"芦洲区",711154:"五股区",711155:"八里区",711156:"淡水区",711157:"三芝区",711158:"石门区",711200:"宜兰县",711214:"宜兰市",711215:"头城镇",711216:"礁溪乡",711217:"壮围乡",711218:"员山乡",711219:"罗东镇",711220:"三星乡",711221:"大同乡",711222:"五结乡",711223:"冬山乡",711224:"苏澳镇",711225:"南澳乡",711226:"钓鱼台",711300:"新竹县",711314:"竹北市",711315:"湖口乡",711316:"新丰乡",711317:"新埔镇",711318:"关西镇",711319:"芎林乡",711320:"宝山乡",711321:"竹东镇",711322:"五峰乡",711323:"横山乡",711324:"尖石乡",711325:"北埔乡",711326:"峨眉乡",711400:"桃园县",711414:"中坜市",711415:"平镇市",711416:"龙潭乡",711417:"杨梅市",711418:"新屋乡",711419:"观音乡",711420:"桃园市",711421:"龟山乡",711422:"八德市",711423:"大溪镇",711424:"复兴乡",711425:"大园乡",711426:"芦竹乡",711500:"苗栗县",711519:"竹南镇",711520:"头份镇",711521:"三湾乡",711522:"南庄乡",711523:"狮潭乡",711524:"后龙镇",711525:"通霄镇",711526:"苑里镇",711527:"苗栗市",711528:"造桥乡",711529:"头屋乡",711530:"公馆乡",711531:"大湖乡",711532:"泰安乡",711533:"铜锣乡",711534:"三义乡",711535:"西湖乡",711536:"卓兰镇",711700:"彰化县",711727:"彰化市",711728:"芬园乡",711729:"花坛乡",711730:"秀水乡",711731:"鹿港镇",711732:"福兴乡",711733:"线西乡",711734:"和美镇",711735:"伸港乡",711736:"员林镇",711737:"社头乡",711738:"永靖乡",711739:"埔心乡",711740:"溪湖镇",711741:"大村乡",711742:"埔盐乡",711743:"田中镇",711744:"北斗镇",711745:"田尾乡",711746:"埤头乡",711747:"溪州乡",711748:"竹塘乡",711749:"二林镇",711750:"大城乡",711751:"芳苑乡",711752:"二水乡",711900:"嘉义县",711919:"番路乡",711920:"梅山乡",711921:"竹崎乡",711922:"阿里山乡",711923:"中埔乡",711924:"大埔乡",711925:"水上乡",711926:"鹿草乡",711927:"太保市",711928:"朴子市",711929:"东石乡",711930:"六脚乡",711931:"新港乡",711932:"民雄乡",711933:"大林镇",711934:"溪口乡",711935:"义竹乡",711936:"布袋镇",712100:"云林县",712121:"斗南镇",712122:"大埤乡",712123:"虎尾镇",712124:"土库镇",712125:"褒忠乡",712126:"东势乡",712127:"台西乡",712128:"仑背乡",712129:"麦寮乡",712130:"斗六市",712131:"林内乡",712132:"古坑乡",712133:"莿桐乡",712134:"西螺镇",712135:"二仑乡",712136:"北港镇",712137:"水林乡",712138:"口湖乡",712139:"四湖乡",712140:"元长乡",712400:"屏东县",712434:"屏东市",712435:"三地门乡",712436:"雾台乡",712437:"玛家乡",712438:"九如乡",712439:"里港乡",712440:"高树乡",712441:"盐埔乡",712442:"长治乡",712443:"麟洛乡",712444:"竹田乡",712445:"内埔乡",712446:"万丹乡",712447:"潮州镇",712448:"泰武乡",712449:"来义乡",712450:"万峦乡",712451:"崁顶乡",712452:"新埤乡",712453:"南州乡",712454:"林边乡",712455:"东港镇",712456:"琉球乡",712457:"佳冬乡",712458:"新园乡",712459:"枋寮乡",712460:"枋山乡",712461:"春日乡",712462:"狮子乡",712463:"车城乡",712464:"牡丹乡",712465:"恒春镇",712466:"满州乡",712500:"台东县",712517:"台东市",712518:"绿岛乡",712519:"兰屿乡",712520:"延平乡",712521:"卑南乡",712522:"鹿野乡",712523:"关山镇",712524:"海端乡",712525:"池上乡",712526:"东河乡",712527:"成功镇",712528:"长滨乡",712529:"金峰乡",712530:"大武乡",712531:"达仁乡",712532:"太麻里乡",712600:"花莲县",712615:"花莲市",712616:"新城乡",712617:"太鲁阁",712618:"秀林乡",712619:"吉安乡",712620:"寿丰乡",712621:"凤林镇",712622:"光复乡",712623:"丰滨乡",712624:"瑞穗乡",712625:"万荣乡",712626:"玉里镇",712627:"卓溪乡",712628:"富里乡",712700:"澎湖县",712707:"马公市",712708:"西屿乡",712709:"望安乡",712710:"七美乡",712711:"白沙乡",712712:"湖西乡",712800:"连江县",712805:"南竿乡",712806:"北竿乡",712807:"莒光乡",712808:"东引乡",81e4:"香港特别行政区",810100:"香港岛",810101:"中西区",810102:"湾仔",810103:"东区",810104:"南区",810200:"九龙",810201:"九龙城区",810202:"油尖旺区",810203:"深水埗区",810204:"黄大仙区",810205:"观塘区",810300:"新界",810301:"北区",810302:"大埔区",810303:"沙田区",810304:"西贡区",810305:"元朗区",810306:"屯门区",810307:"荃湾区",810308:"葵青区",810309:"离岛区",82e4:"澳门特别行政区",820100:"澳门半岛",820200:"离岛",99e4:"海外",990100:"海外"};function r(t){for(var e,n={},r=0;r<t.length;r++)e=t[r],e&&e.id&&(n[e.id]=e);for(var i=[],o=0;o<t.length;o++)if(e=t[o],e)if(void 0!=e.pid||void 0!=e.parentId){var a=n[e.pid]||n[e.parentId];a&&(a.children||(a.children=[]),a.children.push(e))}else i.push(e);return i}var i=function(){var t=[];for(var e in n){var i="0000"===e.slice(2,6)?void 0:"00"==e.slice(4,6)?e.slice(0,2)+"0000":e.slice(0,4)+"00";t.push({id:e,pid:i,name:n[e]})}return r(t)}();t.exports=i},function(t,e,n){var r=n(18);t.exports={d4:function(){return this.natural(1,4)},d6:function(){return this.natural(1,6)},d8:function(){return this.natural(1,8)},d12:function(){return this.natural(1,12)},d20:function(){return this.natural(1,20)},d100:function(){return this.natural(1,100)},guid:function(){var t="abcdefABCDEF1234567890",e=this.string(t,8)+"-"+this.string(t,4)+"-"+this.string(t,4)+"-"+this.string(t,4)+"-"+this.string(t,12);return e},uuid:function(){return this.guid()},id:function(){var t,e=0,n=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],i=["1","0","X","9","8","7","6","5","4","3","2"];t=this.pick(r).id+this.date("yyyyMMdd")+this.string("number",3);for(var o=0;o<t.length;o++)e+=t[o]*n[o];return t+=i[e%11],t},increment:function(){var t=0;return function(e){return t+=+e||1}}(),inc:function(t){return this.increment(t)}}},function(t,e,n){var r=n(21),i=n(22);t.exports={Parser:r,Handler:i}},function(t,e){function n(t){this.type=t,this.offset=n.offset(),this.text=n.text()}function r(t,e){n.call(this,"alternate"),this.left=t,this.right=e}function i(t){n.call(this,"match"),this.body=t.filter(Boolean)}function o(t,e){n.call(this,t),this.body=e}function a(t){o.call(this,"capture-group"),this.index=_[this.offset]||(_[this.offset]=y++),this.body=t}function s(t,e){n.call(this,"quantified"),this.body=t,this.quantifier=e}function u(t,e){n.call(this,"quantifier"),this.min=t,this.max=e,this.greedy=!0}function c(t,e){n.call(this,"charset"),this.invert=t,this.body=e}function l(t,e){n.call(this,"range"),this.start=t,this.end=e}function h(t){n.call(this,"literal"),this.body=t,this.escaped=this.body!=this.text}function f(t){n.call(this,"unicode"),this.code=t.toUpperCase()}function d(t){n.call(this,"hex"),this.code=t.toUpperCase()}function p(t){n.call(this,"octal"),this.code=t.toUpperCase()}function m(t){n.call(this,"back-reference"),this.code=t.toUpperCase()}function g(t){n.call(this,"control-character"),this.code=t.toUpperCase()}var v=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,e,n,r,i){function o(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(t){return"\\x"+e(t)})).replace(/[\u0180-\u0FFF]/g,(function(t){return"\\u0"+e(t)})).replace(/[\u1080-\uFFFF]/g,(function(t){return"\\u"+e(t)}))}var r,i;switch(t.length){case 0:r="end of input";break;case 1:r=t[0];break;default:r=t.slice(0,-1).join(", ")+" or "+t[t.length-1]}return i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}this.expected=t,this.found=e,this.offset=n,this.line=r,this.column=i,this.name="SyntaxError",this.message=o(t,e)}function v(t){function v(){return t.substring(Qn,Jn)}function y(){return Qn}function _(e){function n(e,n,r){var i,o;for(i=n;r>i;i++)o=t.charAt(i),"\n"===o?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return tr!==e&&(tr>e&&(tr=0,er={line:1,column:1,seenCR:!1}),n(er,tr,e),tr=e),er}function b(t){nr>Jn||(Jn>nr&&(nr=Jn,rr=[]),rr.push(t))}function x(t){var e=0;for(t.sort();e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function w(){var e,n,r,i,o;return e=Jn,n=T(),null!==n?(r=Jn,124===t.charCodeAt(Jn)?(i=Ot,Jn++):(i=null,0===ir&&b(Mt)),null!==i?(o=w(),null!==o?(i=[i,o],r=i):(Jn=r,r=Tt)):(Jn=r,r=Tt),null===r&&(r=St),null!==r?(Qn=e,n=Et(n,r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function T(){var t,e,n,r,i;if(t=Jn,e=O(),null===e&&(e=St),null!==e)if(n=Jn,ir++,r=A(),ir--,null===r?n=St:(Jn=n,n=Tt),null!==n){for(r=[],i=E(),null===i&&(i=S());null!==i;)r.push(i),i=E(),null===i&&(i=S());null!==r?(i=M(),null===i&&(i=St),null!==i?(Qn=t,e=At(e,r,i),null===e?(Jn=t,t=e):t=e):(Jn=t,t=Tt)):(Jn=t,t=Tt)}else Jn=t,t=Tt;else Jn=t,t=Tt;return t}function S(){var t;return t=F(),null===t&&(t=G(),null===t&&(t=Y())),t}function O(){var e,n;return e=Jn,94===t.charCodeAt(Jn)?(n=Ct,Jn++):(n=null,0===ir&&b(Dt)),null!==n&&(Qn=e,n=Lt()),null===n?(Jn=e,e=n):e=n,e}function M(){var e,n;return e=Jn,36===t.charCodeAt(Jn)?(n=It,Jn++):(n=null,0===ir&&b(Pt)),null!==n&&(Qn=e,n=Rt()),null===n?(Jn=e,e=n):e=n,e}function E(){var t,e,n;return t=Jn,e=S(),null!==e?(n=A(),null!==n?(Qn=t,e=Nt(e,n),null===e?(Jn=t,t=e):t=e):(Jn=t,t=Tt)):(Jn=t,t=Tt),t}function A(){var t,e,n;return ir++,t=Jn,e=C(),null!==e?(n=k(),null===n&&(n=St),null!==n?(Qn=t,e=jt(e,n),null===e?(Jn=t,t=e):t=e):(Jn=t,t=Tt)):(Jn=t,t=Tt),ir--,null===t&&(e=null,0===ir&&b(kt)),t}function C(){var t;return t=D(),null===t&&(t=L(),null===t&&(t=I(),null===t&&(t=P(),null===t&&(t=R(),null===t&&(t=N()))))),t}function D(){var e,n,r,i,o,a;return e=Jn,123===t.charCodeAt(Jn)?(n=Ft,Jn++):(n=null,0===ir&&b(Bt)),null!==n?(r=j(),null!==r?(44===t.charCodeAt(Jn)?(i=zt,Jn++):(i=null,0===ir&&b(Ut)),null!==i?(o=j(),null!==o?(125===t.charCodeAt(Jn)?(a=Ht,Jn++):(a=null,0===ir&&b(Gt)),null!==a?(Qn=e,n=Vt(r,o),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function L(){var e,n,r,i;return e=Jn,123===t.charCodeAt(Jn)?(n=Ft,Jn++):(n=null,0===ir&&b(Bt)),null!==n?(r=j(),null!==r?(t.substr(Jn,2)===Wt?(i=Wt,Jn+=2):(i=null,0===ir&&b(qt)),null!==i?(Qn=e,n=Xt(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function I(){var e,n,r,i;return e=Jn,123===t.charCodeAt(Jn)?(n=Ft,Jn++):(n=null,0===ir&&b(Bt)),null!==n?(r=j(),null!==r?(125===t.charCodeAt(Jn)?(i=Ht,Jn++):(i=null,0===ir&&b(Gt)),null!==i?(Qn=e,n=Yt(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function P(){var e,n;return e=Jn,43===t.charCodeAt(Jn)?(n=$t,Jn++):(n=null,0===ir&&b(Zt)),null!==n&&(Qn=e,n=Kt()),null===n?(Jn=e,e=n):e=n,e}function R(){var e,n;return e=Jn,42===t.charCodeAt(Jn)?(n=Jt,Jn++):(n=null,0===ir&&b(Qt)),null!==n&&(Qn=e,n=te()),null===n?(Jn=e,e=n):e=n,e}function N(){var e,n;return e=Jn,63===t.charCodeAt(Jn)?(n=ee,Jn++):(n=null,0===ir&&b(ne)),null!==n&&(Qn=e,n=re()),null===n?(Jn=e,e=n):e=n,e}function k(){var e;return 63===t.charCodeAt(Jn)?(e=ee,Jn++):(e=null,0===ir&&b(ne)),e}function j(){var e,n,r;if(e=Jn,n=[],ie.test(t.charAt(Jn))?(r=t.charAt(Jn),Jn++):(r=null,0===ir&&b(oe)),null!==r)for(;null!==r;)n.push(r),ie.test(t.charAt(Jn))?(r=t.charAt(Jn),Jn++):(r=null,0===ir&&b(oe));else n=Tt;return null!==n&&(Qn=e,n=ae(n)),null===n?(Jn=e,e=n):e=n,e}function F(){var e,n,r,i;return e=Jn,40===t.charCodeAt(Jn)?(n=se,Jn++):(n=null,0===ir&&b(ue)),null!==n?(r=U(),null===r&&(r=H(),null===r&&(r=z(),null===r&&(r=B()))),null!==r?(41===t.charCodeAt(Jn)?(i=ce,Jn++):(i=null,0===ir&&b(le)),null!==i?(Qn=e,n=he(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function B(){var t,e;return t=Jn,e=w(),null!==e&&(Qn=t,e=fe(e)),null===e?(Jn=t,t=e):t=e,t}function z(){var e,n,r;return e=Jn,t.substr(Jn,2)===de?(n=de,Jn+=2):(n=null,0===ir&&b(pe)),null!==n?(r=w(),null!==r?(Qn=e,n=me(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function U(){var e,n,r;return e=Jn,t.substr(Jn,2)===ge?(n=ge,Jn+=2):(n=null,0===ir&&b(ve)),null!==n?(r=w(),null!==r?(Qn=e,n=ye(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function H(){var e,n,r;return e=Jn,t.substr(Jn,2)===_e?(n=_e,Jn+=2):(n=null,0===ir&&b(be)),null!==n?(r=w(),null!==r?(Qn=e,n=xe(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function G(){var e,n,r,i,o;if(ir++,e=Jn,91===t.charCodeAt(Jn)?(n=Te,Jn++):(n=null,0===ir&&b(Se)),null!==n)if(94===t.charCodeAt(Jn)?(r=Ct,Jn++):(r=null,0===ir&&b(Dt)),null===r&&(r=St),null!==r){for(i=[],o=V(),null===o&&(o=W());null!==o;)i.push(o),o=V(),null===o&&(o=W());null!==i?(93===t.charCodeAt(Jn)?(o=Oe,Jn++):(o=null,0===ir&&b(Me)),null!==o?(Qn=e,n=Ee(r,i),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt)}else Jn=e,e=Tt;else Jn=e,e=Tt;return ir--,null===e&&(n=null,0===ir&&b(we)),e}function V(){var e,n,r,i;return ir++,e=Jn,n=W(),null!==n?(45===t.charCodeAt(Jn)?(r=Ce,Jn++):(r=null,0===ir&&b(De)),null!==r?(i=W(),null!==i?(Qn=e,n=Le(n,i),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt)):(Jn=e,e=Tt),ir--,null===e&&(n=null,0===ir&&b(Ae)),e}function W(){var t;return ir++,t=X(),null===t&&(t=q()),ir--,null===t&&(null,0===ir&&b(Ie)),t}function q(){var e,n;return e=Jn,Pe.test(t.charAt(Jn))?(n=t.charAt(Jn),Jn++):(n=null,0===ir&&b(Re)),null!==n&&(Qn=e,n=Ne(n)),null===n?(Jn=e,e=n):e=n,e}function X(){var t;return t=J(),null===t&&(t=ft(),null===t&&(t=et(),null===t&&(t=nt(),null===t&&(t=rt(),null===t&&(t=it(),null===t&&(t=ot(),null===t&&(t=at(),null===t&&(t=st(),null===t&&(t=ut(),null===t&&(t=ct(),null===t&&(t=lt(),null===t&&(t=ht(),null===t&&(t=pt(),null===t&&(t=mt(),null===t&&(t=gt(),null===t&&(t=vt(),null===t&&(t=yt()))))))))))))))))),t}function Y(){var t;return t=$(),null===t&&(t=K(),null===t&&(t=Z())),t}function $(){var e,n;return e=Jn,46===t.charCodeAt(Jn)?(n=ke,Jn++):(n=null,0===ir&&b(je)),null!==n&&(Qn=e,n=Fe()),null===n?(Jn=e,e=n):e=n,e}function Z(){var e,n;return ir++,e=Jn,ze.test(t.charAt(Jn))?(n=t.charAt(Jn),Jn++):(n=null,0===ir&&b(Ue)),null!==n&&(Qn=e,n=Ne(n)),null===n?(Jn=e,e=n):e=n,ir--,null===e&&(n=null,0===ir&&b(Be)),e}function K(){var t;return t=Q(),null===t&&(t=tt(),null===t&&(t=ft(),null===t&&(t=et(),null===t&&(t=nt(),null===t&&(t=rt(),null===t&&(t=it(),null===t&&(t=ot(),null===t&&(t=at(),null===t&&(t=st(),null===t&&(t=ut(),null===t&&(t=ct(),null===t&&(t=lt(),null===t&&(t=ht(),null===t&&(t=dt(),null===t&&(t=pt(),null===t&&(t=mt(),null===t&&(t=gt(),null===t&&(t=vt(),null===t&&(t=yt()))))))))))))))))))),t}function J(){var e,n;return e=Jn,t.substr(Jn,2)===He?(n=He,Jn+=2):(n=null,0===ir&&b(Ge)),null!==n&&(Qn=e,n=Ve()),null===n?(Jn=e,e=n):e=n,e}function Q(){var e,n;return e=Jn,t.substr(Jn,2)===He?(n=He,Jn+=2):(n=null,0===ir&&b(Ge)),null!==n&&(Qn=e,n=We()),null===n?(Jn=e,e=n):e=n,e}function tt(){var e,n;return e=Jn,t.substr(Jn,2)===qe?(n=qe,Jn+=2):(n=null,0===ir&&b(Xe)),null!==n&&(Qn=e,n=Ye()),null===n?(Jn=e,e=n):e=n,e}function et(){var e,n;return e=Jn,t.substr(Jn,2)===$e?(n=$e,Jn+=2):(n=null,0===ir&&b(Ze)),null!==n&&(Qn=e,n=Ke()),null===n?(Jn=e,e=n):e=n,e}function nt(){var e,n;return e=Jn,t.substr(Jn,2)===Je?(n=Je,Jn+=2):(n=null,0===ir&&b(Qe)),null!==n&&(Qn=e,n=tn()),null===n?(Jn=e,e=n):e=n,e}function rt(){var e,n;return e=Jn,t.substr(Jn,2)===en?(n=en,Jn+=2):(n=null,0===ir&&b(nn)),null!==n&&(Qn=e,n=rn()),null===n?(Jn=e,e=n):e=n,e}function it(){var e,n;return e=Jn,t.substr(Jn,2)===on?(n=on,Jn+=2):(n=null,0===ir&&b(an)),null!==n&&(Qn=e,n=sn()),null===n?(Jn=e,e=n):e=n,e}function ot(){var e,n;return e=Jn,t.substr(Jn,2)===un?(n=un,Jn+=2):(n=null,0===ir&&b(cn)),null!==n&&(Qn=e,n=ln()),null===n?(Jn=e,e=n):e=n,e}function at(){var e,n;return e=Jn,t.substr(Jn,2)===hn?(n=hn,Jn+=2):(n=null,0===ir&&b(fn)),null!==n&&(Qn=e,n=dn()),null===n?(Jn=e,e=n):e=n,e}function st(){var e,n;return e=Jn,t.substr(Jn,2)===pn?(n=pn,Jn+=2):(n=null,0===ir&&b(mn)),null!==n&&(Qn=e,n=gn()),null===n?(Jn=e,e=n):e=n,e}function ut(){var e,n;return e=Jn,t.substr(Jn,2)===vn?(n=vn,Jn+=2):(n=null,0===ir&&b(yn)),null!==n&&(Qn=e,n=_n()),null===n?(Jn=e,e=n):e=n,e}function ct(){var e,n;return e=Jn,t.substr(Jn,2)===bn?(n=bn,Jn+=2):(n=null,0===ir&&b(xn)),null!==n&&(Qn=e,n=wn()),null===n?(Jn=e,e=n):e=n,e}function lt(){var e,n;return e=Jn,t.substr(Jn,2)===Tn?(n=Tn,Jn+=2):(n=null,0===ir&&b(Sn)),null!==n&&(Qn=e,n=On()),null===n?(Jn=e,e=n):e=n,e}function ht(){var e,n;return e=Jn,t.substr(Jn,2)===Mn?(n=Mn,Jn+=2):(n=null,0===ir&&b(En)),null!==n&&(Qn=e,n=An()),null===n?(Jn=e,e=n):e=n,e}function ft(){var e,n,r;return e=Jn,t.substr(Jn,2)===Cn?(n=Cn,Jn+=2):(n=null,0===ir&&b(Dn)),null!==n?(t.length>Jn?(r=t.charAt(Jn),Jn++):(r=null,0===ir&&b(Ln)),null!==r?(Qn=e,n=In(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function dt(){var e,n,r;return e=Jn,92===t.charCodeAt(Jn)?(n=Pn,Jn++):(n=null,0===ir&&b(Rn)),null!==n?(Nn.test(t.charAt(Jn))?(r=t.charAt(Jn),Jn++):(r=null,0===ir&&b(kn)),null!==r?(Qn=e,n=jn(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}function pt(){var e,n,r,i;if(e=Jn,t.substr(Jn,2)===Fn?(n=Fn,Jn+=2):(n=null,0===ir&&b(Bn)),null!==n){if(r=[],zn.test(t.charAt(Jn))?(i=t.charAt(Jn),Jn++):(i=null,0===ir&&b(Un)),null!==i)for(;null!==i;)r.push(i),zn.test(t.charAt(Jn))?(i=t.charAt(Jn),Jn++):(i=null,0===ir&&b(Un));else r=Tt;null!==r?(Qn=e,n=Hn(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)}else Jn=e,e=Tt;return e}function mt(){var e,n,r,i;if(e=Jn,t.substr(Jn,2)===Gn?(n=Gn,Jn+=2):(n=null,0===ir&&b(Vn)),null!==n){if(r=[],Wn.test(t.charAt(Jn))?(i=t.charAt(Jn),Jn++):(i=null,0===ir&&b(qn)),null!==i)for(;null!==i;)r.push(i),Wn.test(t.charAt(Jn))?(i=t.charAt(Jn),Jn++):(i=null,0===ir&&b(qn));else r=Tt;null!==r?(Qn=e,n=Xn(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)}else Jn=e,e=Tt;return e}function gt(){var e,n,r,i;if(e=Jn,t.substr(Jn,2)===Yn?(n=Yn,Jn+=2):(n=null,0===ir&&b($n)),null!==n){if(r=[],Wn.test(t.charAt(Jn))?(i=t.charAt(Jn),Jn++):(i=null,0===ir&&b(qn)),null!==i)for(;null!==i;)r.push(i),Wn.test(t.charAt(Jn))?(i=t.charAt(Jn),Jn++):(i=null,0===ir&&b(qn));else r=Tt;null!==r?(Qn=e,n=Zn(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)}else Jn=e,e=Tt;return e}function vt(){var e,n;return e=Jn,t.substr(Jn,2)===Fn?(n=Fn,Jn+=2):(n=null,0===ir&&b(Bn)),null!==n&&(Qn=e,n=Kn()),null===n?(Jn=e,e=n):e=n,e}function yt(){var e,n,r;return e=Jn,92===t.charCodeAt(Jn)?(n=Pn,Jn++):(n=null,0===ir&&b(Rn)),null!==n?(t.length>Jn?(r=t.charAt(Jn),Jn++):(r=null,0===ir&&b(Ln)),null!==r?(Qn=e,n=Ne(r),null===n?(Jn=e,e=n):e=n):(Jn=e,e=Tt)):(Jn=e,e=Tt),e}var _t,bt=arguments.length>1?arguments[1]:{},xt={regexp:w},wt=w,Tt=null,St="",Ot="|",Mt='"|"',Et=function(t,e){return e?new r(t,e[1]):t},At=function(t,e,n){return new i([t].concat(e).concat([n]))},Ct="^",Dt='"^"',Lt=function(){return new n("start")},It="$",Pt='"$"',Rt=function(){return new n("end")},Nt=function(t,e){return new s(t,e)},kt="Quantifier",jt=function(t,e){return e&&(t.greedy=!1),t},Ft="{",Bt='"{"',zt=",",Ut='","',Ht="}",Gt='"}"',Vt=function(t,e){return new u(t,e)},Wt=",}",qt='",}"',Xt=function(t){return new u(t,1/0)},Yt=function(t){return new u(t,t)},$t="+",Zt='"+"',Kt=function(){return new u(1,1/0)},Jt="*",Qt='"*"',te=function(){return new u(0,1/0)},ee="?",ne='"?"',re=function(){return new u(0,1)},ie=/^[0-9]/,oe="[0-9]",ae=function(t){return+t.join("")},se="(",ue='"("',ce=")",le='")"',he=function(t){return t},fe=function(t){return new a(t)},de="?:",pe='"?:"',me=function(t){return new o("non-capture-group",t)},ge="?=",ve='"?="',ye=function(t){return new o("positive-lookahead",t)},_e="?!",be='"?!"',xe=function(t){return new o("negative-lookahead",t)},we="CharacterSet",Te="[",Se='"["',Oe="]",Me='"]"',Ee=function(t,e){return new c(!!t,e)},Ae="CharacterRange",Ce="-",De='"-"',Le=function(t,e){return new l(t,e)},Ie="Character",Pe=/^[^\\\]]/,Re="[^\\\\\\]]",Ne=function(t){return new h(t)},ke=".",je='"."',Fe=function(){return new n("any-character")},Be="Literal",ze=/^[^|\\\/.[()?+*$\^]/,Ue="[^|\\\\\\/.[()?+*$\\^]",He="\\b",Ge='"\\\\b"',Ve=function(){return new n("backspace")},We=function(){return new n("word-boundary")},qe="\\B",Xe='"\\\\B"',Ye=function(){return new n("non-word-boundary")},$e="\\d",Ze='"\\\\d"',Ke=function(){return new n("digit")},Je="\\D",Qe='"\\\\D"',tn=function(){return new n("non-digit")},en="\\f",nn='"\\\\f"',rn=function(){return new n("form-feed")},on="\\n",an='"\\\\n"',sn=function(){return new n("line-feed")},un="\\r",cn='"\\\\r"',ln=function(){return new n("carriage-return")},hn="\\s",fn='"\\\\s"',dn=function(){return new n("white-space")},pn="\\S",mn='"\\\\S"',gn=function(){return new n("non-white-space")},vn="\\t",yn='"\\\\t"',_n=function(){return new n("tab")},bn="\\v",xn='"\\\\v"',wn=function(){return new n("vertical-tab")},Tn="\\w",Sn='"\\\\w"',On=function(){return new n("word")},Mn="\\W",En='"\\\\W"',An=function(){return new n("non-word")},Cn="\\c",Dn='"\\\\c"',Ln="any character",In=function(t){return new g(t)},Pn="\\",Rn='"\\\\"',Nn=/^[1-9]/,kn="[1-9]",jn=function(t){return new m(t)},Fn="\\0",Bn='"\\\\0"',zn=/^[0-7]/,Un="[0-7]",Hn=function(t){return new p(t.join(""))},Gn="\\x",Vn='"\\\\x"',Wn=/^[0-9a-fA-F]/,qn="[0-9a-fA-F]",Xn=function(t){return new d(t.join(""))},Yn="\\u",$n='"\\\\u"',Zn=function(t){return new f(t.join(""))},Kn=function(){return new n("null-character")},Jn=0,Qn=0,tr=0,er={line:1,column:1,seenCR:!1},nr=0,rr=[],ir=0;if("startRule"in bt){if(!(bt.startRule in xt))throw new Error("Can't start parsing from rule \""+bt.startRule+'".');wt=xt[bt.startRule]}if(n.offset=y,n.text=v,_t=wt(),null!==_t&&Jn===t.length)return _t;throw x(rr),Qn=Math.max(Jn,nr),new e(rr,Qn<t.length?t.charAt(Qn):null,Qn,_(Qn).line,_(Qn).column)}return t(e,Error),{SyntaxError:e,parse:v}}(),y=1,_={};t.exports=v},function(t,e,n){var r=n(3),i=n(5),o={extend:r.extend},a=d(97,122),s=d(65,90),u=d(48,57),c=d(32,47)+d(58,64)+d(91,96)+d(123,126),l=d(32,126),h=" \f\n\r\t\v \u2028\u2029",f={"\\w":a+s+u+"_","\\W":c.replace("_",""),"\\s":h,"\\S":function(){for(var t=l,e=0;e<h.length;e++)t=t.replace(h[e],"");return t}(),"\\d":u,"\\D":a+s+c};function d(t,e){for(var n="",r=t;r<=e;r++)n+=String.fromCharCode(r);return n}o.gen=function(t,e,n){return n=n||{guid:1},o[t.type]?o[t.type](t,e,n):o.token(t,e,n)},o.extend({token:function(t,e,n){switch(t.type){case"start":case"end":return"";case"any-character":return i.character();case"backspace":return"";case"word-boundary":return"";case"non-word-boundary":break;case"digit":return i.pick(u.split(""));case"non-digit":return i.pick((a+s+c).split(""));case"form-feed":break;case"line-feed":return t.body||t.text;case"carriage-return":break;case"white-space":return i.pick(h.split(""));case"non-white-space":return i.pick((a+s+u).split(""));case"tab":break;case"vertical-tab":break;case"word":return i.pick((a+s+u).split(""));case"non-word":return i.pick(c.replace("_","").split(""));case"null-character":break}return t.body||t.text},alternate:function(t,e,n){return this.gen(i.boolean()?t.left:t.right,e,n)},match:function(t,e,n){e="";for(var r=0;r<t.body.length;r++)e+=this.gen(t.body[r],e,n);return e},"capture-group":function(t,e,n){return e=this.gen(t.body,e,n),n[n.guid++]=e,e},"non-capture-group":function(t,e,n){return this.gen(t.body,e,n)},"positive-lookahead":function(t,e,n){return this.gen(t.body,e,n)},"negative-lookahead":function(t,e,n){return""},quantified:function(t,e,n){e="";for(var r=this.quantifier(t.quantifier),i=0;i<r;i++)e+=this.gen(t.body,e,n);return e},quantifier:function(t,e,n){var r=Math.max(t.min,0),o=isFinite(t.max)?t.max:r+i.integer(3,7);return i.integer(r,o)},charset:function(t,e,n){if(t.invert)return this["invert-charset"](t,e,n);var r=i.pick(t.body);return this.gen(r,e,n)},"invert-charset":function(t,e,n){for(var r,o=l,a=0;a<t.body.length;a++)switch(r=t.body[a],r.type){case"literal":o=o.replace(r.body,"");break;case"range":for(var s=this.gen(r.start,e,n).charCodeAt(),u=this.gen(r.end,e,n).charCodeAt(),c=s;c<=u;c++)o=o.replace(String.fromCharCode(c),"");default:var h=f[r.text];if(h)for(var d=0;d<=h.length;d++)o=o.replace(h[d],"")}return i.pick(o.split(""))},range:function(t,e,n){var r=this.gen(t.start,e,n).charCodeAt(),o=this.gen(t.end,e,n).charCodeAt();return String.fromCharCode(i.integer(r,o))},literal:function(t,e,n){return t.escaped?t.body:t.text},unicode:function(t,e,n){return String.fromCharCode(parseInt(t.code,16))},hex:function(t,e,n){return String.fromCharCode(parseInt(t.code,16))},octal:function(t,e,n){return String.fromCharCode(parseInt(t.code,8))},"back-reference":function(t,e,n){return n[t.code]||""},CONTROL_CHARACTER_MAP:function(){for(var t="@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \\ ] ^ _".split(" "),e="\0        \b \t \n \v \f \r                  ".split(" "),n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}(),"control-character":function(t,e,n){return this.CONTROL_CHARACTER_MAP[t.code]}}),t.exports=o},function(t,e,n){t.exports=n(24)},function(t,e,n){var r=n(2),i=n(3),o=n(4);function a(t,e,n){n=n||[];var s={name:"string"===typeof e?e.replace(r.RE_KEY,"$1"):e,template:t,type:i.type(t),rule:o.parse(e)};switch(s.path=n.slice(0),s.path.push(void 0===e?"ROOT":s.name),s.type){case"array":s.items=[],i.each(t,(function(t,e){s.items.push(a(t,e,s.path))}));break;case"object":s.properties=[],i.each(t,(function(t,e){s.properties.push(a(t,e,s.path))}));break}return s}t.exports=a},function(t,e,n){t.exports=n(26)},function(t,e,n){var r=n(2),i=n(3),o=n(23);function a(t,e){for(var n=o(t),r=s.diff(n,e),i=0;i<r.length;i++);return r}var s={diff:function(t,e,n){var r=[];return this.name(t,e,n,r)&&this.type(t,e,n,r)&&(this.value(t,e,n,r),this.properties(t,e,n,r),this.items(t,e,n,r)),r},name:function(t,e,n,r){var i=r.length;return u.equal("name",t.path,n+"",t.name+"",r),r.length===i},type:function(t,e,n,o){var a=o.length;switch(t.type){case"string":if(t.template.match(r.RE_PLACEHOLDER))return!0;break;case"array":if(t.rule.parameters){if(void 0!==t.rule.min&&void 0===t.rule.max&&1===t.rule.count)return!0;if(t.rule.parameters[2])return!0}break;case"function":return!0}return u.equal("type",t.path,i.type(e),t.type,o),o.length===a},value:function(t,e,n,i){var o,a=i.length,s=t.rule,c=t.type;if("object"===c||"array"===c||"function"===c)return!0;if(!s.parameters){switch(c){case"regexp":return u.match("value",t.path,e,t.template,i),i.length===a;case"string":if(t.template.match(r.RE_PLACEHOLDER))return i.length===a;break}return u.equal("value",t.path,e,t.template,i),i.length===a}switch(c){case"number":var l=(e+"").split(".");l[0]=+l[0],void 0!==s.min&&void 0!==s.max&&(u.greaterThanOrEqualTo("value",t.path,l[0],Math.min(s.min,s.max),i),u.lessThanOrEqualTo("value",t.path,l[0],Math.max(s.min,s.max),i)),void 0!==s.min&&void 0===s.max&&u.equal("value",t.path,l[0],s.min,i,"[value] "+n),s.decimal&&(void 0!==s.dmin&&void 0!==s.dmax&&(u.greaterThanOrEqualTo("value",t.path,l[1].length,s.dmin,i),u.lessThanOrEqualTo("value",t.path,l[1].length,s.dmax,i)),void 0!==s.dmin&&void 0===s.dmax&&u.equal("value",t.path,l[1].length,s.dmin,i));break;case"boolean":break;case"string":o=e.match(new RegExp(t.template,"g")),o=o?o.length:0,void 0!==s.min&&void 0!==s.max&&(u.greaterThanOrEqualTo("repeat count",t.path,o,s.min,i),u.lessThanOrEqualTo("repeat count",t.path,o,s.max,i)),void 0!==s.min&&void 0===s.max&&u.equal("repeat count",t.path,o,s.min,i);break;case"regexp":o=e.match(new RegExp(t.template.source.replace(/^\^|\$$/g,""),"g")),o=o?o.length:0,void 0!==s.min&&void 0!==s.max&&(u.greaterThanOrEqualTo("repeat count",t.path,o,s.min,i),u.lessThanOrEqualTo("repeat count",t.path,o,s.max,i)),void 0!==s.min&&void 0===s.max&&u.equal("repeat count",t.path,o,s.min,i);break}return i.length===a},properties:function(t,e,n,r){var o=r.length,a=t.rule,s=i.keys(e);if(t.properties){if(t.rule.parameters?(void 0!==a.min&&void 0!==a.max&&(u.greaterThanOrEqualTo("properties length",t.path,s.length,Math.min(a.min,a.max),r),u.lessThanOrEqualTo("properties length",t.path,s.length,Math.max(a.min,a.max),r)),void 0!==a.min&&void 0===a.max&&1!==a.count&&u.equal("properties length",t.path,s.length,a.min,r)):u.equal("properties length",t.path,s.length,t.properties.length,r),r.length!==o)return!1;for(var c=0;c<s.length;c++)r.push.apply(r,this.diff(function(){var e;return i.each(t.properties,(function(t){t.name===s[c]&&(e=t)})),e||t.properties[c]}(),e[s[c]],s[c]));return r.length===o}},items:function(t,e,n,r){var i=r.length;if(t.items){var o=t.rule;if(t.rule.parameters){if(void 0!==o.min&&void 0!==o.max&&(u.greaterThanOrEqualTo("items",t.path,e.length,Math.min(o.min,o.max)*t.items.length,r,"[{utype}] array is too short: {path} must have at least {expected} elements but instance has {actual} elements"),u.lessThanOrEqualTo("items",t.path,e.length,Math.max(o.min,o.max)*t.items.length,r,"[{utype}] array is too long: {path} must have at most {expected} elements but instance has {actual} elements")),void 0!==o.min&&void 0===o.max){if(1===o.count)return r.length===i;u.equal("items length",t.path,e.length,o.min*t.items.length,r)}if(o.parameters[2])return r.length===i}else u.equal("items length",t.path,e.length,t.items.length,r);if(r.length!==i)return!1;for(var a=0;a<e.length;a++)r.push.apply(r,this.diff(t.items[a%t.items.length],e[a],a%t.items.length));return r.length===i}}},u={message:function(t){return(t.message||"[{utype}] Expect {path}'{ltype} {action} {expected}, but is {actual}").replace("{utype}",t.type.toUpperCase()).replace("{ltype}",t.type.toLowerCase()).replace("{path}",i.isArray(t.path)&&t.path.join(".")||t.path).replace("{action}",t.action).replace("{expected}",t.expected).replace("{actual}",t.actual)},equal:function(t,e,n,r,i,o){if(n===r)return!0;switch(t){case"type":if("regexp"===r&&"string"===n)return!0;break}var a={path:e,type:t,actual:n,expected:r,action:"is equal to",message:o};return a.message=u.message(a),i.push(a),!1},match:function(t,e,n,r,i,o){if(r.test(n))return!0;var a={path:e,type:t,actual:n,expected:r,action:"matches",message:o};return a.message=u.message(a),i.push(a),!1},notEqual:function(t,e,n,r,i,o){if(n!==r)return!0;var a={path:e,type:t,actual:n,expected:r,action:"is not equal to",message:o};return a.message=u.message(a),i.push(a),!1},greaterThan:function(t,e,n,r,i,o){if(n>r)return!0;var a={path:e,type:t,actual:n,expected:r,action:"is greater than",message:o};return a.message=u.message(a),i.push(a),!1},lessThan:function(t,e,n,r,i,o){if(n<r)return!0;var a={path:e,type:t,actual:n,expected:r,action:"is less to",message:o};return a.message=u.message(a),i.push(a),!1},greaterThanOrEqualTo:function(t,e,n,r,i,o){if(n>=r)return!0;var a={path:e,type:t,actual:n,expected:r,action:"is greater than or equal to",message:o};return a.message=u.message(a),i.push(a),!1},lessThanOrEqualTo:function(t,e,n,r,i,o){if(n<=r)return!0;var a={path:e,type:t,actual:n,expected:r,action:"is less than or equal to",message:o};return a.message=u.message(a),i.push(a),!1}};a.Diff=s,a.Assert=u,t.exports=a},function(t,e,n){t.exports=n(28)},function(t,e,n){var r=n(3);window._XMLHttpRequest=window.XMLHttpRequest,window._ActiveXObject=window.ActiveXObject;try{new window.Event("custom")}catch(d){window.Event=function(t,e,n,r){var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e,n,r),i}}var i={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o="readystatechange loadstart progress abort error load timeout loadend".split(" "),a="timeout withCredentials".split(" "),s="readyState responseURL status statusText responseType response responseText responseXML".split(" "),u={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function c(){this.custom={events:{},requestHeaders:{},responseHeaders:{}}}function l(){var t=function(){var t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,e=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,n=location.href,r=e.exec(n.toLowerCase())||[];return t.test(r[1])}();return window.ActiveXObject?!t&&e()||n():e();function e(){try{return new window._XMLHttpRequest}catch(t){}}function n(){try{return new window._ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}}function h(t){for(var e in c.Mock._mocked){var n=c.Mock._mocked[e];if((!n.rurl||i(n.rurl,t.url))&&(!n.rtype||i(n.rtype,t.type.toLowerCase())))return n}function i(t,e){return"string"===r.type(t)?t===e:"regexp"===r.type(t)?t.test(e):void 0}}function f(t,e){return r.isFunction(t.template)?t.template(e):c.Mock.mock(t.template)}c._settings={timeout:"10-100"},c.setup=function(t){return r.extend(c._settings,t),c._settings},r.extend(c,i),r.extend(c.prototype,i),c.prototype.mock=!0,c.prototype.match=!1,r.extend(c.prototype,{open:function(t,e,n,i,u){var f=this;r.extend(this.custom,{method:t,url:e,async:"boolean"!==typeof n||n,username:i,password:u,options:{url:e,type:t}}),this.custom.timeout=function(t){if("number"===typeof t)return t;if("string"===typeof t&&!~t.indexOf("-"))return parseInt(t,10);if("string"===typeof t&&~t.indexOf("-")){var e=t.split("-"),n=parseInt(e[0],10),r=parseInt(e[1],10);return Math.round(Math.random()*(r-n))+n}}(c._settings.timeout);var d=h(this.custom.options);function p(t){for(var e=0;e<s.length;e++)try{f[s[e]]=m[s[e]]}catch(n){}f.dispatchEvent(new Event(t.type))}if(d)this.match=!0,this.custom.template=d,this.readyState=c.OPENED,this.dispatchEvent(new Event("readystatechange"));else{var m=l();this.custom.xhr=m;for(var g=0;g<o.length;g++)m.addEventListener(o[g],p);i?m.open(t,e,n,i,u):m.open(t,e,n);for(var v=0;v<a.length;v++)try{m[a[v]]=f[a[v]]}catch(y){}}},setRequestHeader:function(t,e){if(this.match){var n=this.custom.requestHeaders;n[t]?n[t]+=","+e:n[t]=e}else this.custom.xhr.setRequestHeader(t,e)},timeout:0,withCredentials:!1,upload:{},send:function(t){var e=this;function n(){e.readyState=c.HEADERS_RECEIVED,e.dispatchEvent(new Event("readystatechange")),e.readyState=c.LOADING,e.dispatchEvent(new Event("readystatechange")),e.status=200,e.statusText=u[200],e.response=e.responseText=JSON.stringify(f(e.custom.template,e.custom.options),null,4),e.readyState=c.DONE,e.dispatchEvent(new Event("readystatechange")),e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))}this.custom.options.body=t,this.match?(this.setRequestHeader("X-Requested-With","MockXMLHttpRequest"),this.dispatchEvent(new Event("loadstart")),this.custom.async?setTimeout(n,this.custom.timeout):n()):this.custom.xhr.send(t)},abort:function(){this.match?(this.readyState=c.UNSENT,this.dispatchEvent(new Event("abort",!1,!1,this)),this.dispatchEvent(new Event("error",!1,!1,this))):this.custom.xhr.abort()}}),r.extend(c.prototype,{responseURL:"",status:c.UNSENT,statusText:"",getResponseHeader:function(t){return this.match?this.custom.responseHeaders[t.toLowerCase()]:this.custom.xhr.getResponseHeader(t)},getAllResponseHeaders:function(){if(!this.match)return this.custom.xhr.getAllResponseHeaders();var t=this.custom.responseHeaders,e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+": "+t[n]+"\r\n");return e},overrideMimeType:function(){},responseType:"",response:null,responseText:"",responseXML:null}),r.extend(c.prototype,{addEventListener:function(t,e){var n=this.custom.events;n[t]||(n[t]=[]),n[t].push(e)},removeEventListener:function(t,e){for(var n=this.custom.events[t]||[],r=0;r<n.length;r++)n[r]===e&&n.splice(r--,1)},dispatchEvent:function(t){for(var e=this.custom.events[t.type]||[],n=0;n<e.length;n++)e[n].call(this,t);var r="on"+t.type;this[r]&&this[r](t)}}),t.exports=c}])}))},9742:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9850:function(t,e,n){"use strict";var r=n("1687"),i=n("dce8"),o=Math.min,a=Math.max,s=new i["a"],u=new i["a"],c=new i["a"],l=new i["a"],h=new i["a"],f=new i["a"],d=function(){function t(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.union=function(t){var e=o(t.x,this.x),n=o(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=a(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=a(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,o=r["c"]();return r["i"](o,o,[-e.x,-e.y]),r["h"](o,o,[n,i]),r["i"](o,o,[t.x,t.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,o=r.x,a=r.x+r.width,s=r.y,u=r.y+r.height,c=e.x,l=e.x+e.width,d=e.y,p=e.y+e.height,m=!(a<c||l<o||u<d||p<s);if(n){var g=1/0,v=0,y=Math.abs(a-c),_=Math.abs(l-o),b=Math.abs(u-d),x=Math.abs(p-s),w=Math.min(y,_),T=Math.min(b,x);a<c||l<o?w>v&&(v=w,y<_?i["a"].set(f,-y,0):i["a"].set(f,_,0)):w<g&&(g=w,y<_?i["a"].set(h,y,0):i["a"].set(h,-_,0)),u<d||p<s?T>v&&(v=T,b<x?i["a"].set(f,0,-b):i["a"].set(f,0,x)):w<g&&(g=w,b<x?i["a"].set(h,0,b):i["a"].set(h,0,-x))}return n&&i["a"].copy(n,m?h:f),m},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],h=r[3],f=r[4],d=r[5];return e.x=n.x*i+f,e.y=n.y*h+d,e.width=n.width*i,e.height=n.height*h,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}s.x=c.x=n.x,s.y=l.y=n.y,u.x=l.x=n.x+n.width,u.y=c.y=n.y+n.height,s.transform(r),l.transform(r),u.transform(r),c.transform(r),e.x=o(s.x,u.x,c.x,l.x),e.y=o(s.y,u.y,c.y,l.y);var p=a(s.x,u.x,c.x,l.x),m=a(s.y,u.y,c.y,l.y);e.width=p-e.x,e.height=m-e.y}else e!==n&&t.copy(e,n)},t}();e["a"]=d},9876:function(t,e,n){var r=n("03d6"),i=n("9742");t.exports=Object.keys||function(t){return r(t,i)}},"98b7":function(t,e,n){"use strict";var r;r="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},e["a"]=r},"998a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("76a5"),i=n("edae");function o(t,e,n,o,a,s,u,c){Object(i["a"])("getTextRect is deprecated.");var l=new r["a"]({style:{text:t,font:e,align:n,verticalAlign:o,padding:a,rich:s,overflow:u?"truncate":null,lineHeight:c}});return l.getBoundingRect()}},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),a=n("861d"),s=n("7b0b"),u=n("50c4"),c=n("8418"),l=n("65f0"),h=n("1dde"),f=n("b622"),d=n("2d00"),p=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=h("concat"),_=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},b=!v||!y;r({target:"Array",proto:!0,forced:b},{concat:function(t){var e,n,r,i,o,a=s(this),h=l(a,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],_(o)){if(i=u(o.length),f+i>m)throw TypeError(g);for(n=0;n<i;n++,f++)n in o&&c(h,f,o[n])}else{if(f>=m)throw TypeError(g);c(h,f++,o)}return h.length=f,h}})},"9a0c":function(t,e,n){var r=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"9bdd":function(t,e,n){var r=n("825a");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),a=n("c04e"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9c0c":function(t,e,n){var r=n("1609");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c0e":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"9cf9":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var r=Math.round;function i(t,e,n){if(e){var i=e.x1,o=e.x2,s=e.y1,u=e.y2;t.x1=i,t.x2=o,t.y1=s,t.y2=u;var c=n&&n.lineWidth;return c?(r(2*i)===r(2*o)&&(t.x1=t.x2=a(i,c,!0)),r(2*s)===r(2*u)&&(t.y1=t.y2=a(s,c,!0)),t):t}}function o(t,e,n){if(e){var r=e.x,i=e.y,o=e.width,s=e.height;t.x=r,t.y=i,t.width=o,t.height=s;var u=n&&n.lineWidth;return u?(t.x=a(r,u,!0),t.y=a(i,u,!0),t.width=Math.max(a(r+o,u,!1)-t.x,0===o?0:1),t.height=Math.max(a(i+s,u,!1)-t.y,0===s?0:1),t):t}}function a(t,e,n){if(!e)return t;var i=r(2*t);return(i+r(e))%2===0?i/2:(i+(n?1:-1))/2}},"9d11":function(t,e,n){var r=n("fc5e"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"9d57":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return m})),n.d(e,"f",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return _}));var r=n("6d8b"),i=n("3842"),o=n("ee1a"),a=n("cccd"),s="__ec_stack_",u=.5,c="undefined"!==typeof Float32Array?Float32Array:Array;function l(t){return t.get("stack")||s+t.seriesIndex}function h(t){return t.dim+t.index}function f(t){var e=[],n=t.axis,i="axis0";if("category"===n.type){for(var o=n.getBandWidth(),a=0;a<t.count;a++)e.push(r["j"]({bandWidth:o,axisKey:i,stackId:s+a},t));var u=g(e),c=[];for(a=0;a<t.count;a++){var l=u[i][s+a];l.offsetCenter=l.offset+l.width/2,c.push(l)}return c}}function d(t,e){var n=[];return e.eachSeriesByType(t,(function(t){b(t)&&!x(t)&&n.push(t)})),n}function p(t){var e={};r["k"](t,(function(t){var n=t.coordinateSystem,r=n.getBaseAxis();if("time"===r.type||"value"===r.type)for(var i=t.getData(),o=r.dim+"_"+r.index,a=i.getDimensionIndex(i.mapDimension(r.dim)),s=i.getStore(),u=0,c=s.count();u<c;++u){var l=s.get(a,u);e[o]?e[o].push(l):e[o]=[l]}}));var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o){o.sort((function(t,e){return t-e}));for(var a=null,s=1;s<o.length;++s){var u=o[s]-o[s-1];u>0&&(a=null===a?u:Math.min(a,u))}n[i]=a}}return n}function m(t){var e=p(t),n=[];return r["k"](t,(function(t){var r,o=t.coordinateSystem,a=o.getBaseAxis(),s=a.getExtent();if("category"===a.type)r=a.getBandWidth();else if("value"===a.type||"time"===a.type){var u=a.dim+"_"+a.index,c=e[u],f=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),p=Math.abs(d[1]-d[0]);r=c?f/p*c:f}else{var m=t.getData();r=Math.abs(s[1]-s[0])/m.count()}var g=Object(i["p"])(t.get("barWidth"),r),v=Object(i["p"])(t.get("barMaxWidth"),r),y=Object(i["p"])(t.get("barMinWidth")||1,r),_=t.get("barGap"),b=t.get("barCategoryGap");n.push({bandWidth:r,barWidth:g,barMaxWidth:v,barMinWidth:y,barGap:_,barCategoryGap:b,axisKey:h(a),stackId:l(t)})})),g(n)}function g(t){var e={};r["k"](t,(function(t,n){var r=t.axisKey,i=t.bandWidth,o=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[r]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!a[s].width&&(a[s].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var c=t.barMaxWidth;c&&(a[s].maxWidth=c);var l=t.barMinWidth;l&&(a[s].minWidth=l);var h=t.barGap;null!=h&&(o.gap=h);var f=t.barCategoryGap;null!=f&&(o.categoryGap=f)}));var n={};return r["k"](e,(function(t,e){n[e]={};var o=t.stacks,a=t.bandWidth,s=t.categoryGap;if(null==s){var u=r["F"](o).length;s=Math.max(35-4*u,15)+"%"}var c=Object(i["p"])(s,a),l=Object(i["p"])(t.gap,1),h=t.remainedWidth,f=t.autoWidthCount,d=(h-c)/(f+(f-1)*l);d=Math.max(d,0),r["k"](o,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){r=t.width;e&&(r=Math.min(r,e)),n&&(r=Math.max(r,n)),t.width=r,h-=r+l*r,f--}else{var r=d;e&&e<r&&(r=Math.min(e,h)),n&&n>r&&(r=n),r!==d&&(t.width=r,h-=r+l*r,f--)}})),d=(h-c)/(f+(f-1)*l),d=Math.max(d,0);var p,m=0;r["k"](o,(function(t,e){t.width||(t.width=d),p=t,m+=t.width*(1+l)})),p&&(m-=p.width*l);var g=-m/2;r["k"](o,(function(t,r){n[e][r]=n[e][r]||{bandWidth:a,offset:g,width:t.width},g+=t.width*(1+l)}))})),n}function v(t,e,n){if(t&&e){var r=t[h(e)];return null!=r&&null!=n?r[l(n)]:r}}function y(t,e){var n=d(t,e),i=m(n),a={};r["k"](n,(function(t){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),s=l(t),u=i[h(r)][s],c=u.offset,f=u.width,d=n.getOtherAxis(r),p=t.get("barMinHeight")||0;a[s]=a[s]||[],e.setLayout({bandWidth:u.bandWidth,offset:c,size:f});for(var m=e.mapDimension(d.dim),g=e.mapDimension(r.dim),v=Object(o["c"])(e,m),y=d.isHorizontal(),_=w(r,d,v),b=e.getStore(),x=e.getDimensionIndex(m),T=e.getDimensionIndex(g),S=0,O=b.count();S<O;S++){var M=b.get(x,S),E=b.get(T,S),A=M>=0?"p":"n",C=_;v&&(a[s][E]||(a[s][E]={p:_,n:_}),C=a[s][E][A]);var D=void 0,L=void 0,I=void 0,P=void 0;if(y){var R=n.dataToPoint([M,E]);D=C,L=R[1]+c,I=R[0]-_,P=f,Math.abs(I)<p&&(I=(I<0?-1:1)*p),isNaN(I)||v&&(a[s][E][A]+=I)}else{R=n.dataToPoint([E,M]);D=R[0]+c,L=C,I=f,P=R[1]-_,Math.abs(P)<p&&(P=(P<=0?-1:1)*p),isNaN(P)||v&&(a[s][E][A]+=P)}e.setItemLayout(S,{x:D,y:L,width:I,height:P})}}))}var _={seriesType:"bar",plan:Object(a["a"])(),reset:function(t){if(b(t)&&x(t)){var e=t.getData(),n=t.coordinateSystem,r=n.master.getRect(),i=n.getBaseAxis(),o=n.getOtherAxis(i),a=e.getDimensionIndex(e.mapDimension(o.dim)),s=e.getDimensionIndex(e.mapDimension(i.dim)),l=o.isHorizontal(),h=l?0:1,f=v(m([t]),i,t).width;return f>u||(f=u),{progress:function(t,e){var u,d=t.count,p=new c(2*d),m=new c(2*d),g=new c(d),v=[],y=[],_=0,b=0,x=e.getStore();while(null!=(u=t.next()))y[h]=x.get(a,u),y[1-h]=x.get(s,u),v=n.dataToPoint(y,null),m[_]=l?r.x+r.width:v[0],p[_++]=v[0],m[_]=l?v[1]:r.y+r.height,p[_++]=v[1],g[b++]=u;e.setLayout({largePoints:p,largeDataIndices:g,largeBackgroundPoints:m,barWidth:f,valueAxisStart:w(i,o,!1),backgroundStart:l?r.x:r.y,valueAxisHorizontal:l})}}}}};function b(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function x(t){return t.pipelineContext&&t.pipelineContext.large}function w(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),a=n("d44e"),s=n("3f8c"),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"9fbb":function(t,e,n){var r=n("4d88");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"9fbc":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("6d8b");function i(t){return new o(t)}var o=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var a,s=h(this._modBy),u=this._modDataCount||0,c=h(t&&t.modBy),l=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}s===c&&u===l||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(i)),this._modBy=c,this._modDataCount=l;var f=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(a||d<p)){var m=this._progress;if(Object(r["t"])(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],d,p,c,l);else this._doProgress(m,d,p,c,l)}this._dueIndex=p;var v=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,r,i){a.reset(e,n,r,i),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:a.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Object(r["t"])(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),a=function(){var t,e,n,r,i,o={reset:function(u,c,l,h){e=u,t=c,n=l,r=h,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%i*n+Math.ceil(e/i),a=e>=t?null:o<r?o:e;return e++,a}}()},a15a:function(t,e,n){"use strict";n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return x})),n.d(e,"c",(function(){return w})),n.d(e,"b",(function(){return T}));var r=n("6d8b"),i=n("cbe5"),o=n("cb11"),a=n("c7a2"),s=n("d9fc"),u=n("2306"),c=n("9850"),l=n("e86a"),h=n("3842"),f=i["b"].extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),d=i["b"].extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),p=i["b"].extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),u=r-o+a+s,c=Math.asin(s/a),l=Math.cos(c)*a,h=Math.sin(c),f=Math.cos(c),d=.6*a,p=.7*a;t.moveTo(n-l,u+s),t.arc(n,u,a,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+l-h*d,u+s+f*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-l+h*d,u+s+f*d,n-l,u+s),t.closePath()}}),m=i["b"].extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),g={line:o["a"],rect:a["a"],roundRect:a["a"],square:a["a"],circle:s["a"],diamond:d,pin:p,arrow:m,triangle:f},v={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},y={};Object(r["k"])(g,(function(t,e){y[e]=new t}));var _=i["b"].extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=Object(l["d"])(t,e,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===e.position&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if("none"!==r){var i=y[r];i||(r="rect",i=y[r]),v[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function b(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function x(t,e,n,r,i,o,a){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),s=0===t.indexOf("image://")?u["makeImage"](t.slice(8),new c["a"](e,n,r,i),a?"center":"cover"):0===t.indexOf("path://")?u["makePath"](t.slice(7),{},new c["a"](e,n,r,i),a?"center":"cover"):new _({shape:{symbolType:t,x:e,y:n,width:r,height:i}}),s.__isEmptyBrush=l,s.setColor=b,o&&s.setColor(o),s}function w(t){return Object(r["t"])(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function T(t,e){if(null!=t)return Object(r["t"])(t)||(t=[t,t]),[Object(h["p"])(t[0],e[0])||0,Object(h["p"])(Object(r["P"])(t[1],t[0]),e[1])||0]}},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),a=n("a640"),s=[].join,u=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a15e:function(t,e,n){"use strict";n.r(e);var r=n("41b2"),i=n.n(r),o=n("1098"),a=n.n(o),s=/%[sdj%]/g,u=function(){};function c(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=1,i=e[0],o=e.length;if("function"===typeof i)return i.apply(null,e.slice(1));if("string"===typeof i){for(var a=String(i).replace(s,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch(n){return"[Circular]"}break;default:return t}})),u=e[r];r<o;u=e[++r])a+=" "+u;return a}return i}function l(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}function h(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!l(e)||"string"!==typeof t||t))}function f(t,e,n){var r=[],i=0,o=t.length;function a(t){r.push.apply(r,t),i++,i===o&&n(r)}t.forEach((function(t){e(t,a)}))}function d(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?e(t[s],o):n([])}}o([])}function p(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,t[n])})),e}function m(t,e,n,r){if(e.first){var i=p(t);return d(i,n,r)}var o=e.firstFields||[];!0===o&&(o=Object.keys(t));var a=Object.keys(t),s=a.length,u=0,c=[],l=function(t){c.push.apply(c,t),u++,u===s&&r(c)};a.forEach((function(e){var r=t[e];-1!==o.indexOf(e)?d(r,n,l):f(r,n,l)}))}function g(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function v(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===("undefined"===typeof r?"undefined":a()(r))&&"object"===a()(t[n])?t[n]=i()({},t[n],r):t[n]=r}return t}function y(t,e,n,r,i,o){!t.required||n.hasOwnProperty(t.field)&&!h(e,o||t.type)||r.push(c(i.messages.required,t.fullField))}var _=y;function b(t,e,n,r,i){(/^\s+$/.test(e)||""===e)&&r.push(c(i.messages.whitespace,t.fullField))}var x=b,w={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},T={integer:function(t){return T.number(t)&&parseInt(t,10)===t},float:function(t){return T.number(t)&&!T.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(e){return!1}},date:function(t){return"function"===typeof t.getTime&&"function"===typeof t.getMonth&&"function"===typeof t.getYear},number:function(t){return!isNaN(t)&&"number"===typeof t},object:function(t){return"object"===("undefined"===typeof t?"undefined":a()(t))&&!T.array(t)},method:function(t){return"function"===typeof t},email:function(t){return"string"===typeof t&&!!t.match(w.email)&&t.length<255},url:function(t){return"string"===typeof t&&!!t.match(w.url)},hex:function(t){return"string"===typeof t&&!!t.match(w.hex)}};function S(t,e,n,r,i){if(t.required&&void 0===e)_(t,e,n,r,i);else{var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?T[s](e)||r.push(c(i.messages.types[s],t.fullField,t.type)):s&&("undefined"===typeof e?"undefined":a()(e))!==t.type&&r.push(c(i.messages.types[s],t.fullField,t.type))}}var O=S;function M(t,e,n,r,i){var o="number"===typeof t.len,a="number"===typeof t.min,s="number"===typeof t.max,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=e,h=null,f="number"===typeof e,d="string"===typeof e,p=Array.isArray(e);if(f?h="number":d?h="string":p&&(h="array"),!h)return!1;p&&(l=e.length),d&&(l=e.replace(u,"_").length),o?l!==t.len&&r.push(c(i.messages[h].len,t.fullField,t.len)):a&&!s&&l<t.min?r.push(c(i.messages[h].min,t.fullField,t.min)):s&&!a&&l>t.max?r.push(c(i.messages[h].max,t.fullField,t.max)):a&&s&&(l<t.min||l>t.max)&&r.push(c(i.messages[h].range,t.fullField,t.min,t.max))}var E=M,A="enum";function C(t,e,n,r,i){t[A]=Array.isArray(t[A])?t[A]:[],-1===t[A].indexOf(e)&&r.push(c(i.messages[A],t.fullField,t[A].join(", ")))}var D=C;function L(t,e,n,r,i){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(c(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"===typeof t.pattern){var o=new RegExp(t.pattern);o.test(e)||r.push(c(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}var I=L,P={required:_,whitespace:x,type:O,range:E,enum:D,pattern:I};function R(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e,"string")&&!t.required)return n();P.required(t,e,r,o,i,"string"),h(e,"string")||(P.type(t,e,r,o,i),P.range(t,e,r,o,i),P.pattern(t,e,r,o,i),!0===t.whitespace&&P.whitespace(t,e,r,o,i))}n(o)}var N=R;function k(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),void 0!==e&&P.type(t,e,r,o,i)}n(o)}var j=k;function F(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),void 0!==e&&(P.type(t,e,r,o,i),P.range(t,e,r,o,i))}n(o)}var B=F;function z(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),void 0!==e&&P.type(t,e,r,o,i)}n(o)}var U=z;function H(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),h(e)||P.type(t,e,r,o,i)}n(o)}var G=H;function V(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),void 0!==e&&(P.type(t,e,r,o,i),P.range(t,e,r,o,i))}n(o)}var W=V;function q(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),void 0!==e&&(P.type(t,e,r,o,i),P.range(t,e,r,o,i))}n(o)}var X=q;function Y(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e,"array")&&!t.required)return n();P.required(t,e,r,o,i,"array"),h(e,"array")||(P.type(t,e,r,o,i),P.range(t,e,r,o,i))}n(o)}var $=Y;function Z(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),void 0!==e&&P.type(t,e,r,o,i)}n(o)}var K=Z,J="enum";function Q(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();P.required(t,e,r,o,i),e&&P[J](t,e,r,o,i)}n(o)}var tt=Q;function et(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e,"string")&&!t.required)return n();P.required(t,e,r,o,i),h(e,"string")||P.pattern(t,e,r,o,i)}n(o)}var nt=et;function rt(t,e,n,r,i){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(h(e)&&!t.required)return n();if(P.required(t,e,r,o,i),!h(e)){var s=void 0;s="number"===typeof e?new Date(e):e,P.type(t,s,r,o,i),s&&P.range(t,s.getTime(),r,o,i)}}n(o)}var it=rt;function ot(t,e,n,r,i){var o=[],s=Array.isArray(e)?"array":"undefined"===typeof e?"undefined":a()(e);P.required(t,e,r,o,i,s),n(o)}var at=ot;function st(t,e,n,r,i){var o=t.type,a=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(h(e,o)&&!t.required)return n();P.required(t,e,r,a,i,o),h(e,o)||P.type(t,e,r,a,i)}n(a)}var ut=st,ct={string:N,method:j,number:B,boolean:U,regexp:G,integer:W,float:X,array:$,object:K,enum:tt,pattern:nt,date:it,url:ut,hex:ut,email:ut,required:at};function lt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var ht=lt();function ft(t){this.rules=null,this._messages=ht,this.define(t)}ft.prototype={messages:function(t){return t&&(this._messages=v(lt(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==("undefined"===typeof t?"undefined":a()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,n=void 0;for(e in t)t.hasOwnProperty(e)&&(n=t[e],this.rules[e]=Array.isArray(n)?n:[n])},validate:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=t,s=n,l=r;if("function"===typeof s&&(l=s,s={}),this.rules&&0!==Object.keys(this.rules).length){if(s.messages){var h=this.messages();h===ht&&(h=lt()),v(h,s.messages),s.messages=h}else s.messages=this.messages();var f=void 0,d=void 0,p={},y=s.keys||Object.keys(this.rules);y.forEach((function(n){f=e.rules[n],d=o[n],f.forEach((function(r){var a=r;"function"===typeof a.transform&&(o===t&&(o=i()({},o)),d=o[n]=a.transform(d)),a="function"===typeof a?{validator:a}:i()({},a),a.validator=e.getValidationMethod(a),a.field=n,a.fullField=a.fullField||n,a.type=e.getType(a),a.validator&&(p[n]=p[n]||[],p[n].push({rule:a,value:d,source:o,field:n}))}))}));var _={};m(p,s,(function(t,e){var n=t.rule,r=("object"===n.type||"array"===n.type)&&("object"===a()(n.fields)||"object"===a()(n.defaultField));function o(t,e){return i()({},e,{fullField:n.fullField+"."+t})}function l(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=a;if(Array.isArray(l)||(l=[l]),l.length&&u("async-validator:",l),l.length&&n.message&&(l=[].concat(n.message)),l=l.map(g(n)),s.first&&l.length)return _[n.field]=1,e(l);if(r){if(n.required&&!t.value)return l=n.message?[].concat(n.message).map(g(n)):s.error?[s.error(n,c(s.messages.required,n.field))]:[],e(l);var h={};if(n.defaultField)for(var f in t.value)t.value.hasOwnProperty(f)&&(h[f]=n.defaultField);for(var d in h=i()({},h,t.rule.fields),h)if(h.hasOwnProperty(d)){var p=Array.isArray(h[d])?h[d]:[h[d]];h[d]=p.map(o.bind(null,d))}var m=new ft(h);m.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),m.validate(t.value,t.rule.options||s,(function(t){e(t&&t.length?l.concat(t):t)}))}else e(l)}r=r&&(n.required||!n.required&&t.value),n.field=t.field;var h=n.validator(n,t.value,l,t.source,s);h&&h.then&&h.then((function(){return l()}),(function(t){return l(t)}))}),(function(t){b(t)}))}else l&&l();function b(t){var e=void 0,n=void 0,r=[],i={};function o(t){Array.isArray(t)?r=r.concat.apply(r,t):r.push(t)}for(e=0;e<t.length;e++)o(t[e]);if(r.length)for(e=0;e<r.length;e++)n=r[e].field,i[n]=i[n]||[],i[n].push(r[e]);else r=null,i=null;l(r,i)}},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!==typeof t.validator&&t.type&&!ct.hasOwnProperty(t.type))throw new Error(c("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"===typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?ct.required:ct[this.getType(t)]||!1}},ft.register=function(t,e){if("function"!==typeof e)throw new Error("Cannot register a validator by type, validator is not a function");ct[t]=e},ft.messages=ht;e["default"]=ft},a3de:function(t,e,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),a=n("50c4"),s=n("7b0b"),u=n("65f0"),c=n("8418"),l=n("1dde"),h=n("ae40"),f=l("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var n,r,l,h,f,d,y=s(this),_=a(y.length),b=i(t,_),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=_-b):(n=x-2,r=m(p(o(e),0),_-b)),_+n-r>g)throw TypeError(v);for(l=u(y,r),h=0;h<r;h++)f=b+h,f in y&&c(l,h,y[f]);if(l.length=r,n<r){for(h=b;h<_-r;h++)f=h+r,d=h+n,f in y?y[d]=y[f]:delete y[d];for(h=_;h>_-r+n;h--)delete y[h-1]}else if(n>r)for(h=_-r;h>b;h--)f=h+r-1,d=h+n-1,f in y?y[d]=y[f]:delete y[d];for(h=0;h<n;h++)y[h+b]=arguments[h+2];return y.length=_-r+n,l}})},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),s=n("83ab"),u=n("4930"),c=n("fdbf"),l=n("d039"),h=n("5135"),f=n("e8b5"),d=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),_=n("7c73"),b=n("df75"),x=n("241c"),w=n("057f"),T=n("7418"),S=n("06cf"),O=n("9bf2"),M=n("d1e7"),E=n("9112"),A=n("6eeb"),C=n("5692"),D=n("f772"),L=n("d012"),I=n("90e3"),P=n("b622"),R=n("e538"),N=n("746f"),k=n("d44e"),j=n("69f3"),F=n("b727").forEach,B=D("hidden"),z="Symbol",U="prototype",H=P("toPrimitive"),G=j.set,V=j.getterFor(z),W=Object[U],q=i.Symbol,X=o("JSON","stringify"),Y=S.f,$=O.f,Z=w.f,K=M.f,J=C("symbols"),Q=C("op-symbols"),tt=C("string-to-symbol-registry"),et=C("symbol-to-string-registry"),nt=C("wks"),rt=i.QObject,it=!rt||!rt[U]||!rt[U].findChild,ot=s&&l((function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(W,e);r&&delete W[e],$(t,e,n),r&&t!==W&&$(W,e,r)}:$,at=function(t,e){var n=J[t]=_(q[U]);return G(n,{type:z,tag:t,description:e}),s||(n.description=e),n},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},ut=function(t,e,n){t===W&&ut(Q,e,n),p(t);var r=v(e,!0);return p(n),h(J,r)?(n.enumerable?(h(t,B)&&t[B][r]&&(t[B][r]=!1),n=_(n,{enumerable:y(0,!1)})):(h(t,B)||$(t,B,y(1,{})),t[B][r]=!0),ot(t,r,n)):$(t,r,n)},ct=function(t,e){p(t);var n=g(e),r=b(n).concat(pt(n));return F(r,(function(e){s&&!ht.call(n,e)||ut(t,e,n[e])})),t},lt=function(t,e){return void 0===e?_(t):ct(_(t),e)},ht=function(t){var e=v(t,!0),n=K.call(this,e);return!(this===W&&h(J,e)&&!h(Q,e))&&(!(n||!h(this,e)||!h(J,e)||h(this,B)&&this[B][e])||n)},ft=function(t,e){var n=g(t),r=v(e,!0);if(n!==W||!h(J,r)||h(Q,r)){var i=Y(n,r);return!i||!h(J,r)||h(n,B)&&n[B][r]||(i.enumerable=!0),i}},dt=function(t){var e=Z(g(t)),n=[];return F(e,(function(t){h(J,t)||h(L,t)||n.push(t)})),n},pt=function(t){var e=t===W,n=Z(e?Q:g(t)),r=[];return F(n,(function(t){!h(J,t)||e&&!h(W,t)||r.push(J[t])})),r};if(u||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===W&&n.call(Q,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),ot(this,e,y(1,t))};return s&&it&&ot(W,e,{configurable:!0,set:n}),at(e,t)},A(q[U],"toString",(function(){return V(this).tag})),A(q,"withoutSetter",(function(t){return at(I(t),t)})),M.f=ht,O.f=ut,S.f=ft,x.f=w.f=dt,T.f=pt,R.f=function(t){return at(P(t),t)},s&&($(q[U],"description",{configurable:!0,get:function(){return V(this).description}}),a||A(W,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),F(b(nt),(function(t){N(t)})),r({target:z,stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=q(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:lt,defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:l((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(m(t))}}),X){var mt=!u||l((function(){var t=q();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))}));r({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(d(e)||void 0!==t)&&!st(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,X.apply(null,i)}})}q[U][H]||E(q[U],H,q[U].valueOf),k(q,z),L[B]=!0},a5d8:function(t,e,n){},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:i})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a78e:function(t,e,n){var r,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(o){var a=!1;if(r=o,i="function"===typeof r?r.call(e,n,e,t):r,void 0===i||(t.exports=i),a=!0,t.exports=o(),a=!0,!a){var s=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=s,u}}})((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,i,o){var a;if("undefined"!==typeof document){if(arguments.length>1){if(o=t({path:"/"},r.defaults,o),"number"===typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(g){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c]));return document.cookie=e+"="+i+u}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var d=l[f].split("="),p=d.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var m=d[0].replace(h,decodeURIComponent);if(p=n.read?n.read(p,m):n(p,m)||p.replace(h,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(g){}if(e===m){a=p;break}e||(a[m]=p)}catch(g){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e((function(){}))}))},a79d:function(t,e,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),a=n("d039"),s=n("d066"),u=n("4840"),c=n("cdf9"),l=n("6eeb"),h=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=u(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",s("Promise").prototype["finally"])},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),o=n("94ca"),a=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),h=n("d039"),f=n("7c73"),d=n("241c").f,p=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,v="Number",y=i[v],_=y.prototype,b=u(f(_))==v,x=function(t){var e,n,r,i,o,a,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=c.slice(2),a=o.length,s=0;s<a;s++)if(u=o.charCodeAt(s),u<48||u>i)return NaN;return parseInt(o,r)}return+c};if(o(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,T=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof T&&(b?h((function(){_.valueOf.call(n)})):u(n)!=v)?c(new y(x(e)),n,T):x(e)},S=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;S.length>O;O++)s(y,w=S[O])&&!s(T,w)&&m(T,w,p(y,w));T.prototype=_,_.constructor=T,a(i,v,T)}},aa74:function(t,e,n){"use strict";n.d(e,"p",(function(){return u["d"]})),n.d(e,"w",(function(){return u["l"]})),n.d(e,"u",(function(){return u["j"]})),n.d(e,"v",(function(){return u["k"]})),n.d(e,"l",(function(){return u["b"]})),n.d(e,"m",(function(){return u["c"]})),n.d(e,"z",(function(){return p})),n.d(e,"h",(function(){return m})),n.d(e,"o",(function(){return r})),n.d(e,"x",(function(){return P["a"]})),n.d(e,"s",(function(){return R["a"]})),n.d(e,"t",(function(){return R["a"]})),n.d(e,"r",(function(){return i})),n.d(e,"n",(function(){return o})),n.d(e,"k",(function(){return a})),n.d(e,"y",(function(){return s})),n.d(e,"e",(function(){return d["a"]})),n.d(e,"f",(function(){return b["a"]})),n.d(e,"a",(function(){return ot["a"]})),n.d(e,"c",(function(){return c["a"]})),n.d(e,"d",(function(){return l["a"]})),n.d(e,"g",(function(){return h["b"]})),n.d(e,"b",(function(){return f["a"]})),n.d(e,"q",(function(){return at["b"]})),n.d(e,"j",(function(){return st})),n.d(e,"i",(function(){return ut}));var r={};n.r(r),n.d(r,"createList",(function(){return A})),n.d(r,"getLayoutRect",(function(){return x["g"]})),n.d(r,"createDimensions",(function(){return O["a"]})),n.d(r,"dataStack",(function(){return C})),n.d(r,"createSymbol",(function(){return M["a"]})),n.d(r,"createScale",(function(){return D})),n.d(r,"mixinAxisModelCommonMethods",(function(){return L})),n.d(r,"getECData",(function(){return T["a"]})),n.d(r,"enableHoverEmphasis",(function(){return E["o"]})),n.d(r,"createTextStyle",(function(){return I}));var i={};n.r(i),n.d(i,"linearMap",(function(){return N["l"]})),n.d(i,"round",(function(){return N["v"]})),n.d(i,"asc",(function(){return N["c"]})),n.d(i,"getPrecision",(function(){return N["g"]})),n.d(i,"getPrecisionSafe",(function(){return N["h"]})),n.d(i,"getPixelPrecision",(function(){return N["f"]})),n.d(i,"getPercentWithPrecision",(function(){return N["e"]})),n.d(i,"MAX_SAFE_INTEGER",(function(){return N["a"]})),n.d(i,"remRadian",(function(){return N["u"]})),n.d(i,"isRadianAroundZero",(function(){return N["k"]})),n.d(i,"parseDate",(function(){return N["o"]})),n.d(i,"quantity",(function(){return N["r"]})),n.d(i,"quantityExponent",(function(){return N["s"]})),n.d(i,"nice",(function(){return N["m"]})),n.d(i,"quantile",(function(){return N["q"]})),n.d(i,"reformIntervals",(function(){return N["t"]})),n.d(i,"isNumeric",(function(){return N["j"]})),n.d(i,"numericToNumber",(function(){return N["n"]}));var o={};n.r(o),n.d(o,"extendShape",(function(){return k["extendShape"]})),n.d(o,"extendPath",(function(){return k["extendPath"]})),n.d(o,"makePath",(function(){return k["makePath"]})),n.d(o,"makeImage",(function(){return k["makeImage"]})),n.d(o,"mergePath",(function(){return k["mergePath"]})),n.d(o,"resizePath",(function(){return k["resizePath"]})),n.d(o,"createIcon",(function(){return k["createIcon"]})),n.d(o,"updateProps",(function(){return j["h"]})),n.d(o,"initProps",(function(){return j["c"]})),n.d(o,"getTransform",(function(){return k["getTransform"]})),n.d(o,"clipPointsByRect",(function(){return k["clipPointsByRect"]})),n.d(o,"clipRectByRect",(function(){return k["clipRectByRect"]})),n.d(o,"registerShape",(function(){return k["registerShape"]})),n.d(o,"getShapeClass",(function(){return k["getShapeClass"]})),n.d(o,"Group",(function(){return F["a"]})),n.d(o,"Image",(function(){return B["a"]})),n.d(o,"Text",(function(){return z["a"]})),n.d(o,"Circle",(function(){return U["a"]})),n.d(o,"Ellipse",(function(){return H["a"]})),n.d(o,"Sector",(function(){return G["a"]})),n.d(o,"Ring",(function(){return V["a"]})),n.d(o,"Polygon",(function(){return W["a"]})),n.d(o,"Polyline",(function(){return q["a"]})),n.d(o,"Rect",(function(){return X["a"]})),n.d(o,"Line",(function(){return Y["a"]})),n.d(o,"BezierCurve",(function(){return $["a"]})),n.d(o,"Arc",(function(){return Z["a"]})),n.d(o,"IncrementalDisplayable",(function(){return K["a"]})),n.d(o,"CompoundPath",(function(){return J["a"]})),n.d(o,"LinearGradient",(function(){return Q["a"]})),n.d(o,"RadialGradient",(function(){return tt["a"]})),n.d(o,"BoundingRect",(function(){return et["a"]}));var a={};n.r(a),n.d(a,"addCommas",(function(){return nt["a"]})),n.d(a,"toCamelCase",(function(){return nt["k"]})),n.d(a,"normalizeCssArray",(function(){return nt["j"]})),n.d(a,"encodeHTML",(function(){return nt["d"]})),n.d(a,"formatTpl",(function(){return nt["f"]})),n.d(a,"getTooltipMarker",(function(){return nt["h"]})),n.d(a,"formatTime",(function(){return nt["e"]})),n.d(a,"capitalFirst",(function(){return nt["b"]})),n.d(a,"truncateText",(function(){return rt["c"]})),n.d(a,"getTextRect",(function(){return it["a"]}));var s={};n.r(s),n.d(s,"map",(function(){return g["H"]})),n.d(s,"each",(function(){return g["k"]})),n.d(s,"indexOf",(function(){return g["r"]})),n.d(s,"inherits",(function(){return g["s"]})),n.d(s,"reduce",(function(){return g["N"]})),n.d(s,"filter",(function(){return g["n"]})),n.d(s,"bind",(function(){return g["c"]})),n.d(s,"curry",(function(){return g["i"]})),n.d(s,"isArray",(function(){return g["t"]})),n.d(s,"isString",(function(){return g["C"]})),n.d(s,"isObject",(function(){return g["A"]})),n.d(s,"isFunction",(function(){return g["w"]})),n.d(s,"extend",(function(){return g["m"]})),n.d(s,"defaults",(function(){return g["j"]})),n.d(s,"clone",(function(){return g["d"]})),n.d(s,"merge",(function(){return g["I"]}));var u=n("1be7"),c=n("6cb7"),l=n("b12f"),h=n("4f85"),f=n("e887"),d=n("b682"),p=n("697e7"),m=n("41ef"),g=n("6d8b"),v=n("1830"),y=n("697e"),_=n("2023"),b=n("4319"),x=n("f934"),w=n("ee1a"),T=n("861c"),S=n("7837"),O=n("b1d4"),M=n("a15a"),E=n("7d6c");function A(t){return Object(v["a"])(null,t)}var C={isDimensionStacked:w["c"],enableDataStack:w["a"],getStackedDimension:w["b"]};function D(t,e){var n=e;e instanceof b["a"]||(n=new b["a"](e));var r=y["a"](n);return r.setExtent(t[0],t[1]),y["i"](r,n),r}function L(t){g["K"](t,_["a"])}function I(t,e){return e=e||{},Object(S["c"])(t,null,null,"normal"!==e.state)}var P=n("22b4"),R=n("bda7"),N=n("3842"),k=n("2306"),j=n("deab"),F=n("2dc5"),B=n("0da8"),z=n("76a5"),U=n("d9fc"),H=n("ae69"),G=n("4aa2"),V=n("4573"),W=n("87b1"),q=n("d498"),X=n("c7a2"),Y=n("cb11"),$=n("ac0f"),Z=n("8d32"),K=n("392f"),J=n("d4c6"),Q=n("48a9"),tt=n("dded"),et=n("9850"),nt=n("eda2"),rt=n("d409"),it=n("998a"),ot=n("84ce"),at=n("5210");function st(t){var e=h["b"].extend(t);return h["b"].registerClass(e),e}function ut(t){var e=f["a"].extend(t);return f["a"].registerClass(e),e}var ct=n("ee29");Object(P["a"])(ct["a"])},ab13:function(t,e,n){var r=n("b622"),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},ac0f:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=n("401b"),a=n("4a3f"),s=[],u=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function c(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?a["b"]:a["a"])(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?a["b"]:a["a"])(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?a["i"]:a["h"])(t.x1,t.cpx1,t.x2,e),(n?a["i"]:a["h"])(t.y1,t.cpy1,t.y2,e)]}var l=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new u},e.prototype.buildPath=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,u=e.cpx1,c=e.cpy1,l=e.cpx2,h=e.cpy2,f=e.percent;0!==f&&(t.moveTo(n,r),null==l||null==h?(f<1&&(Object(a["n"])(n,u,i,f,s),u=s[1],i=s[2],Object(a["n"])(r,c,o,f,s),c=s[1],o=s[2]),t.quadraticCurveTo(u,c,i,o)):(f<1&&(Object(a["g"])(n,u,l,i,f,s),u=s[1],l=s[2],i=s[3],Object(a["g"])(r,c,h,o,f,s),c=s[1],h=s[2],o=s[3]),t.bezierCurveTo(u,c,l,h,i,o)))},e.prototype.pointAt=function(t){return c(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=c(this.shape,t,!0);return o["m"](e,e)},e}(i["b"]);l.prototype.type="bezier-curve",e["a"]=l},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},ae40:function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("5135"),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:u,h=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,l,h)}))}},ae69:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=.5522848,r=e.cx,i=e.cy,o=e.rx,a=e.ry,s=o*n,u=a*n;t.moveTo(r-o,i),t.bezierCurveTo(r-o,i-u,r-s,i-a,r,i-a),t.bezierCurveTo(r+s,i-a,r+o,i-u,r+o,i),t.bezierCurveTo(r+o,i+u,r+s,i+a,r,i+a),t.bezierCurveTo(r-s,i+a,r-o,i+u,r-o,i),t.closePath()},e}(i["b"]);a.prototype.type="ellipse",e["a"]=a},ae93:function(t,e,n){"use strict";var r,i,o,a=n("e163"),s=n("9112"),u=n("5135"),c=n("b622"),l=n("c430"),h=c("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),l||u(r,h)||s(r,h,d),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(t,e,n){"use strict";var r=n("00ee"),i=n("f5df");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b12f:function(t,e,n){"use strict";var r=n("2dc5"),i=n("8918"),o=n("625e"),a=function(){function t(){this.group=new r["a"],this.uid=i["c"]("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){},t.prototype.updateLayout=function(t,e,n,r){},t.prototype.updateVisual=function(t,e,n,r){},t.prototype.blurSeries=function(t,e){},t}();o["b"](a),o["c"](a),e["a"]=a},b1d4:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f}));var r=n("07fd"),i=n("cd70"),o=n("6d8b"),a=n("ec6f"),s=n("d0ce"),u=n("e0d3"),c=n("0f99"),l=n("80b9");function h(t,e){return f(t,e).dimensions}function f(t,e){Object(a["e"])(t)||(t=Object(a["c"])(t)),e=e||{};var n=e.coordDimensions||[],h=e.dimensionsDefine||t.dimensionsDefine||[],f=Object(o["g"])(),g=[],v=p(t,n,h,e.dimensionsCount),y=e.canOmitUnusedDimensions&&Object(l["e"])(v),_=h===t.dimensionsDefine,b=_?Object(l["c"])(t):Object(l["b"])(h),x=e.encodeDefine;!x&&e.encodeDefaulter&&(x=e.encodeDefaulter(t,v));for(var w=Object(o["g"])(x),T=new s["a"](v),S=0;S<T.length;S++)T[S]=-1;function O(t){var e=T[t];if(e<0){var n=h[t],r=Object(o["A"])(n)?n:{name:n},a=new i["a"],s=r.name;null!=s&&null!=b.get(s)&&(a.name=a.displayName=s),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var u=g.length;return T[t]=u,a.storeDimIndex=t,g.push(a),a}return g[e]}if(!y)for(S=0;S<v;S++)O(S);w.each((function(t,e){var n=Object(u["r"])(t).slice();if(1===n.length&&!Object(o["C"])(n[0])&&n[0]<0)w.set(e,!1);else{var r=w.set(e,[]);Object(o["k"])(n,(function(t,n){var i=Object(o["C"])(t)?b.get(t):t;null!=i&&i<v&&(r[n]=i,E(O(i),e,n))}))}}));var M=0;function E(t,e,n){null!=r["i"].get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,f.set(e,!0))}Object(o["k"])(n,(function(t){var e,n,r,i;if(Object(o["C"])(t))e=t,i={};else{i=t,e=i.name;var a=i.ordinalMeta;i.ordinalMeta=null,i=Object(o["m"])({},i),i.ordinalMeta=a,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=w.get(e);if(!1!==s){if(s=Object(u["r"])(s),!s.length)for(var c=0;c<(n&&n.length||1);c++){while(M<v&&null!=O(M).coordDim)M++;M<v&&s.push(M++)}Object(o["k"])(s,(function(t,a){var s=O(t);if(_&&null!=i.type&&(s.type=i.type),E(Object(o["j"])(s,i),e,a),null==s.name&&n){var u=n[a];!Object(o["A"])(u)&&(u={name:u}),s.name=s.displayName=u.name,s.defaultTooltip=u.defaultTooltip}r&&Object(o["j"])(s.otherDims,r)}))}}));var A=e.generateCoord,C=e.generateCoordCount,D=null!=C;C=A?C||1:0;var L=A||"value";function I(t){null==t.name&&(t.name=t.coordDim)}if(y)Object(o["k"])(g,(function(t){I(t)})),g.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var P=0;P<v;P++){var R=O(P),N=R.coordDim;null==N&&(R.coordDim=m(L,f,D),R.coordDimIndex=0,(!A||C<=0)&&(R.isExtraCoord=!0),C--),I(R),null!=R.type||Object(c["b"])(t,P)!==c["a"].Must&&(!R.isExtraCoord||null==R.otherDims.itemName&&null==R.otherDims.seriesName)||(R.type="ordinal")}return d(g),new l["a"]({source:t,dimensions:g,fullDimensionCount:v,dimensionOmitted:y})}function d(t){for(var e=Object(o["g"])(),n=0;n<t.length;n++){var r=t[n],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function p(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return Object(o["k"])(e,(function(t){var e;Object(o["A"])(t)&&(e=t.dimsDef)&&(i=Math.max(i,e.length))})),i}function m(t,e,n){var r=e.data;if(n||r.hasOwnProperty(t)){var i=0;while(r.hasOwnProperty(t+i))i++;t+=i}return e.set(t,!0),t}},b367:function(t,e,n){var r=n("5524"),i=n("ef08"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("e444")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},b3c1:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("4755"),i=n("d51b"),o=n("6d8b"),a=n("3842"),s=n("a15a"),u=n("5210"),c=new r["a"],l=new i["a"](100),h=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function f(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i="svg"===r.painter.type;t.dirty&&c["delete"](t);var f=c.get(t);if(f)return f;var y=Object(o["j"])(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===y.backgroundColor&&(y.backgroundColor=null);var _={repeat:"repeat"};return b(_),_.rotation=y.rotation,_.scaleX=_.scaleY=i?1:1/n,c.set(t,_),t.dirty=!1,_;function b(t){for(var e,c=[n],f=!0,_=0;_<h.length;++_){var b=y[h[_]],x=typeof b;if(null!=b&&!Object(o["t"])(b)&&"string"!==x&&"number"!==x&&"boolean"!==x){f=!1;break}c.push(b)}if(f){e=c.join(",")+(i?"-svg":"");var w=l.get(e);w&&(i?t.svgElement=w:t.image=w)}var T,S=p(y.dashArrayX),O=m(y.dashArrayY),M=d(y.symbol),E=g(S),A=v(O),C=!i&&Object(o["f"])(),D=i&&r.painter.createSVGElement("g"),L=I();function I(){for(var t=1,e=0,n=E.length;e<n;++e)t=Object(a["d"])(t,E[e]);var r=1;for(e=0,n=M.length;e<n;++e)r=Object(a["d"])(r,M[e].length);t*=r;var i=A*E.length*M.length;return{width:Math.max(1,Math.min(t,y.maxTileWidth)),height:Math.max(1,Math.min(i,y.maxTileHeight))}}function P(){T&&(T.clearRect(0,0,C.width,C.height),y.backgroundColor&&(T.fillStyle=y.backgroundColor,T.fillRect(0,0,C.width,C.height)));for(var t=0,e=0;e<O.length;++e)t+=O[e];if(!(t<=0)){var o=-A,a=0,c=0,l=0;while(o<L.height){if(a%2===0){var h=c/2%M.length,f=0,d=0,p=0;while(f<2*L.width){var m=0;for(e=0;e<S[l].length;++e)m+=S[l][e];if(m<=0)break;if(d%2===0){var g=.5*(1-y.symbolSize),v=f+S[l][d]*g,_=o+O[a]*g,b=S[l][d]*y.symbolSize,x=O[a]*y.symbolSize,w=p/2%M[h].length;E(v,_,b,x,M[h][w])}f+=S[l][d],++p,++d,d===S[l].length&&(d=0)}++l,l===S.length&&(l=0)}o+=O[a],++c,++a,a===O.length&&(a=0)}}function E(t,e,o,a,c){var l=i?1:n,h=Object(s["a"])(c,t*l,e*l,o*l,a*l,y.color,y.symbolKeepAspect);i?D.appendChild(r.painter.paintOne(h)):Object(u["b"])(T,h)}}C&&(C.width=L.width*n,C.height=L.height*n,T=C.getContext("2d")),P(),f&&l.put(e,C||D),t.image=C,t.svgElement=D,t.svgWidth=L.width,t.svgHeight=L.height}}function d(t){if(!t||0===t.length)return[["rect"]];if("string"===typeof t)return[[t]];for(var e=!0,n=0;n<t.length;++n)if("string"!==typeof t[n]){e=!1;break}if(e)return d([t]);var r=[];for(n=0;n<t.length;++n)"string"===typeof t[n]?r.push([t[n]]):r.push(t[n]);return r}function p(t){if(!t||0===t.length)return[[0,0]];if("number"===typeof t){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if("number"!==typeof t[r]){n=!1;break}if(n)return p([t]);var i=[];for(r=0;r<t.length;++r)if("number"===typeof t[r]){e=Math.ceil(t[r]);i.push([e,e])}else{e=Object(o["H"])(t[r],(function(t){return Math.ceil(t)}));e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function m(t){if(!t||"object"===typeof t&&0===t.length)return[0,0];if("number"===typeof t){var e=Math.ceil(t);return[e,e]}var n=Object(o["H"])(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}function g(t){return Object(o["H"])(t,(function(t){return v(t)}))}function v(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?2*e:e}},b50d:function(t,e,n){"use strict";var r=n("c532"),i=n("467f"),o=n("30b5"),a=n("c345"),s=n("3934"),u=n("2d83");t.exports=function(t){return new Promise((function(e,c){var l=t.data,h=t.headers;r.isFormData(l)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",p=t.auth.password||"";h.Authorization="Basic "+btoa(d+":"+p)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?f.response:f.responseText,o={data:r,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};i(e,c,o),f=null}},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n("7aac"),g=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(h,(function(t,e){"undefined"===typeof l&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)})),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(v){if("json"!==t.responseType)throw v}"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),c(t),f=null)})),void 0===l&&(l=null),f.send(l)}))}},b575:function(t,e,n){var r,i,o,a,s,u,c,l,h=n("da84"),f=n("06cf").f,d=n("c6b6"),p=n("2cf49").set,m=n("1cdc"),g=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,_="process"==d(v),b=f(h,"queueMicrotask"),x=b&&b.value;x||(r=function(){var t,e;_&&(t=v.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?a():o=void 0,n}}o=void 0,t&&t.enter()},_?a=function(){v.nextTick(r)}:g&&!m?(s=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=function(){p.call(h,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),o=n("5135"),a=n("90e3"),s=n("4930"),u=n("fdbf"),c=i("wks"),l=r.Symbol,h=u?l:l&&l.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(l,t)?c[t]=l[t]:c[t]=h("Symbol."+t)),c[t]}},b636:function(t,e,n){var r=n("746f");r("asyncIterator")},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),a=n("d039"),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return o(i(t))}})},b680:function(t,e,n){"use strict";var r=n("23e7"),i=n("a691"),o=n("408a"),a=n("1148"),s=n("d039"),u=1..toFixed,c=Math.floor,l=function(t,e,n){return 0===e?n:e%2===1?l(t,e-1,n*t):l(t*t,e/2,n)},h=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));r({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,n,r,s,u=o(this),f=i(t),d=[0,0,0,0,0,0],p="",m="0",g=function(t,e){var n=-1,r=e;while(++n<6)r+=t*d[n],d[n]=r%1e7,r=c(r/1e7)},v=function(t){var e=6,n=0;while(--e>=0)n+=d[e],d[e]=c(n/t),n=n%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var n=String(d[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(e=h(u*l(2,69,1))-69,n=e<0?u*l(2,-e,1):u/l(2,e,1),n*=4503599627370496,e=52-e,e>0){g(0,n),r=f;while(r>=7)g(1e7,0),r-=7;g(l(10,r,1),0),r=e-1;while(r>=23)v(1<<23),r-=23;v(1<<r),g(1,1),v(2),m=y()}else g(0,n),g(1<<-e,0),m=y()+a.call("0",f);return f>0?(s=m.length,m=p+(s<=f?"0."+a.call("0",f-s)+m:m.slice(0,s-f)+"."+m.slice(s-f))):m=p+m,m}})},b682:function(t,e,n){"use strict";var r,i,o,a,s,u,c,l=n("6d8b"),h=n("4319"),f=n("80f0"),d=n("2b17"),p=n("2f45"),m=n("cd70"),g=n("07fd"),v=n("e0d3"),y=n("861c"),_=n("ec6f"),b=n("d0ce"),x=n("80b9"),w=l["A"],T=l["H"],S="undefined"===typeof Int32Array?Array:Int32Array,O="e\0\0",M=-1,E=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],A=["_approximateExtent"],C=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;Object(x["d"])(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var i={},o=[],a={},s=!1,u={},c=0;c<n.length;c++){var h=n[c],f=l["C"](h)?new m["a"]({name:h}):h instanceof m["a"]?h:new m["a"](h),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};o.push(d),i[d]=f,null!=u[d]&&(s=!0),f.createInvertedIndices&&(a[d]=[]),0===p.itemName&&(this._nameDimIdx=c),0===p.itemId&&(this._idDimIdx=c),r&&(f.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var g=this._dimIdxToName=l["g"]();l["k"](o,(function(t){g.set(i[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if("number"===typeof t||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var r,i=this;if(t instanceof b["b"]&&(r=t),!r){var o=this.dimensions,a=Object(_["e"])(t)||l["u"](t)?new d["a"](t,o.length):t;r=new b["b"];var s=T(o,(function(t){return{type:i._dimInfos[t].type,property:t}}));r.initData(a,s,n)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=Object(p["b"])(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),r=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=r;a<i;a++){var s=a-r;this._nameList[a]=e[s],o&&c(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==g["g"]&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=i.getSource().sourceFormat,u=s===g["f"];if(u&&!i.pure)for(var l=[],h=t;h<e;h++){var f=i.getItem(h,l);if(!this.hasItemOption&&Object(v["m"])(f)&&(this.hasItemOption=!0),f){var d=f.name;null==o[h]&&null!=d&&(o[h]=Object(v["e"])(d,null));var p=f.id;null==a[h]&&null!=p&&(a[h]=Object(v["e"])(p,null))}}if(this._shouldMakeIdFromName())for(h=t;h<e;h++)c(this,h);r(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){w(t)?l["m"](this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=o(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},t.prototype.getId=function(t){return i(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,r=this._store;return l["t"](t)?r.getValues(T(t,(function(t){return n._getStoreDimIndex(t)})),e):r.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var r=n[e];return null==r||isNaN(r)?M:r},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){"function"===typeof t&&(n=e,e=t,t=[]);var r=n||this,i=T(a(t),this._getStoreDimIndex,this);this._store.each(i,r?l["c"](e,r):e)},t.prototype.filterSelf=function(t,e,n){"function"===typeof t&&(n=e,e=t,t=[]);var r=n||this,i=T(a(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?l["c"](e,r):e),this},t.prototype.selectRange=function(t){var e=this,n={},r=l["F"](t),i=[];return l["k"](r,(function(r){var o=e._getStoreDimIndex(r);n[o]=t[r],i.push(o)})),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){"function"===typeof t&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),n),r},t.prototype.map=function(t,e,n,r){var i=n||r||this,o=T(a(t),this._getStoreDimIndex,this),s=u(this);return s._store=this._store.map(o,i?l["c"](e,i):e),s},t.prototype.modify=function(t,e,n,r){var i=n||r||this;var o=T(a(t),this._getStoreDimIndex,this);this._store.modify(o,i?l["c"](e,i):e)},t.prototype.downSample=function(t,e,n,r){var i=u(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),i},t.prototype.lttbDownSample=function(t,e){var n=u(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new h["a"](n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new f["a"](t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return i(t,e)}),(function(t){return i(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},w(t)?l["m"](this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return null==r?this.getVisual(e):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var i=r[e];return null==i&&(i=this.getVisual(e),l["t"](i)?i=i.slice():w(i)&&(i=l["m"]({},i)),r[e]=i),i},t.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,w(e)?l["m"](r,e):r[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(w(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?l["m"](this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;Object(y["b"])(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){l["k"](this._graphicEls,(function(n,r){n&&t&&t.call(e,n,r)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:T(this.dimensions,this._getDimInfo,this),this.hostModel)),s(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(l["S"](arguments)))})},t.internalField=function(){r=function(t){var e=t._invertedIndicesMap;l["k"](e,(function(n,r){var i=t._dimInfos[r],o=i.ordinalMeta,a=t._store;if(o){n=e[r]=new S(o.categories.length);for(var s=0;s<n.length;s++)n[s]=M;for(s=0;s<a.count();s++)n[a.get(i.storeDimIndex,s)]=s}}))},o=function(t,e,n){return Object(v["e"])(t._getCategory(e,n),null)},i=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=o(t,t._idDimIdx,e)),null==n&&(n=O+e),n},a=function(t){return l["t"](t)||(t=null!=t?[t]:[]),t},u=function(e){var n=new t(e._schema?e._schema:T(e.dimensions,e._getDimInfo,e),e.hostModel);return s(n,e),n},s=function(t,e){l["k"](E.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,l["k"](A,(function(n){t[n]=l["d"](e[n])})),t._calculationInfo=l["m"]({},e._calculationInfo)},c=function(t,e){var n=t._nameList,r=t._idList,i=t._nameDimIdx,a=t._idDimIdx,s=n[e],u=r[e];if(null==s&&null!=i&&(n[e]=s=o(t,i,e)),null==u&&null!=a&&(r[e]=u=o(t,a,e)),null==u&&null!=s){var c=t._nameRepeatCount,l=c[s]=(c[s]||0)+1;u=s,l>1&&(u+="__ec__"+l),r[e]=u}}}(),t}();e["a"]=C},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h;return function(d,p,m,g){for(var v,y,_=o(d),b=i(_),x=r(p,m,3),w=a(b.length),T=0,S=g||s,O=e?S(d,w):n?S(d,0):void 0;w>T;T++)if((f||T in b)&&(v=b[T],y=x(v,T,_),t))if(e)O[T]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:u.call(O,v)}else if(l)return!1;return h?-1:c||l?l:O}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},b7d9:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return d}));var r=n("3842"),i=n("6d8b"),o=n("edae");function a(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"===n&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+Object(r["o"])(t)),null==t||""===t?NaN:+t)}var s=Object(i["g"])({number:function(t){return parseFloat(t)},time:function(t){return+Object(r["o"])(t)},trim:function(t){return"string"===typeof t?Object(i["T"])(t):t}});function u(t){return s.get(t)}var c={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},l=function(){function t(t,e){if("number"!==typeof e){var n="";0,Object(o["c"])(n)}this._opFn=c[t],this._rvalFloat=Object(r["n"])(e)}return t.prototype.evaluate=function(t){return"number"===typeof t?this._opFn(t,this._rvalFloat):this._opFn(Object(r["n"])(t),this._rvalFloat)},t}(),h=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=typeof t,i=typeof e,o="number"===n?t:Object(r["n"])(t),a="number"===i?e:Object(r["n"])(e),s=isNaN(o),u=isNaN(a);if(s&&(o=this._incomparable),u&&(a=this._incomparable),s&&u){var c="string"===n,l="string"===i;c&&(o=l?t:0),l&&(a=c?e:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},t}(),f=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Object(r["n"])(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Object(r["n"])(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function d(t,e){return"eq"===t||"ne"===t?new f("eq"===t,e):Object(i["q"])(c,t)?new l(t,e):null}},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");var r=n("06c5");function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}},b9c7:function(t,e,n){n("e507"),t.exports=n("5524").Object.assign},ba01:function(t,e,n){t.exports=n("051b")},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc3a:function(t,e,n){t.exports=n("cee4")},bd11:function(t,e){t.exports=m,t.exports.parse=o,t.exports.compile=a,t.exports.tokensToFunction=s,t.exports.tokensToRegExp=p;var n="/",r="./",i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function o(t,e){var o,a=[],s=0,l=0,h="",f=e&&e.delimiter||n,d=e&&e.delimiters||r,p=!1;while(null!==(o=i.exec(t))){var m=o[0],g=o[1],v=o.index;if(h+=t.slice(l,v),l=v+m.length,g)h+=g[1],p=!0;else{var y="",_=t[l],b=o[2],x=o[3],w=o[4],T=o[5];if(!p&&h.length){var S=h.length-1;d.indexOf(h[S])>-1&&(y=h[S],h=h.slice(0,S))}h&&(a.push(h),h="",p=!1);var O=""!==y&&void 0!==_&&_!==y,M="+"===T||"*"===T,E="?"===T||"*"===T,A=y||f,C=x||w;a.push({name:b||s++,prefix:y,delimiter:A,optional:E,repeat:M,partial:O,pattern:C?c(C):"[^"+u(A)+"]+?"})}}return(h||l<t.length)&&a.push(h+t.substr(l)),a}function a(t,e){return s(o(t,e))}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=0;a<t.length;a++){var s=t[a];if("string"!==typeof s){var u,c=n?n[s.name]:void 0;if(Array.isArray(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var l=0;l<c.length;l++){if(u=o(c[l],s),!e[a].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');i+=(0===l?s.prefix:s.delimiter)+u}}else if("string"!==typeof c&&"number"!==typeof c&&"boolean"!==typeof c){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"));s.partial&&(i+=s.prefix)}else{if(u=o(String(c),s),!e[a].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+u+'"');i+=s.prefix+u}}else i+=s}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$/()])/g,"\\$1")}function l(t){return t&&t.sensitive?"":"i"}function h(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}function f(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(m(t[i],e,n).source);return new RegExp("(?:"+r.join("|")+")",l(n))}function d(t,e,n){return p(o(t,n),e,n)}function p(t,e,i){i=i||{};for(var o=i.strict,a=!1!==i.start,s=!1!==i.end,c=u(i.delimiter||n),h=i.delimiters||r,f=[].concat(i.endsWith||[]).map(u).concat("$").join("|"),d=a?"^":"",p=0===t.length,m=0;m<t.length;m++){var g=t[m];if("string"===typeof g)d+=u(g),p=m===t.length-1&&h.indexOf(g[g.length-1])>-1;else{var v=g.repeat?"(?:"+g.pattern+")(?:"+u(g.delimiter)+"(?:"+g.pattern+"))*":g.pattern;e&&e.push(g),g.optional?g.partial?d+=u(g.prefix)+"("+v+")?":d+="(?:"+u(g.prefix)+"("+v+"))?":d+=u(g.prefix)+"("+v+")"}}return s?(o||(d+="(?:"+c+")?"),d+="$"===f?"$":"(?="+f+")"):(o||(d+="(?:"+c+"(?="+f+"))?"),p||(d+="(?="+c+"|"+f+")")),new RegExp(d,l(i))}function m(t,e,n){return t instanceof RegExp?h(t,e):Array.isArray(t)?f(t,e,n):d(t,e,n)}},bda7:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("6d8b"),i=n("f279");function o(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);for(var r=e.features,i=0;i<r.length;i++){var o=r[i],s=o.geometry;if("Polygon"===s.type)for(var u=s.coordinates,c=0;c<u.length;c++)u[c]=a(u[c],s.encodeOffsets[c],n);else if("MultiPolygon"===s.type)for(u=s.coordinates,c=0;c<u.length;c++)for(var l=u[c],h=0;h<l.length;h++)l[h]=a(l[h],s.encodeOffsets[c][h],n)}return e.UTF8Encoding=!1,e}function a(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,u=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),s+=i,u+=o,i=s,o=u,r.push([s/n,u/n])}return r}function s(t,e){return t=o(t),r["H"](r["n"](t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,o=t.geometry,a=[];if("Polygon"===o.type){var s=o.coordinates;a.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})}if("MultiPolygon"===o.type){s=o.coordinates;r["k"](s,(function(t){t[0]&&a.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}))}var u=new i["a"](n[e||"name"],a,n.cp);return u.properties=n,u}))}},c04e:function(t,e,n){var r=n("861d");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c098:function(t,e,n){t.exports=n("d4af")},c345:function(t,e,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},c401:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},c430:function(t,e){t.exports=!1},c532:function(t,e,n){"use strict";var r=n("1d2b"),i=n("044b"),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return"[object ArrayBuffer]"===o.call(t)}function u(t){return"undefined"!==typeof FormData&&t instanceof FormData}function c(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function l(t){return"string"===typeof t}function h(t){return"number"===typeof t}function f(t){return"undefined"===typeof t}function d(t){return null!==t&&"object"===typeof t}function p(t){return"[object Date]"===o.call(t)}function m(t){return"[object File]"===o.call(t)}function g(t){return"[object Blob]"===o.call(t)}function v(t){return"[object Function]"===o.call(t)}function y(t){return d(t)&&v(t.pipe)}function _(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function w(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function T(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=T(t[n],e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)w(arguments[n],e);return t}function S(t,e,n){return w(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t}t.exports={isArray:a,isArrayBuffer:s,isBuffer:i,isFormData:u,isArrayBufferView:c,isString:l,isNumber:h,isObject:d,isUndefined:f,isDate:p,isFile:m,isBlob:g,isFunction:v,isStream:y,isURLSearchParams:_,isStandardBrowserEnv:x,forEach:w,merge:T,extend:S,trim:b}},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},c740:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,o=n("44d2"),a=n("ae40"),s="findIndex",u=!0,c=a(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},c7a2:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5");function o(t,e){var n,r,i,o,a,s=e.x,u=e.y,c=e.width,l=e.height,h=e.r;c<0&&(s+=c,c=-c),l<0&&(u+=l,l=-l),"number"===typeof h?n=r=i=o=h:h instanceof Array?1===h.length?n=r=i=o=h[0]:2===h.length?(n=i=h[0],r=o=h[1]):3===h.length?(n=h[0],r=o=h[1],i=h[2]):(n=h[0],r=h[1],i=h[2],o=h[3]):n=r=i=o=0,n+r>c&&(a=n+r,n*=c/a,r*=c/a),i+o>c&&(a=i+o,i*=c/a,o*=c/a),r+i>l&&(a=r+i,r*=l/a,i*=l/a),n+o>l&&(a=n+o,n*=l/a,o*=l/a),t.moveTo(s+n,u),t.lineTo(s+c-r,u),0!==r&&t.arc(s+c-r,u+r,r,-Math.PI/2,0),t.lineTo(s+c,u+l-i),0!==i&&t.arc(s+c-i,u+l-i,i,0,Math.PI/2),t.lineTo(s+o,u+l),0!==o&&t.arc(s+o,u+l-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}var a=n("9cf9"),s=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),u={},c=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){var n,r,i,s;if(this.subPixelOptimize){var c=Object(a["c"])(u,e,this.style);n=c.x,r=c.y,i=c.width,s=c.height,c.r=e.r,e=c}else n=e.x,r=e.y,i=e.width,s=e.height;e.r?o(t,e):t.rect(n,r,i,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(i["b"]);c.prototype.type="rect";e["a"]=c},c7eb:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b636"),n("944a"),n("0c47"),n("23dc"),n("3410"),n("159b"),n("b0c0"),n("131a"),n("fb6a");var r=n("53ca");function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(A){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof d?e:d,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=l;var f={};function d(){}function p(){}function m(){}var g={};c(g,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(M([])));y&&y!==e&&n.call(y,a)&&(g=y);var _=m.prototype=d.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(o,a,s,u){var c=h(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Object(r["a"])(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}var o;this._invoke=function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=m,c(_,"constructor",m),c(m,"constructor",p),p.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}},c8af:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},c901:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},ca80:function(t,e,n){"use strict";var r=n("dce8"),i=[0,0],o=[0,0],a=new r["a"],s=new r["a"],u=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new r["a"];for(n=0;n<2;n++)this._axes[n]=new r["a"];t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,o=t.x,a=t.y,s=o+t.width,u=a+t.height;if(n[0].set(o,a),n[1].set(s,a),n[2].set(s,u),n[3].set(o,u),e)for(var c=0;c<4;c++)n[c].transform(e);r["a"].sub(i[0],n[1],n[0]),r["a"].sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(c=0;c<2;c++)this._origin[c]=i[c].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,i=!e;return a.set(1/0,1/0),s.set(0,0),!this._intersectCheckOneSide(this,t,a,s,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,a,s,i,-1)&&(n=!1,i)||i||r["a"].copy(e,n?a:s),n},t.prototype._intersectCheckOneSide=function(t,e,n,a,s,u){for(var c=!0,l=0;l<2;l++){var h=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,i),this._getProjMinMaxOnAxis(l,e._corners,o),i[1]<o[0]||i[0]>o[1]){if(c=!1,s)return c;var f=Math.abs(o[0]-i[1]),d=Math.abs(i[0]-o[1]);Math.min(f,d)>a.len()&&(f<d?r["a"].scale(a,h,-f*u):r["a"].scale(a,h,d*u))}else if(n){f=Math.abs(o[0]-i[1]),d=Math.abs(i[0]-o[1]);Math.min(f,d)<n.len()&&(f<d?r["a"].scale(n,h,f*u):r["a"].scale(n,h,-d*u))}}return c},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],i=this._origin,o=e[0].dot(r)+i[t],a=o,s=o,u=1;u<e.length;u++){var c=e[u].dot(r)+i[t];a=Math.min(c,a),s=Math.max(c,s)}n[0]=a,n[1]=s},t}();e["a"]=u},ca84:function(t,e,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,a=n("d012");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},caad:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2"),a=n("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cb11:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=n("9cf9"),a={},s=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),u=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){var n,r,i,s;if(this.subPixelOptimize){var u=Object(o["b"])(a,e,this.style);n=u.x1,r=u.y1,i=u.x2,s=u.y2}else n=e.x1,r=e.y1,i=e.x2,s=e.y2;var c=e.percent;0!==c&&(t.moveTo(n,r),c<1&&(i=n*(1-c)+i*c,s=r*(1-c)+s*c),t.lineTo(i,s))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(i["b"]);u.prototype.type="line",e["a"]=u},cbe5:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var r=n("21a10"),i=n("19eb"),o=n("20c8"),a=n("9680"),s=n("4a3f");function u(t,e,n,r,i,o,a,u,c,l,h){if(0===c)return!1;var f=c;if(h>e+f&&h>r+f&&h>o+f&&h>u+f||h<e-f&&h<r-f&&h<o-f&&h<u-f||l>t+f&&l>n+f&&l>i+f&&l>a+f||l<t-f&&l<n-f&&l<i-f&&l<a-f)return!1;var d=s["e"](t,e,n,r,i,o,a,u,l,h,null);return d<=f/2}var c=n("68ab"),l=n("857d"),h=2*Math.PI;function f(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var c=a;s-=t,u-=e;var f=Math.sqrt(s*s+u*u);if(f-c>n||f+c<n)return!1;if(Math.abs(r-i)%h<1e-4)return!0;if(o){var d=r;r=Object(l["a"])(i),i=Object(l["a"])(d)}else r=Object(l["a"])(r),i=Object(l["a"])(i);r>i&&(i+=h);var p=Math.atan2(u,s);return p<0&&(p+=h),p>=r&&p<=i||p+h>=r&&p+h<=i}var d=n("8728"),p=o["a"].CMD,m=2*Math.PI,g=1e-4;function v(t,e){return Math.abs(t-e)<g}var y=[-1,-1,-1],_=[-1,-1];function b(){var t=_[0];_[0]=_[1],_[1]=t}function x(t,e,n,r,i,o,a,u,c,l){if(l>e&&l>r&&l>o&&l>u||l<e&&l<r&&l<o&&l<u)return 0;var h=s["f"](e,r,o,u,l,y);if(0===h)return 0;for(var f=0,d=-1,p=void 0,m=void 0,g=0;g<h;g++){var v=y[g],x=0===v||1===v?.5:1,w=s["a"](t,n,i,a,v);w<c||(d<0&&(d=s["c"](e,r,o,u,_),_[1]<_[0]&&d>1&&b(),p=s["a"](e,r,o,u,_[0]),d>1&&(m=s["a"](e,r,o,u,_[1]))),2===d?v<_[0]?f+=p<e?x:-x:v<_[1]?f+=m<p?x:-x:f+=u<m?x:-x:v<_[0]?f+=p<e?x:-x:f+=u<p?x:-x)}return f}function w(t,e,n,r,i,o,a,u){if(u>e&&u>r&&u>o||u<e&&u<r&&u<o)return 0;var c=s["m"](e,r,o,u,y);if(0===c)return 0;var l=s["j"](e,r,o);if(l>=0&&l<=1){for(var h=0,f=s["h"](e,r,o,l),d=0;d<c;d++){var p=0===y[d]||1===y[d]?.5:1,m=s["h"](t,n,i,y[d]);m<a||(y[d]<l?h+=f<e?p:-p:h+=o<f?p:-p)}return h}p=0===y[0]||1===y[0]?.5:1,m=s["h"](t,n,i,y[0]);return m<a?0:o<e?p:-p}function T(t,e,n,r,i,o,a,s){if(s-=e,s>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);y[0]=-u,y[1]=u;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=m-1e-4){r=0,i=m;var l=o?1:-1;return a>=y[0]+t&&a<=y[1]+t?l:0}if(r>i){var h=r;r=i,i=h}r<0&&(r+=m,i+=m);for(var f=0,d=0;d<2;d++){var p=y[d];if(p+t>a){var g=Math.atan2(s,p);l=o?1:-1;g<0&&(g=m+g),(g>=r&&g<=i||g+m>=r&&g+m<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(l=-l),f+=l)}}return f}function S(t,e,n,r,i){for(var o,s,l=t.data,h=t.len(),m=0,g=0,y=0,_=0,b=0,S=0;S<h;){var O=l[S++],M=1===S;switch(O===p.M&&S>1&&(n||(m+=Object(d["a"])(g,y,_,b,r,i))),M&&(g=l[S],y=l[S+1],_=g,b=y),O){case p.M:_=l[S++],b=l[S++],g=_,y=b;break;case p.L:if(n){if(a["a"](g,y,l[S],l[S+1],e,r,i))return!0}else m+=Object(d["a"])(g,y,l[S],l[S+1],r,i)||0;g=l[S++],y=l[S++];break;case p.C:if(n){if(u(g,y,l[S++],l[S++],l[S++],l[S++],l[S],l[S+1],e,r,i))return!0}else m+=x(g,y,l[S++],l[S++],l[S++],l[S++],l[S],l[S+1],r,i)||0;g=l[S++],y=l[S++];break;case p.Q:if(n){if(c["a"](g,y,l[S++],l[S++],l[S],l[S+1],e,r,i))return!0}else m+=w(g,y,l[S++],l[S++],l[S],l[S+1],r,i)||0;g=l[S++],y=l[S++];break;case p.A:var E=l[S++],A=l[S++],C=l[S++],D=l[S++],L=l[S++],I=l[S++];S+=1;var P=!!(1-l[S++]);o=Math.cos(L)*C+E,s=Math.sin(L)*D+A,M?(_=o,b=s):m+=Object(d["a"])(g,y,o,s,r,i);var R=(r-E)*D/C+E;if(n){if(f(E,A,D,L,L+I,P,e,R,i))return!0}else m+=T(E,A,D,L,L+I,P,R,i);g=Math.cos(L+I)*C+E,y=Math.sin(L+I)*D+A;break;case p.R:_=g=l[S++],b=y=l[S++];var N=l[S++],k=l[S++];if(o=_+N,s=b+k,n){if(a["a"](_,b,o,b,e,r,i)||a["a"](o,b,o,s,e,r,i)||a["a"](o,s,_,s,e,r,i)||a["a"](_,s,_,b,e,r,i))return!0}else m+=Object(d["a"])(o,b,o,s,r,i),m+=Object(d["a"])(_,s,_,b,r,i);break;case p.Z:if(n){if(a["a"](g,y,_,b,e,r,i))return!0}else m+=Object(d["a"])(g,y,_,b,r,i);g=_,y=b;break}}return n||v(y,b)||(m+=Object(d["a"])(g,y,_,b,r,i)||0),0!==m}function O(t,e,n){return S(t,0,!1,e,n)}function M(t,e,n,r){return S(t,e,!0,n,r)}var E=n("6d8b"),A=n("41ef"),C=n("2cf4"),D=n("4bc4"),L=Object(E["j"])({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},i["b"]),I={style:Object(E["j"])({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},i["a"].style)},P=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],R=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(t){n.buildPath(t,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<P.length;++s)i[P[s]]=this[P[s]];i.__dirty|=D["a"]}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=Object(E["F"])(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var o=n[i],a=e[o];"style"===o?this.style?Object(E["m"])(this.style,a):this.useStyle(a):"shape"===o?Object(E["m"])(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Object(E["C"])(t)){var e=Object(A["lum"])(t,0);return e>.5?C["a"]:e>.2?C["c"]:C["d"]}if(t)return C["d"]}return C["a"]},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Object(E["C"])(e)){var n=this.__zr,r=!(!n||!n.isDarkMode()),i=Object(A["lum"])(t,0)<C["b"];if(r===i)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~D["b"]},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new o["a"](!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var i=this.path;(r||this.__dirty&D["b"])&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;s=Math.max(s,null==u?4:u)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),M(o,a/s,t,e)))return!0}if(this.hasFill())return O(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=D["b"],this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"===typeof t?n[t]=e:Object(E["m"])(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&D["b"])},e.prototype.createStyle=function(t){return Object(E["h"])(L,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Object(E["m"])({},this.shape))},e.prototype._applyStateObj=function(e,n,r,i,o,a){t.prototype._applyStateObj.call(this,e,n,r,i,o,a);var s,u=!(n&&i);if(n&&n.shape?o?i?s=n.shape:(s=Object(E["m"])({},r.shape),Object(E["m"])(s,n.shape)):(s=Object(E["m"])({},i?this.shape:r.shape),Object(E["m"])(s,n.shape)):u&&(s=r.shape),s)if(o){this.shape=Object(E["m"])({},this.shape);for(var c={},l=Object(E["F"])(s),h=0;h<l.length;h++){var f=l[h];"object"===typeof s[f]?this.shape[f]=s[f]:c[f]=s[f]}this._transitionState(e,{shape:c},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(r.shape=n),r},e.prototype.getAnimationStyleProps=function(){return I},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var r=e.call(this,n)||this;return t.init&&t.init.call(r,n),r}return Object(r["a"])(n,e),n.prototype.getDefaultStyle=function(){return Object(E["d"])(t.style)},n.prototype.getDefaultShape=function(){return Object(E["d"])(t.shape)},n}(e);for(var i in t)"function"===typeof t[i]&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=D["a"]|D["c"]|D["b"]}(),e}(i["c"]);e["b"]=R},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},cc15:function(t,e,n){var r=n("b367")("wks"),i=n("8b1a"),o=n("ef08").Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},cca6:function(t,e,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cccd:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("e0d3");function i(){var t=Object(r["o"])();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===a&&o===s)&&"reset"}}},cd70:function(t,e,n){"use strict";var r=n("6d8b"),i=function(){function t(t){this.otherDims={},null!=t&&r["m"](this,t)}return t}();e["a"]=i},cdf9:function(t,e,n){var r=n("825a"),i=n("861d"),o=n("f069");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},ce4e:function(t,e,n){var r=n("da84"),i=n("9112");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},ce7a:function(t,e,n){var r=n("9c0e"),i=n("0983"),o=n("5a94")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},cee4:function(t,e,n){"use strict";var r=n("c532"),i=n("1d2b"),o=n("0a06"),a=n("2444");function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n("7a77"),u.CancelToken=n("8df4"),u.isCancel=n("2e67"),u.all=function(t){return Promise.all(t)},u.spread=n("0df6"),t.exports=u,t.exports.default=u},cf7e:function(t,e,n){"use strict";var r=n("6d8b"),i=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return r["H"](this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),r["n"](this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}();e["a"]=i},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("428f"),i=n("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},d0ce:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("6d8b"),o=n("b7d9"),a=n("ec6f"),s="undefined",u=typeof Uint32Array===s?Array:Uint32Array,c=typeof Uint16Array===s?Array:Uint16Array,l=typeof Int32Array===s?Array:Int32Array,h=typeof Float64Array===s?Array:Float64Array,f={float:h,int:l,ordinal:Array,number:Array,time:h};function d(t){return t>65535?u:c}function p(){return[1/0,-1/0]}function m(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function g(t,e,n,r,i){var o=f[n||"float"];if(i){var a=t[e],s=a&&a.length;if(s!==r){for(var u=new o(r),c=0;c<s;c++)u[c]=a[c];t[e]=u}}else t[e]=new o(r)}var v=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(i["g"])()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=t.getSource(),s=this.defaultDimValueGetter=r[o.sourceFormat];this._dimValueGetter=n||s,this._rawExtent=[];Object(a["f"])(o);this._dimensions=Object(i["H"])(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(t);if(null!=i){if(r[i].type===e)return i}else i=r.length;return r[i]={type:e},n.set(t,i),this._chunks[i]=new f[e||"float"](this._rawCount),this._rawExtent[i]=p(),i},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],i=this._rawExtent,o=r.ordinalOffset||0,a=n.length;0===o&&(i[t]=p());for(var s=i[t],u=o;u<a;u++){var c=n[u]=e.parseAndCollect(n[u]);s[0]=Math.min(c,s[0]),s[1]=Math.max(c,s[1])}r.ordinalMeta=e,r.ordinalOffset=a,r.type="ordinal"},t.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,s=this.count(),u=s+Math.max(t.length,e||0),c=0;c<o;c++){var l=i[c];g(n,c,l.type,u,!0)}for(var h=[],f=s;f<u;f++)for(var d=f-s,p=0;p<o;p++){l=i[p];var m=r.arrayRows.call(this,t[d]||h,l.property,d,p);n[p][f]=m;var v=a[p];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,u=this._rawExtent,c=Object(i["H"])(a,(function(t){return t.property})),l=0;l<s;l++){var h=a[l];u[l]||(u[l]=p()),g(o,l,h.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,o,u);else for(var f=[],d=t;d<e;d++){f=r.getItem(d,f);for(var m=0;m<s;m++){var v=o[m],y=this._dimValueGetter(f,c[m],d,m);v[d]=y;var _=u[m];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],r=[];if(null==e){e=t,t=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=t;i=0;for(var o=r.length;i<o;i++)n.push(this.get(r[i],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var r=0,i=this.count();r<i;r++){var o=this.get(t,r);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;var r=0,i=this._count-1;while(r<=i){var o=(r+i)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks,i=r[t],o=[];if(!i)return o;null==n&&(n=1/0);for(var a=1/0,s=-1,u=0,c=0,l=this.count();c<l;c++){var h=this.getRawIndex(c),f=e-i[h],d=Math.abs(f);d<=n&&((d<a||d===a&&f>=0&&s<0)&&(a=d,s=f,u=0),f===s&&(o[u++]=c))}return o.length=u,o},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var i=0;i<r;i++)t[i]=e[i]}else t=new n(e.buffer,0,r)}else{n=d(this._rawCount);t=new n(this.count());for(i=0;i<t.length;i++)t[i]=i}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=d(n._rawCount),o=new i(r),a=[],s=t.length,u=0,c=t[0],l=n._chunks,h=0;h<r;h++){var f=void 0,p=n.getRawIndex(h);if(0===s)f=e(h);else if(1===s){var m=l[c][p];f=e(m,h)}else{for(var g=0;g<s;g++)a[g]=l[t[g]][p];a[g]=h,f=e.apply(null,a)}f&&(o[u++]=p)}return u<r&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=Object(i["F"])(t),o=r.length;if(!o)return this;var a=e.count(),s=d(e._rawCount),u=new s(a),c=0,l=r[0],h=t[l][0],f=t[l][1],p=e._chunks,m=!1;if(!e._indices){var g=0;if(1===o){for(var v=p[r[0]],y=0;y<n;y++){var _=v[y];(_>=h&&_<=f||isNaN(_))&&(u[c++]=g),g++}m=!0}else if(2===o){v=p[r[0]];var b=p[r[1]],x=t[r[1]][0],w=t[r[1]][1];for(y=0;y<n;y++){_=v[y];var T=b[y];(_>=h&&_<=f||isNaN(_))&&(T>=x&&T<=w||isNaN(T))&&(u[c++]=g),g++}m=!0}}if(!m)if(1===o)for(y=0;y<a;y++){var S=e.getRawIndex(y);_=p[r[0]][S];(_>=h&&_<=f||isNaN(_))&&(u[c++]=S)}else for(y=0;y<a;y++){for(var O=!0,M=(S=e.getRawIndex(y),0);M<o;M++){var E=r[M];_=p[E][S];(_<t[E][0]||_>t[E][1])&&(O=!1)}O&&(u[c++]=e.getRawIndex(y))}return c<a&&(e._indices=u),e._count=c,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var r=t._chunks,i=[],o=e.length,a=t.count(),s=[],u=t._rawExtent,c=0;c<e.length;c++)u[e[c]]=p();for(var l=0;l<a;l++){for(var h=t.getRawIndex(l),f=0;f<o;f++)s[f]=r[e[f]][h];s[o]=l;var d=n&&n.apply(null,s);if(null!=d){"object"!==typeof d&&(i[0]=d,d=i);for(c=0;c<d.length;c++){var m=e[c],g=d[c],v=u[m],y=r[m];y&&(y[h]=g),g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,r,i,o=this.clone([t],!0),a=o._chunks,s=a[t],u=this.count(),c=0,l=Math.floor(1/e),h=this.getRawIndex(0),f=new(d(this._rawCount))(Math.ceil(u/l)+2);f[c++]=h;for(var p=1;p<u-1;p+=l){for(var m=Math.min(p+l,u-1),g=Math.min(p+2*l,u),v=(g+m)/2,y=0,_=m;_<g;_++){var b=this.getRawIndex(_),x=s[b];isNaN(x)||(y+=x)}y/=g-m;var w=p,T=Math.min(p+l,u),S=p-1,O=s[h];n=-1,i=w;for(_=w;_<T;_++){b=this.getRawIndex(_),x=s[b];isNaN(x)||(r=Math.abs((S-v)*(x-O)-(S-_)*(y-O)),r>n&&(n=r,i=b))}f[c++]=i,h=i}return f[c++]=this.getRawIndex(u-1),o._count=c,o._indices=f,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,r){for(var i=this.clone([t],!0),o=i._chunks,a=[],s=Math.floor(1/e),u=o[t],c=this.count(),l=i._rawExtent[t]=p(),h=new(d(this._rawCount))(Math.ceil(c/s)),f=0,m=0;m<c;m+=s){s>c-m&&(s=c-m,a.length=s);for(var g=0;g<s;g++){var v=this.getRawIndex(m+g);a[g]=u[v]}var y=n(a),_=this.getRawIndex(Math.min(m+r(a,y)||0,c-1));u[_]=y,y<l[0]&&(l[0]=y),y>l[1]&&(l[1]=y),h[f++]=_}return i._count=f,i._indices=h,i._updateGetRawIdx(),i},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,i=0,o=this.count();i<o;i++){var a=this.getRawIndex(i);switch(n){case 0:e(i);break;case 1:e(r[t[0]][a],i);break;case 2:e(r[t[0]][a],r[t[1]][a],i);break;default:for(var s=0,u=[];s<n;s++)u[s]=r[t[s]][a];u[s]=i,e.apply(null,u)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=p();if(!e)return n;var r,i=this.count(),o=!this._indices;if(o)return this._rawExtent[t].slice();if(r=this._extent[t],r)return r.slice();r=n;for(var a=r[0],s=r[1],u=0;u<i;u++){var c=this.getRawIndex(u),l=e[c];l<a&&(a=l),l>s&&(s=l)}return r=[a,s],this._extent[t]=r,r},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][e]);return n},t.prototype.clone=function(e,n){var r=new t,o=this._chunks,a=e&&Object(i["N"])(e,(function(t,e){return t[e]=!0,t}),{});if(a)for(var s=0;s<o.length;s++)r._chunks[s]=a[s]?m(o[s]):o[s];else r._chunks=o;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Object(i["d"])(this._extent),t._rawExtent=Object(i["d"])(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,r){return Object(o["d"])(t[r],this._dimensions[r])}r={arrayRows:t,objectRows:function(t,e,n,r){return Object(o["d"])(t[e],this._dimensions[r])},keyedColumns:t,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return Object(o["d"])(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(t,e,n,r){return t[r]}}}(),t}();e["b"]=v},d16a:function(t,e,n){var r=n("fc5e"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d28b:function(t,e,n){var r=n("746f");r("iterator")},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(t,e,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d409:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return m}));var r=n("5e76"),i=n("6d8b"),o=n("e86a"),a=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function s(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=u(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=c(o[a],i);return o.join("\n")}function u(t,e,n,r){r=r||{};var a=Object(i["m"])({},r);a.font=e,n=Object(i["P"])(n,"..."),a.maxIterations=Object(i["P"])(r.maxIterations,2);var s=a.minChar=Object(i["P"])(r.minChar,0);a.cnCharWidth=Object(o["g"])("国",e);var u=a.ascCharWidth=Object(o["g"])("a",e);a.placeholder=Object(i["P"])(r.placeholder,"");for(var c=t=Math.max(0,t-1),l=0;l<s&&c>=u;l++)c-=u;var h=Object(o["g"])(n,e);return h>c&&(n="",h=0),c=t-h,a.ellipsis=n,a.ellipsisWidth=h,a.contentWidth=c,a.containerWidth=t,a}function c(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=Object(o["g"])(t,r);if(a<=n)return t;for(var s=0;;s++){if(a<=i||s>=e.maxIterations){t+=e.ellipsis;break}var u=0===s?l(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,u),a=Object(o["g"])(t,r)}return""===t&&(t=e.placeholder),t}function l(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function h(t,e){null!=t&&(t+="");var n,r=e.overflow,a=e.padding,s=e.font,l="truncate"===r,h=Object(o["f"])(s),f=Object(i["P"])(e.lineHeight,h),d="truncate"===e.lineOverflow,p=e.width;n=null!=p&&"break"===r||"breakAll"===r?t?b(t,e.font,p,"breakAll"===r,0).lines:[]:t?t.split("\n"):[];var m=n.length*f,g=Object(i["P"])(e.height,m);if(m>g&&d){var v=Math.floor(g/f);n=n.slice(0,v)}var y=g,_=p;if(a&&(y+=a[0]+a[2],null!=_&&(_+=a[1]+a[3])),t&&l&&null!=_)for(var x=u(p,s,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),w=0;w<n.length;w++)n[w]=c(n[w],x);if(null==p){var T=0;for(w=0;w<n.length;w++)T=Math.max(Object(o["g"])(n[w],s),T);p=T}return{lines:n,height:g,outerHeight:y,lineHeight:f,calculatedLineHeight:h,contentHeight:m,width:p}}var f=function(){function t(){}return t}(),d=function(){function t(t){this.tokens=[],t&&(this.tokens=t)}return t}(),p=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function m(t,e){var n=new p;if(null!=t&&(t+=""),!t)return n;var u,c=e.width,l=e.height,h=e.overflow,f="break"!==h&&"breakAll"!==h||null==c?null:{width:c,accumWidth:0,breakAll:"breakAll"===h},d=a.lastIndex=0;while(null!=(u=a.exec(t))){var m=u.index;m>d&&g(n,t.substring(d,m),e,f),g(n,u[2],e,f,u[1]),d=a.lastIndex}d<t.length&&g(n,t.substring(d,t.length),e,f);var v=[],y=0,_=0,b=e.padding,x="truncate"===h,w="truncate"===e.lineOverflow;function T(t,e,n){t.width=e,t.lineHeight=n,y+=n,_=Math.max(_,e)}t:for(var S=0;S<n.lines.length;S++){for(var O=n.lines[S],M=0,E=0,A=0;A<O.tokens.length;A++){var C=O.tokens[A],D=C.styleName&&e.rich[C.styleName]||{},L=C.textPadding=D.padding,I=L?L[1]+L[3]:0,P=C.font=D.font||e.font;C.contentHeight=Object(o["f"])(P);var R=Object(i["P"])(D.height,C.contentHeight);if(C.innerHeight=R,L&&(R+=L[0]+L[2]),C.height=R,C.lineHeight=Object(i["Q"])(D.lineHeight,e.lineHeight,R),C.align=D&&D.align||e.align,C.verticalAlign=D&&D.verticalAlign||"middle",w&&null!=l&&y+C.lineHeight>l){A>0?(O.tokens=O.tokens.slice(0,A),T(O,E,M),n.lines=n.lines.slice(0,S+1)):n.lines=n.lines.slice(0,S);break t}var N=D.width,k=null==N||"auto"===N;if("string"===typeof N&&"%"===N.charAt(N.length-1))C.percentWidth=N,v.push(C),C.contentWidth=Object(o["g"])(C.text,P);else{if(k){var j=D.backgroundColor,F=j&&j.image;F&&(F=r["b"](F),r["c"](F)&&(C.width=Math.max(C.width,F.width*R/F.height)))}var B=x&&null!=c?c-E:null;null!=B&&B<C.width?!k||B<I?(C.text="",C.width=C.contentWidth=0):(C.text=s(C.text,B-I,P,e.ellipsis,{minChar:e.truncateMinChar}),C.width=C.contentWidth=Object(o["g"])(C.text,P)):C.contentWidth=Object(o["g"])(C.text,P)}C.width+=I,E+=C.width,D&&(M=Math.max(M,C.lineHeight))}T(O,E,M)}n.outerWidth=n.width=Object(i["P"])(c,_),n.outerHeight=n.height=Object(i["P"])(l,y),n.contentHeight=y,n.contentWidth=_,b&&(n.outerWidth+=b[1]+b[3],n.outerHeight+=b[0]+b[2]);for(S=0;S<v.length;S++){C=v[S];var z=C.percentWidth;C.width=parseInt(z,10)/100*n.width}return n}function g(t,e,n,r,i){var a,s,u=""===e,c=i&&n.rich[i]||{},l=t.lines,h=c.font||n.font,p=!1;if(r){var m=c.padding,g=m?m[1]+m[3]:0;if(null!=c.width&&"auto"!==c.width){var v=Object(o["h"])(c.width,r.width)+g;l.length>0&&v+r.accumWidth>r.width&&(a=e.split("\n"),p=!0),r.accumWidth=v}else{var y=b(e,h,r.width,r.breakAll,r.accumWidth);r.accumWidth=y.accumWidth+g,s=y.linesWidths,a=y.lines}}else a=e.split("\n");for(var _=0;_<a.length;_++){var x=a[_],w=new f;if(w.styleName=i,w.text=x,w.isLineHolder=!x&&!u,"number"===typeof c.width?w.width=c.width:w.width=s?s[_]:Object(o["g"])(x,h),_||p)l.push(new d([w]));else{var T=(l[l.length-1]||(l[0]=new d)).tokens,S=T.length;1===S&&T[0].isLineHolder?T[0]=w:(x||!S||u)&&T.push(w)}}}function v(t){var e=t.charCodeAt(0);return e>=33&&e<=255}var y=Object(i["N"])(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function _(t){return!v(t)||!!y[t]}function b(t,e,n,r,i){for(var a=[],s=[],u="",c="",l=0,h=0,f=0;f<t.length;f++){var d=t.charAt(f);if("\n"!==d){var p=Object(o["g"])(d,e),m=!r&&!_(d);(a.length?h+p>n:i+h+p>n)?h?(u||c)&&(m?(u||(u=c,c="",l=0,h=l),a.push(u),s.push(h-l),c+=d,l+=p,u="",h=l):(c&&(u+=c,h+=l,c="",l=0),a.push(u),s.push(h),u=d,h=p)):m?(a.push(c),s.push(l),c=d,l=p):(a.push(d),s.push(p)):(h+=p,m?(c+=d,l+=p):(c&&(u+=c,c="",l=0),u+=d))}else c&&(u+=c,h+=l),a.push(u),s.push(h),u="",c="",l=0,h=0}return a.length||u||(u=t,c="",l=0),c&&(u+=c),u&&(a.push(u),s.push(h)),1===a.length&&(h+=i),{accumWidth:h,lines:a,linesWidths:s}}},d44e:function(t,e,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),a=o("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},d498:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=n("4fac"),a=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),s=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){o["a"](t,e,!1)},e}(i["b"]);s.prototype.type="polyline",e["a"]=s},d4af:function(t,e,n){"use strict";var r=n("8eb7"),i=n("7b3e"),o=10,a=40,s=800;function u(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*o,i=n*o,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(1==t.deltaMode?(r*=a,i*=a):(r*=s,i*=s)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}u.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},t.exports=u},d4c6:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return Object(r["a"])(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),i["b"].prototype.getBoundingRect.call(this)},e}(i["b"]);e["a"]=o},d51b:function(t,e,n){"use strict";var r=function(){function t(t){this.value=t}return t}(),i=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new r(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),o=function(){function t(t){this._list=new i,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,i=this._map,o=null;if(null==i[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var u=n.head;n.remove(u),delete i[u.key],o=u.value,this._lastRemovedEntry=u}s?s.value=e:s=new r(e),s.key=t,n.insertEntry(s),i[t]=s}return o},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();e["a"]=o},d58f:function(t,e,n){var r=n("1c0b"),i=n("7b0b"),o=n("44ad"),a=n("50c4"),s=function(t){return function(e,n,s,u){r(n);var c=i(e),l=o(c),h=a(c.length),f=t?h-1:0,d=t?-1:1;if(s<2)while(1){if(f in l){u=l[f],f+=d;break}if(f+=d,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=d)f in l&&(u=n(u,l[f],f,c));return u}};t.exports={left:s(!1),right:s(!0)}},d5b7:function(t,e,n){"use strict";var r=n("8582"),i=n("06ad"),o=n("9850"),a=n("6fd3"),s=n("e86a"),u=n("6d8b"),c=n("2cf4"),l=n("41ef"),h=n("22d1"),f=n("4bc4"),d="__zr_normal__",p=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],m={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},g={},v=new o["a"](0,0,0,0),y=function(){function t(t){this.id=Object(u["p"])(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=e.innerTransformable,o=void 0,a=void 0,u=!1;i.parent=r?this:null;var c=!1;if(i.copyTransform(e),null!=n.position){var l=v;n.layoutRect?l.copy(n.layoutRect):l.copy(this.getBoundingRect()),r||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(g,n,l):Object(s["d"])(g,n,l),i.x=g.x,i.y=g.y,o=g.align,a=g.verticalAlign;var h=n.origin;if(h&&null!=n.rotation){var d=void 0,p=void 0;"center"===h?(d=.5*l.width,p=.5*l.height):(d=Object(s["h"])(h[0],l.width),p=Object(s["h"])(h[1],l.height)),c=!0,i.originX=-i.x+d+(r?0:l.x),i.originY=-i.y+p+(r?0:l.y)}}null!=n.rotation&&(i.rotation=n.rotation);var m=n.offset;m&&(i.x+=m[0],i.y+=m[1],c||(i.originX=-m[0],i.originY=-m[1]));var y=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,_=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,x=void 0,w=void 0;y&&this.canBeInsideText()?(b=n.insideFill,x=n.insideStroke,null!=b&&"auto"!==b||(b=this.getInsideTextFill()),null!=x&&"auto"!==x||(x=this.getInsideTextStroke(b),w=!0)):(b=n.outsideFill,x=n.outsideStroke,null!=b&&"auto"!==b||(b=this.getOutsideFill()),null!=x&&"auto"!==x||(x=this.getOutsideStroke(b),w=!0)),b=b||"#000",b===_.fill&&x===_.stroke&&w===_.autoStroke&&o===_.align&&a===_.verticalAlign||(u=!0,_.fill=b,_.stroke=x,_.autoStroke=w,_.align=o,_.verticalAlign=a,e.setDefaultTextStyle(_)),e.__dirty|=f["a"],u&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?c["d"]:c["a"]},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof e&&Object(l["parse"])(e);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(i?0:255)*(1-r);return n[3]=1,Object(l["stringify"])(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Object(u["m"])(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(Object(u["A"])(t))for(var n=t,r=Object(u["F"])(n),i=0;i<r.length;i++){var o=r[i];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!i||i===d){var o=r.targetName,a=o?e[o]:e;r.saveFinalToTarget(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,p)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null==t[i]||i in e||(e[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(d,!1,t)},t.prototype.useState=function(t,e,n,r){var i=t===d,o=this.hasState();if(o||!i){var a=this.currentStates,s=this.stateTransition;if(!(Object(u["r"])(a,t)>=0)||!e&&1!==a.length){var c;if(this.stateProxy&&!i&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),c||i){i||this.saveCurrentToNormalState(c);var l=!!(c&&c.hoverLayer||r);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,e,!n&&!this.__inHover&&s&&s.duration>0,s);var h=this._textContent,p=this._textGuide;return h&&h.useState(t,e,n,l),p&&p.useState(t,e,n,l),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~f["a"]),c}Object(u["G"])("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var r=[],i=this.currentStates,o=t.length,a=o===i.length;if(a)for(var s=0;s<o;s++)if(t[s]!==i[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var u=t[s],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&r.push(c)}var l=r[o-1],h=!!(l&&l.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,g=this._textGuide;m&&m.useStates(t,e,h),g&&g.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~f["a"])}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=Object(u["r"])(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),i=Object(u["r"])(r,t),o=Object(u["r"])(r,e)>=0;i>=0?o?r.splice(i,1):r[i]=e:n&&!o&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var i=t[r];Object(u["m"])(n,i),i.textConfig&&(e=e||{},Object(u["m"])(e,i.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,r,i,o){var a=!(e&&r);e&&e.textConfig?(this.textConfig=Object(u["m"])({},r?this.textConfig:n.textConfig),Object(u["m"])(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},c=!1,l=0;l<p.length;l++){var h=p[l],f=i&&m[h];e&&null!=e[h]?f?(c=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(f?(c=!0,s[h]=n[h]):this[h]=n[h])}if(!i)for(l=0;l<this.animators.length;l++){var d=this.animators[l],g=d.targetName;d.__changeFinalValue(g?(e||n)[g]:e||n)}c&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new r["a"],this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Object(u["m"])(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=f["a"];var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e){var n=t?this[t]:this;if(n){var r=new i["b"](n,e);return this.addAnimator(r,t),r}Object(u["G"])('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during((function(){r.updateDuringAnimation(e)})).done((function(){var e=r.animators,n=Object(u["r"])(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,i=[],o=0;o<r;o++){var a=n[o];t&&t!==a.scope?i.push(a):a.stop(e)}return this.animators=i,this},t.prototype.animateTo=function(t,e,n){_(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){_(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,r){for(var i=_(this,e,n,r),o=0;o<i.length;o++)i[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=f["a"];var n={};function r(t,e,r){n[t+e+r]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+r+"' instead"),n[t+e+r]=!0)}function i(t,n,i,o){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){if(r(t,i,o),!this[n]){var e=this[n]=[];a(this,e)}return this[n]},set:function(e){r(t,i,o),this[i]=e[0],this[o]=e[1],this[n]=e,a(this,e)}})}Object.defineProperty&&(!h["a"].browser.ie||h["a"].browser.version>8)&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),t}();function _(t,e,n,r,i){n=n||{};var o=[];T(t,"",t,e,n,r,o,i);var a=o.length,s=!1,u=n.done,c=n.aborted,l=function(){s=!0,a--,a<=0&&(s?u&&u():c&&c())},h=function(){a--,a<=0&&(s?u&&u():c&&c())};a||u&&u(),o.length>0&&n.during&&o[0].during((function(t,e){n.during(e)}));for(var f=0;f<o.length;f++){var d=o[f];l&&d.done(l),h&&d.aborted(h),d.start(n.easing,n.force)}return o}function b(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function x(t){return Object(u["u"])(t[0])}function w(t,e,n){if(Object(u["u"])(e[n]))if(Object(u["u"])(t[n])||(t[n]=[]),Object(u["E"])(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),b(t[n],e[n],r))}else{var i=e[n],o=t[n],a=i.length;if(x(i))for(var s=i[0].length,c=0;c<a;c++)o[c]?b(o[c],i[c],s):o[c]=Array.prototype.slice.call(i[c]);else b(o,i,a);o.length=i.length}else t[n]=e[n]}function T(t,e,n,r,o,a,s,c){for(var l=[],h=[],f=Object(u["F"])(r),d=o.duration,p=o.delay,m=o.additive,g=o.setToFinal,v=!Object(u["A"])(a),y=0;y<f.length;y++){var _=f[y];if(null!=n[_]&&null!=r[_]&&(v||a[_]))if(Object(u["A"])(r[_])&&!Object(u["u"])(r[_])){if(e){c||(n[_]=r[_],t.updateDuringAnimation(e));continue}T(t,_,n[_],r[_],o,a&&a[_],s,c)}else l.push(_),h.push(_);else c||(n[_]=r[_],t.updateDuringAnimation(e),h.push(_))}var b=l.length;if(b>0||o.force&&!s.length){for(var x=t.animators,S=[],O=0;O<x.length;O++)x[O].targetName===e&&S.push(x[O]);if(!m&&S.length)for(O=0;O<S.length;O++){var M=S[O].stopTracks(h);if(M){var E=Object(u["r"])(x,S[O]);x.splice(E,1)}}var A=void 0,C=void 0,D=void 0;if(c){C={},g&&(A={});for(O=0;O<b;O++){_=l[O];C[_]=n[_],g?A[_]=r[_]:n[_]=r[_]}}else if(g){D={};for(O=0;O<b;O++){_=l[O];D[_]=Object(i["a"])(n[_]),w(n,r,_)}}var L=new i["b"](n,!1,m?S:null);L.targetName=e,o.scope&&(L.scope=o.scope),g&&A&&L.whenWithKeys(0,A,l),D&&L.whenWithKeys(0,D,l),L.whenWithKeys(null==d?500:d,c?C:r,l).delay(p||0),t.addAnimator(L,e),s.push(L)}}Object(u["K"])(y,a["a"]),Object(u["K"])(y,r["a"]),e["a"]=y},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),a=n("9263"),s=n("9112"),u=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var p=o(t),m=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=m&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!m||!g||"replace"===t&&(!c||!l||f)||"split"===t&&!d){var v=/./[p],y=n(p,""[t],(function(t,e,n,r,i){return e.exec===a?m&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),_=y[0],b=y[1];r(String.prototype,t,_),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&s(RegExp.prototype[p],"sham",!0)}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),a=n("ae40"),s=o("map"),u=a("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d9fc:function(t,e,n){"use strict";var r=n("21a10"),i=n("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(i["b"]);a.prototype.type="circle",e["a"]=a},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),a=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),i=s.f,c=o(r),l={},h=0;while(c.length>h)n=i(r,e=c[h++]),void 0!==n&&u(l,e,n);return l}})},dce8:function(t,e,n){"use strict";var r=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},t.lerp=function(t,e,n,r){var i=1-r;t.x=i*e.x+r*n.x,t.y=i*e.y+r*n.y},t}();e["a"]=r},dd4f:function(t,e,n){"use strict";var r=n("21a10"),i=n("19eb"),o=n("e86a"),a=n("cbe5"),s=n("6d8b"),u=Object(s["j"])({strokeFirst:!0,font:o["a"],x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},a["a"]),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.createStyle=function(t){return Object(s["h"])(u,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=Object(o["e"])(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(i["c"]);c.prototype.type="tspan",e["a"]=c},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),a=n("9112"),s=n("b622"),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(m){d[u]=l}if(d[c]||a(d,c,h),i[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(m){d[p]=o[p]}}}},dded:function(t,e,n){"use strict";var r=n("21a10"),i=n("42e5"),o=function(t){function e(e,n,r,i,o){var a=t.call(this,i)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=o||!1,a}return Object(r["a"])(e,t),e}(i["a"]);e["a"]=o},deab:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return m}));var r=n("6d8b"),i=n("e0d3"),o=Object(i["o"])();function a(t,e,n,i,o){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var u=e&&e.isAnimationEnabled(),c="update"===t;if(u){var l=void 0,h=void 0,f=void 0;i?(l=Object(r["P"])(i.duration,200),h=Object(r["P"])(i.easing,"cubicOut"),f=0):(l=e.getShallow(c?"animationDurationUpdate":"animationDuration"),h=e.getShallow(c?"animationEasingUpdate":"animationEasing"),f=e.getShallow(c?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(l=a.duration),null!=a.easing&&(h=a.easing),null!=a.delay&&(f=a.delay)),"function"===typeof f&&(f=f(n,o)),"function"===typeof l&&(l=l(n));var d={duration:l||0,delay:f,easing:h};return d}return null}function s(t,e,n,i,o,s,u){var c,l=!1;"function"===typeof o?(u=s,s=o,o=null):Object(r["A"])(o)&&(s=o.cb,u=o.during,l=o.isFrom,c=o.removeOpt,o=o.dataIndex);var h="remove"===t;h||e.stopAnimation("remove");var f=a(t,i,o,h?c||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,o):null);if(f&&f.duration>0){var d=f.duration,p=f.delay,m=f.easing,g={duration:d,delay:p||0,easing:m,done:s,force:!!s||!!u,setToFinal:!h,scope:t,during:u};l?e.animateFrom(n,g):e.animateTo(n,g)}else e.stopAnimation(),!l&&e.attr(n),u&&u(1),s&&s()}function u(t,e,n,r,i,o){s("update",t,e,n,r,i,o)}function c(t,e,n,r,i,o){s("init",t,e,n,r,i,o)}function l(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if("remove"===n.scope)return!0}return!1}function h(t,e,n,r,i,o){l(t)||s("remove",t,e,n,r,i,o)}function f(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),h(t,{style:{opacity:0}},e,n,r)}function d(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||f(t,e,n,r)})):f(t,e,n,r)}function p(t){o(t).oldStyle=t.style}function m(t){return o(t).oldStyle}},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),a="/"===o(t,-1);return t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},dfe5:function(t,e){},e017:function(t,e,n){(function(e){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t=function(t){var e=t.id,n=t.viewBox,r=t.content;this.id=e,this.viewBox=n,this.content=r};t.prototype.stringify=function(){return this.content},t.prototype.toString=function(){return this.stringify()},t.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach((function(e){return delete t[e]}))};var n=function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n};"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}var i=r((function(t,e){(function(e,n){t.exports=n()})(0,(function(){function t(t){var e=t&&"object"===typeof t;return e&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(t){return Array.isArray(t)?[]:{}}function n(n,r){var i=r&&!0===r.clone;return i&&t(n)?o(e(n),n,r):n}function r(e,r,i){var a=e.slice();return r.forEach((function(r,s){"undefined"===typeof a[s]?a[s]=n(r,i):t(r)?a[s]=o(e[s],r,i):-1===e.indexOf(r)&&a.push(n(r,i))})),a}function i(e,r,i){var a={};return t(e)&&Object.keys(e).forEach((function(t){a[t]=n(e[t],i)})),Object.keys(r).forEach((function(s){t(r[s])&&e[s]?a[s]=o(e[s],r[s],i):a[s]=n(r[s],i)})),a}function o(t,e,o){var a=Array.isArray(e),s=o||{arrayMerge:r},u=s.arrayMerge||r;return a?Array.isArray(t)?u(t,e,o):n(e,o):i(t,e,o)}return o.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return o(t,n,e)}))},o}))})),o=r((function(t,e){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};e.default=n,t.exports=e.default})),a=function(t){return Object.keys(t).map((function(e){var n=t[e].toString().replace(/"/g,"&quot;");return e+'="'+n+'"'})).join(" ")},s=o.svg,u=o.xlink,c={};c[s.name]=s.uri,c[u.name]=u.uri;var l=function(t,e){void 0===t&&(t="");var n=i(c,e||{}),r=a(n);return"<svg "+r+">"+t+"</svg>"},h=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"===typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return n(l(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,r),e}(t);return h}))}).call(this,n("c8ba"))},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),u=n("9bf2").f,c=n("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};c(f,l);var d=f.prototype=l.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(h,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e0d3:function(t,e,n){"use strict";n.d(e,"r",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"m",(function(){return d})),n.d(e,"q",(function(){return p})),n.d(e,"e",(function(){return T})),n.d(e,"n",(function(){return S})),n.d(e,"l",(function(){return O})),n.d(e,"p",(function(){return M})),n.d(e,"x",(function(){return E})),n.d(e,"d",(function(){return C})),n.d(e,"u",(function(){return D})),n.d(e,"o",(function(){return L})),n.d(e,"s",(function(){return P})),n.d(e,"t",(function(){return R})),n.d(e,"b",(function(){return N})),n.d(e,"a",(function(){return k})),n.d(e,"v",(function(){return j})),n.d(e,"w",(function(){return F})),n.d(e,"g",(function(){return B})),n.d(e,"i",(function(){return z})),n.d(e,"j",(function(){return U})),n.d(e,"k",(function(){return H}));var r=n("6d8b"),i=n("22d1"),o=n("3842"),a=n("06ad"),s="series\0",u="\0_ec_\0";function c(t){return t instanceof Array?t:null==t?[]:[t]}function l(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var h=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function f(t){return!Object(r["A"])(t)||Object(r["t"])(t)||t instanceof Date?t:t.value}function d(t){return Object(r["A"])(t)&&!(t instanceof Array)}function p(t,e,n){var i="normalMerge"===n,o="replaceMerge"===n,a="replaceAll"===n;t=t||[],e=(e||[]).slice();var s=Object(r["g"])();Object(r["k"])(e,(function(t,n){Object(r["A"])(t)||(e[n]=null)}));var u=m(t,s,n);return(i||o)&&g(u,t,s,e),i&&v(u,e),i||o?y(u,e,o):a&&_(u,e),b(u),u}function m(t,e,n){var r=[];if("replaceAll"===n)return r;for(var i=0;i<t.length;i++){var o=t[i];o&&null!=o.id&&e.set(o.id,i),r.push({existing:"replaceMerge"===n||O(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}function g(t,e,n,i){Object(r["k"])(i,(function(o,a){if(o&&null!=o.id){var s=w(o.id),u=n.get(s);if(null!=u){var c=t[u];Object(r["b"])(!c.newOption,'Duplicated option on id "'+s+'".'),c.newOption=o,c.existing=e[u],i[a]=null}}}))}function v(t,e){Object(r["k"])(e,(function(n,r){if(n&&null!=n.name)for(var i=0;i<t.length;i++){var o=t[i].existing;if(!t[i].newOption&&o&&(null==o.id||null==n.id)&&!O(n)&&!O(o)&&x("name",o,n))return t[i].newOption=n,void(e[r]=null)}}))}function y(t,e,n){Object(r["k"])(e,(function(e){if(e){var r,i=0;while((r=t[i])&&(r.newOption||O(r.existing)||r.existing&&null!=e.id&&!x("id",e,r.existing)))i++;r?(r.newOption=e,r.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),i++}}))}function _(t,e){Object(r["k"])(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}function b(t){var e=Object(r["g"])();Object(r["k"])(t,(function(t){var n=t.existing;n&&e.set(n.id,t)})),Object(r["k"])(t,(function(t){var n=t.newOption;Object(r["b"])(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})})),Object(r["k"])(t,(function(t,n){var i=t.existing,o=t.newOption,a=t.keyInfo;if(Object(r["A"])(o)){if(a.name=null!=o.name?w(o.name):i?i.name:s+n,i)a.id=w(i.id);else if(null!=o.id)a.id=w(o.id);else{var u=0;do{a.id="\0"+a.name+"\0"+u++}while(e.get(a.id))}e.set(a.id,t)}}))}function x(t,e,n){var r=T(e[t],null),i=T(n[t],null);return null!=r&&null!=i&&r===i}function w(t){return T(t,"")}function T(t,e){if(null==t)return e;var n=typeof t;return"string"===n?t:"number"===n||Object(r["D"])(t)?t+"":e}function S(t){var e=t.name;return!(!e||!e.indexOf(s))}function O(t){return t&&null!=t.id&&0===w(t.id).indexOf(u)}function M(t){return u+t}function E(t,e,n){Object(r["k"])(t,(function(t){var i=t.newOption;Object(r["A"])(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=A(e,i,t.existing,n))}))}function A(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}function C(t,e){var n={},r={};return i(t||[],n),i(e||[],r,n),[o(n),o(r)];function i(t,e,n){for(var r=0,i=t.length;r<i;r++){var o=T(t[r].seriesId,null);if(null==o)return;for(var a=c(t[r].dataIndex),s=n&&n[o],u=0,l=a.length;u<l;u++){var h=a[u];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}}function o(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var i=o(t[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}function D(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Object(r["t"])(e.dataIndex)?Object(r["H"])(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?Object(r["t"])(e.name)?Object(r["H"])(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function L(){var t="__ec_inner_"+I++;return function(e){return e[t]||(e[t]={})}}var I=Object(o["i"])();function P(t,e,n){var r=R(e,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=a,u=n?n.defaultMainType:null;return!i&&u&&o.set(u,{}),o.each((function(e,r){var i=j(t,r,e,{useDefault:u===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});s[r+"Models"]=i.models,s[r+"Model"]=i.models[0]})),s}function R(t,e){var n;if(Object(r["C"])(t)){var i={};i[t+"Index"]=0,n=i}else n=t;var o=Object(r["g"])(),a={},s=!1;return Object(r["k"])(n,(function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],u=i[1],c=(i[2]||"").toLowerCase();if(u&&c&&!(e&&e.includeMainTypes&&Object(r["r"])(e.includeMainTypes,u)<0)){s=s||!!u;var l=o.get(u)||o.set(u,{});l[c]=t}}else a[n]=t})),{mainTypeSpecified:s,queryOptionMap:o,others:a}}var N={useDefault:!0,enableAll:!1,enableNone:!1},k={useDefault:!1,enableAll:!0,enableNone:!0};function j(t,e,n,i){i=i||N;var o=n.index,a=n.id,s=n.name,u={models:null,specified:null!=o||null!=a||null!=s};if(!u.specified){var c=void 0;return u.models=i.useDefault&&(c=t.getComponent(e))?[c]:[],u}return"none"===o||!1===o?(Object(r["b"])(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):("all"===o&&(Object(r["b"])(i.enableAll,'`"all"` is not a valid value on index option.'),o=a=s=null),u.models=t.queryComponents({mainType:e,index:o,id:a,name:s}),u)}function F(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function B(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function z(t){return"auto"===t?i["a"].domSupported?"html":"richText":t||"html"}function U(t,e){var n=Object(r["g"])(),i=[];return Object(r["k"])(t,(function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)})),{keys:i,buckets:n}}function H(t,e,n,r,i){var s=null==e||"auto"===e;if(null==r)return r;if("number"===typeof r){var u=Object(a["c"])(n||0,r,i);return Object(o["v"])(u,s?Math.max(Object(o["g"])(n||0),Object(o["g"])(r)):e)}if("string"===typeof r)return i<1?n:r;for(var c=[],l=n,h=r,f=Math.max(l?l.length:0,h.length),d=0;d<f;++d){var p=t.getDimensionInfo(d);if(p&&"ordinal"===p.type)c[d]=(i<1&&l?l:h)[d];else{var m=l&&l[d]?l[d]:0,g=h[d];u=Object(a["c"])(m,g,i);c[d]=Object(o["v"])(u,s?Math.max(Object(o["g"])(m),Object(o["g"])(g)):e)}}return c}},e0d8:function(t,e,n){"use strict";var r=n("625e"),i=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();r["c"](i),e["a"]=i},e163:function(t,e,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),a=n("e177"),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e198:function(t,e,n){var r=n("ef08"),i=n("5524"),o=n("e444"),a=n("fcd4"),s=n("1a14").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},e260:function(t,e,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),a=n("69f3"),s=n("7dd0"),u="Array Iterator",c=a.set,l=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e263:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"a",(function(){return _}));var r=n("401b"),i=n("4a3f"),o=Math.min,a=Math.max,s=Math.sin,u=Math.cos,c=2*Math.PI,l=r["e"](),h=r["e"](),f=r["e"]();function d(t,e,n){if(0!==t.length){for(var r=t[0],i=r[0],s=r[0],u=r[1],c=r[1],l=1;l<t.length;l++)r=t[l],i=o(i,r[0]),s=a(s,r[0]),u=o(u,r[1]),c=a(c,r[1]);e[0]=i,e[1]=u,n[0]=s,n[1]=c}}function p(t,e,n,r,i,s){i[0]=o(t,n),i[1]=o(e,r),s[0]=a(t,n),s[1]=a(e,r)}var m=[],g=[];function v(t,e,n,r,s,u,c,l,h,f){var d=i["c"],p=i["a"],v=d(t,n,s,c,m);h[0]=1/0,h[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var y=0;y<v;y++){var _=p(t,n,s,c,m[y]);h[0]=o(_,h[0]),f[0]=a(_,f[0])}v=d(e,r,u,l,g);for(y=0;y<v;y++){var b=p(e,r,u,l,g[y]);h[1]=o(b,h[1]),f[1]=a(b,f[1])}h[0]=o(t,h[0]),f[0]=a(t,f[0]),h[0]=o(c,h[0]),f[0]=a(c,f[0]),h[1]=o(e,h[1]),f[1]=a(e,f[1]),h[1]=o(l,h[1]),f[1]=a(l,f[1])}function y(t,e,n,r,s,u,c,l){var h=i["j"],f=i["h"],d=a(o(h(t,n,s),1),0),p=a(o(h(e,r,u),1),0),m=f(t,n,s,d),g=f(e,r,u,p);c[0]=o(t,s,m),c[1]=o(e,u,g),l[0]=a(t,s,m),l[1]=a(e,u,g)}function _(t,e,n,i,o,a,d,p,m){var g=r["l"],v=r["k"],y=Math.abs(o-a);if(y%c<1e-4&&y>1e-4)return p[0]=t-n,p[1]=e-i,m[0]=t+n,void(m[1]=e+i);if(l[0]=u(o)*n+t,l[1]=s(o)*i+e,h[0]=u(a)*n+t,h[1]=s(a)*i+e,g(p,l,h),v(m,l,h),o%=c,o<0&&(o+=c),a%=c,a<0&&(a+=c),o>a&&!d?a+=c:o<a&&d&&(o+=c),d){var _=a;a=o,o=_}for(var b=0;b<a;b+=Math.PI/2)b>o&&(f[0]=u(b)*n+t,f[1]=s(b)*i+e,g(p,f,p),v(m,f,m))}},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e34a:function(t,e,n){var r=n("8b1a")("meta"),i=n("7a41"),o=n("9c0e"),a=n("1a14").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("4b8b")((function(){return u(Object.preventExtensions({}))})),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&p.NEED&&u(t)&&!o(t,r)&&l(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},e39c:function(t,e,n){"use strict";var r=n("3eba");function i(t,e,n){"object"==typeof e&&(n=e,e=null);var r,i=this;if(!(t instanceof Function))for(var s in r=[],t)t.hasOwnProperty(s)&&r.push(s);var u=function(e){if(i.apply(this,arguments),t instanceof Function?o(this,t.call(this,e)):a(this,t,r),this.constructor===u)for(var n=u.__initializers__,s=0;s<n.length;s++)n[s].apply(this,arguments)};u.__super__=i,i.__initializers__?u.__initializers__=i.__initializers__.slice():u.__initializers__=[],e&&u.__initializers__.push(e);var c=function(){};return c.prototype=i.prototype,u.prototype=new c,u.prototype.constructor=u,o(u.prototype,n),u.extend=i.extend,u.derive=i.extend,u}function o(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function a(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}}var s={extend:i,derive:i};function u(t,e){this.action=t,this.context=e}var c={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],n=e.length,r=-1,i=arguments;switch(i.length){case 1:while(++r<n)e[r].action.call(e[r].context);return;case 2:while(++r<n)e[r].action.call(e[r].context,i[1]);return;case 3:while(++r<n)e[r].action.call(e[r].context,i[1],i[2]);return;case 4:while(++r<n)e[r].action.call(e[r].context,i[1],i[2],i[3]);return;case 5:while(++r<n)e[r].action.call(e[r].context,i[1],i[2],i[3],i[4]);return;default:while(++r<n)e[r].action.apply(e[r].context,Array.prototype.slice.call(i,1));return}}},on:function(t,e,n){if(t&&e){var r=this.__handlers__||(this.__handlers__={});if(r[t]){if(this.has(t,e))return}else r[t]=[];var i=new u(e,n||this);return r[t].push(i),this}},once:function(t,e,n){if(t&&e){var r=this;return this.on(t,i,n)}function i(){r.off(t,i),e.apply(this,arguments)}},before:function(t,e,n){if(t&&e)return t="before"+t,this.on(t,e,n)},after:function(t,e,n){if(t&&e)return t="after"+t,this.on(t,e,n)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var n=this.__handlers__||(this.__handlers__={});if(e){if(n[t]){for(var r=n[t],i=[],o=0;o<r.length;o++)e&&r[o].action!==e&&i.push(r[o]);n[t]=i}return this}n[t]=[]},has:function(t,e){var n=this.__handlers__;if(!n||!n[t])return!1;for(var r=n[t],i=0;i<r.length;i++)if(r[i].action===e)return!0}},l=c,h=0,f=Array.prototype,d=f.forEach,p={genGUID:function(){return++h},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;var n=t.split("/"),r=e.split("/"),i=n[0];while("."===i||".."===i)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},extendWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},defaultsWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];null==t[i]&&(t[i]=e[i])}return t},each:function(t,e,n){if(t&&e)if(t.forEach&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(p.isObject(t)){if(p.isArray(t))return t.slice();if(p.isArrayLike(t)){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return p.extend({},t)}return t}},m=p,g=function(){this.__uid__=m.genGUID()};g.__initializers__=[function(t){m.extend(this,t)}],m.extend(g,s),m.extend(g.prototype,l);var v=g,y=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],_=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function b(t){for(var e={},n={},r=0;r<y.length;r++){var i=y[r];a(i)}for(r=0;r<_.length;r++){var o=_[r];n[o]=t.getParameter(t[o])}function a(n){if(t.getExtension){var r=t.getExtension(n);r||(r=t.getExtension("MOZ_"+n)),r||(r=t.getExtension("WEBKIT_"+n)),e[n]=r}}this.getExtension=function(t){return t in e||a(t),e[t]},this.getParameter=function(t){return n[t]}}var x=b,w={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444},T=n("620a"),S=function(){this.head=null,this.tail=null,this._length=0};S.prototype.insert=function(t){var e=new S.Entry(t);return this.insertEntry(e),e},S.prototype.insertAt=function(t,e){if(!(t<0)){var n=this.head,r=0;while(n&&r!=t)n=n.next,r++;if(n){var i=new S.Entry(e),o=n.prev;o?(o.next=i,i.prev=o):this.head=i,i.next=n,n.prev=i}else this.insert(e)}},S.prototype.insertBeforeEntry=function(t,e){var n=new S.Entry(t),r=e.prev;r?(r.next=n,n.prev=r):this.head=n,n.next=e,e.prev=n,this._length++},S.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},S.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._length--},S.prototype.removeAt=function(t){if(!(t<0)){var e=this.head,n=0;while(e&&n!=t)e=e.next,n++;return e?(this.remove(e),e.value):void 0}},S.prototype.getHead=function(){if(this.head)return this.head.value},S.prototype.getTail=function(){if(this.tail)return this.tail.value},S.prototype.getAt=function(t){if(!(t<0)){var e=this.head,n=0;while(e&&n!=t)e=e.next,n++;return e.value}},S.prototype.indexOf=function(t){var e=this.head,n=0;while(e){if(e.value===t)return n;e=e.next,n++}},S.prototype.length=function(){return this._length},S.prototype.isEmpty=function(){return 0===this._length},S.prototype.forEach=function(t,e){var n=this.head,r=0,i="undefined"!=typeof e;while(n)i?t.call(e,n.value,r):t(n.value,r),n=n.next,r++},S.prototype.clear=function(){this.tail=this.head=null,this._length=0},S.Entry=function(t){this.value=t,this.next=null,this.prev=null};var O=S,M=function(t){this._list=new O,this._map={},this._maxSize=t||10};M.prototype.setMaxSize=function(t){this._maxSize=t},M.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(e);i.key=t,this._map[t]=i}},M.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},M.prototype.remove=function(t){var e=this._map[t];"undefined"!==typeof e&&(delete this._map[t],this._list.remove(e))},M.prototype.clear=function(){this._list.clear(),this._map={}};var E=M,A={},C={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function D(t){return t=Math.round(t),t<0?0:t>255?255:t}function L(t){return t=Math.round(t),t<0?0:t>360?360:t}function I(t){return t<0?0:t>1?1:t}function P(t){return t.length&&"%"===t.charAt(t.length-1)?D(parseFloat(t)/100*255):D(parseInt(t,10))}function R(t){return t.length&&"%"===t.charAt(t.length-1)?I(parseFloat(t)/100):I(parseFloat(t))}function N(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function k(t,e,n){return t+(e-t)*n}function j(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function F(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var B=new E(20),z=null;function U(t,e){z&&F(z,e),z=B.put(t,z||e.slice())}function H(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=R(t[1]),i=R(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return e=e||[],j(e,D(255*N(a,o,n+1/3)),D(255*N(a,o,n)),D(255*N(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function G(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,c=(s+a)/2;if(0===u)e=0,n=0;else{n=c<.5?u/(s+a):u/(2-s-a);var l=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-o)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+l-f:o===s&&(e=2/3+h-l),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,c];return null!=t[3]&&d.push(t[3]),d}}A.parse=function(t,e){if(t){e=e||[];var n=B.get(t);if(n)return F(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in C)return F(e,C[r]),U(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),o=r.indexOf(")");if(-1!==i&&o+1===r.length){var a=r.substr(0,i),s=r.substr(i+1,o-(i+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return void j(e,0,0,0,1);u=R(s.pop());case"rgb":return 3!==s.length?void j(e,0,0,0,1):(j(e,P(s[0]),P(s[1]),P(s[2]),u),U(t,e),e);case"hsla":return 4!==s.length?void j(e,0,0,0,1):(s[3]=R(s[3]),H(s,e),U(t,e),e);case"hsl":return 3!==s.length?void j(e,0,0,0,1):(H(s,e),U(t,e),e);default:return}}j(e,0,0,0,1)}else{if(4===r.length){var c=parseInt(r.substr(1),16);return c>=0&&c<=4095?(j(e,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1),U(t,e),e):void j(e,0,0,0,1)}if(7===r.length){c=parseInt(r.substr(1),16);return c>=0&&c<=16777215?(j(e,(16711680&c)>>16,(65280&c)>>8,255&c,1),U(t,e),e):void j(e,0,0,0,1)}}}},A.parseToFloat=function(t,e){if(e=A.parse(t,e),e)return e[0]/=255,e[1]/=255,e[2]/=255,e},A.lift=function(t,e){var n=A.parse(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return A.stringify(n,4===n.length?"rgba":"rgb")}},A.toHex=function(t){var e=A.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},A.fastLerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],u=r-i;return n[0]=D(k(a[0],s[0],u)),n[1]=D(k(a[1],s[1],u)),n[2]=D(k(a[2],s[2],u)),n[3]=I(k(a[3],s[3],u)),n}},A.fastMapToColor=A.fastLerp,A.lerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=A.parse(e[i]),s=A.parse(e[o]),u=r-i,c=A.stringify([D(k(a[0],s[0],u)),D(k(a[1],s[1],u)),D(k(a[2],s[2],u)),I(k(a[3],s[3],u))],"rgba");return n?{color:c,leftIndex:i,rightIndex:o,value:r}:c}},A.mapToColor=A.lerp,A.modifyHSL=function(t,e,n,r){if(t=A.parse(t),t)return t=G(t),null!=e&&(t[0]=L(e)),null!=n&&(t[1]=R(n)),null!=r&&(t[2]=R(r)),A.stringify(H(t),"rgba")},A.modifyAlpha=function(t,e){if(t=A.parse(t),t&&null!=e)return t[3]=I(e),A.stringify(t,"rgba")},A.stringify=function(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}};var V=A,W=V.parseToFloat,q={};function X(t){var e=Object.keys(t);e.sort();for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t[i];null===o?n.push(i):n.push(i+" "+o.toString())}return n.join("\n")}function Y(t,e,n){n.sort();for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push(o)}var a=X(t)+"\n"+X(e)+"\n"+r.join("\n");if(q[a])return q[a];var s=m.genGUID();return q[a]=s,s}var $=v.extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(t,e){void 0===e&&console.warn('Uniform value "'+t+'" is undefined');var n=this.uniforms[t];n&&("string"===typeof e&&(e=W(e)||e),n.value=e,this.autoUpdateTextureStatus&&"t"===n.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var n=t[e];this.setUniform(e,n)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if("object"===typeof t)for(var n in t){var r=t[n];this.setUniform(n,r)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var n=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(t){var e=this.uniforms[t].type;return"t"===e||"tv"===e}),this);var i=this.vertexDefines,o=this.fragmentDefines;if(this.vertexDefines=m.clone(t.vertexDefines),this.fragmentDefines=m.clone(t.fragmentDefines),e){for(var a in n)r[a]&&(r[a].value=n[a].value);m.defaults(this.vertexDefines,i),m.defaults(this.fragmentDefines,o)}var s={};for(var u in t.textures)s[u]={shaderType:t.textures[u].shaderType,type:t.textures[u].type,enabled:!(!e||!this._textureStatus[u])&&this._textureStatus[u].enabled};this._textureStatus=s,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=m.clone(this.vertexDefines),t.fragmentDefines=m.clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<3&&(n=e,e=t,t="both"),n=null!=n?n:null,"vertex"!==t&&"both"!==t||r[e]!==n&&(r[e]=n,this._programKey=""),"fragment"!==t&&"both"!==t||i[e]!==n&&(i[e]=n,"both"!==t&&(this._programKey=""))},undefine:function(t,e){"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<2&&(e=t,t="both"),"vertex"!==t&&"both"!==t||this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),"fragment"!==t&&"both"!==t||this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],"both"!==t&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return void 0!==this.vertexDefines[e];case"fragment":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var n=this._textureStatus[t];if(n){var r=n.enabled;r||(n.enabled=!0,this._programKey="")}}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var n=this._textureStatus[t];if(n){var r=!n.enabled;r||(n.enabled=!1,this._programKey="")}}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var n in e)e[n].enabled&&t.push(n);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=Y(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),Z=$,K=1e-6,J=Array,Q=Math.random,tt={create:function(){var t=new J(2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new J(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new J(2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};tt.sub=tt.subtract,tt.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},tt.mul=tt.multiply,tt.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},tt.div=tt.divide,tt.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},tt.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},tt.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},tt.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},tt.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},tt.dist=tt.distance,tt.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},tt.sqrDist=tt.squaredDistance,tt.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},tt.len=tt.length,tt.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},tt.sqrLen=tt.squaredLength,tt.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},tt.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},tt.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},tt.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},tt.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},tt.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},tt.random=function(t,e){e=e||1;var n=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},tt.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},tt.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},tt.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},tt.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},tt.forEach=function(){var t=tt.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();var et=tt,nt=function(t,e){t=t||0,e=e||0,this.array=et.fromValues(t,e),this._dirty=!0};if(nt.prototype={constructor:nt,add:function(t){return et.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new nt(this.x,this.y)},copy:function(t){return et.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return et.cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return et.dist(this.array,t.array)},distance:function(t){return et.distance(this.array,t.array)},div:function(t){return et.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return et.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return et.dot(this.array,t.array)},len:function(){return et.len(this.array)},length:function(){return et.length(this.array)},lerp:function(t,e,n){return et.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return et.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return et.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return et.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return et.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return et.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return et.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return et.random(this.array,t),this._dirty=!0,this},scale:function(t){return et.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return et.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return et.sqrDist(this.array,t.array)},squaredDistance:function(t){return et.squaredDistance(this.array,t.array)},sqrLen:function(){return et.sqrLen(this.array)},squaredLength:function(){return et.squaredLength(this.array)},sub:function(t){return et.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return et.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return et.transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return et.transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return et.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return et.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var rt=nt.prototype;Object.defineProperty(rt,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(rt,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}nt.add=function(t,e,n){return et.add(t.array,e.array,n.array),t._dirty=!0,t},nt.set=function(t,e,n){return et.set(t.array,e,n),t._dirty=!0,t},nt.copy=function(t,e){return et.copy(t.array,e.array),t._dirty=!0,t},nt.cross=function(t,e,n){return et.cross(t.array,e.array,n.array),t._dirty=!0,t},nt.dist=function(t,e){return et.distance(t.array,e.array)},nt.distance=nt.dist,nt.div=function(t,e,n){return et.divide(t.array,e.array,n.array),t._dirty=!0,t},nt.divide=nt.div,nt.dot=function(t,e){return et.dot(t.array,e.array)},nt.len=function(t){return et.length(t.array)},nt.lerp=function(t,e,n,r){return et.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},nt.min=function(t,e,n){return et.min(t.array,e.array,n.array),t._dirty=!0,t},nt.max=function(t,e,n){return et.max(t.array,e.array,n.array),t._dirty=!0,t},nt.mul=function(t,e,n){return et.multiply(t.array,e.array,n.array),t._dirty=!0,t},nt.multiply=nt.mul,nt.negate=function(t,e){return et.negate(t.array,e.array),t._dirty=!0,t},nt.normalize=function(t,e){return et.normalize(t.array,e.array),t._dirty=!0,t},nt.random=function(t,e){return et.random(t.array,e),t._dirty=!0,t},nt.scale=function(t,e,n){return et.scale(t.array,e.array,n),t._dirty=!0,t},nt.scaleAndAdd=function(t,e,n,r){return et.scaleAndAdd(t.array,e.array,n.array,r),t._dirty=!0,t},nt.sqrDist=function(t,e){return et.sqrDist(t.array,e.array)},nt.squaredDistance=nt.sqrDist,nt.sqrLen=function(t){return et.sqrLen(t.array)},nt.squaredLength=nt.sqrLen,nt.sub=function(t,e,n){return et.subtract(t.array,e.array,n.array),t._dirty=!0,t},nt.subtract=nt.sub,nt.transformMat2=function(t,e,n){return et.transformMat2(t.array,e.array,n.array),t._dirty=!0,t},nt.transformMat2d=function(t,e,n){return et.transformMat2d(t.array,e.array,n.array),t._dirty=!0,t},nt.transformMat3=function(t,e,n){return et.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},nt.transformMat4=function(t,e,n){return et.transformMat4(t.array,e.array,n.array),t._dirty=!0,t};var it=nt,ot=1,at=2,st=3,ut={};function ct(t){for(var e=t.split("\n"),n=0,r=e.length;n<r;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function lt(t,e,n){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),ct(n)].join("\n")}var ht=new T["a"].Float32Array(16),ft=v.extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!==e&&void 0!==e},useTextureSlot:function(t,e,n){e&&(t.gl.activeTexture(t.gl.TEXTURE0+n),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var n=this._textureSlot;return this.useTextureSlot(t,e,n),this._textureSlot++,n},setUniform:function(t,e,n,r){var i=this._locations,o=i[n];if(null===o||void 0===o)return!1;switch(e){case"m4":if(!(r instanceof Float32Array)){for(var a=0;a<r.length;a++)ht[a]=r[a];r=ht}t.uniformMatrix4fv(o,!1,r);break;case"2i":t.uniform2i(o,r[0],r[1]);break;case"2f":t.uniform2f(o,r[0],r[1]);break;case"3i":t.uniform3i(o,r[0],r[1],r[2]);break;case"3f":t.uniform3f(o,r[0],r[1],r[2]);break;case"4i":t.uniform4i(o,r[0],r[1],r[2],r[3]);break;case"4f":t.uniform4f(o,r[0],r[1],r[2],r[3]);break;case"1i":t.uniform1i(o,r);break;case"1f":t.uniform1f(o,r);break;case"1fv":t.uniform1fv(o,r);break;case"1iv":t.uniform1iv(o,r);break;case"2iv":t.uniform2iv(o,r);break;case"2fv":t.uniform2fv(o,r);break;case"3iv":t.uniform3iv(o,r);break;case"3fv":t.uniform3fv(o,r);break;case"4iv":t.uniform4iv(o,r);break;case"4fv":t.uniform4fv(o,r);break;case"m2":case"m2v":t.uniformMatrix2fv(o,!1,r);break;case"m3":case"m3v":t.uniformMatrix3fv(o,!1,r);break;case"m4v":if(Array.isArray(r)&&Array.isArray(r[0])){var s=new T["a"].Float32Array(16*r.length),u=0;for(a=0;a<r.length;a++)for(var c=r[a],l=0;l<16;l++)s[u++]=c[l];t.uniformMatrix4fv(o,!1,s)}else t.uniformMatrix4fv(o,!1,r);break}return!0},setUniformOfSemantic:function(t,e,n){var r=this.uniformSemantics[e];return!!r&&this.setUniform(t,r.type,r.symbol,n)},enableAttributes:function(t,e,n){var r,i=t.gl,o=this._program,a=this._locations;r=n?n.__enabledAttributeList:ut[t.__uid__],r||(r=n?n.__enabledAttributeList=[]:ut[t.__uid__]=[]);for(var s=[],u=0;u<e.length;u++){var c=e[u];if(this.attributes[c]){var l=a[c];if(null==l){if(l=i.getAttribLocation(o,c),-1===l){s[u]=-1;continue}a[c]=l}s[u]=l,r[l]?r[l]=at:r[l]=ot}else s[u]=-1}for(u=0;u<r.length;u++)switch(r[u]){case ot:i.enableVertexAttribArray(u),r[u]=st;break;case at:r[u]=st;break;case st:i.disableVertexAttribArray(u),r[u]=0;break}return s},getAttribLocation:function(t,e){var n=this._locations,r=n[e];return null==r&&(r=t.getAttribLocation(this._program,e),n[e]=r),r},buildProgram:function(t,e,n,r){var i=t.createShader(t.VERTEX_SHADER),o=t.createProgram();t.shaderSource(i,n),t.compileShader(i);var a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,r),t.compileShader(a);var s=lt(t,i,n);if(s)return s;if(s=lt(t,a,r),s)return s;if(t.attachShader(o,i),t.attachShader(o,a),e.attributeSemantics["POSITION"])t.bindAttribLocation(o,0,e.attributeSemantics["POSITION"].symbol);else{var u=Object.keys(this.attributes);t.bindAttribLocation(o,0,u[0])}if(t.linkProgram(o),t.deleteShader(i),t.deleteShader(a),this._program=o,this.vertexCode=n,this.fragmentCode=r,!t.getProgramParameter(o,t.LINK_STATUS))return"Could not link program\n"+t.getProgramInfoLog(o);for(var c=0;c<e.uniforms.length;c++){var l=e.uniforms[c];this._locations[l]=t.getUniformLocation(o,l)}}}),dt=ft,pt=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function mt(t,e,n){function r(t,n,r,o){var a="";isNaN(n)&&(n=n in e?e[n]:i[n]),isNaN(r)&&(r=r in e?e[r]:i[r]);for(var s=parseInt(n);s<parseInt(r);s++)a+="{"+o.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return a}var i={};for(var o in n)i[o+"_COUNT"]=n[o];return t.replace(pt,r)}function gt(t,e,n){var r=[];if(e)for(var i in e){var o=e[i];o>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+o)}if(n)for(var a=0;a<n.length;a++){var s=n[a];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in t){var u=t[s];null===u?r.push("#define "+s):r.push("#define "+s+" "+u.toString())}return r.join("\n")}function vt(t){for(var e=[],n=0;n<t.length;n++)e.push("#extension GL_"+t[n]+" : enable");return e.join("\n")}function yt(t){return["precision",t,"float"].join(" ")+";\n"+["precision",t,"int"].join(" ")+";\n"+["precision",t,"sampler2D"].join(" ")+";\n"}function _t(t){this._renderer=t,this._cache={}}_t.prototype.getProgram=function(t,e,n){var r=this._cache,i=t.isSkinnedMesh&&t.isSkinnedMesh(),o=t.isInstancedMesh&&t.isInstancedMesh(),a="s"+e.shader.shaderID+"m"+e.getProgramKey();n&&(a+="se"+n.getProgramKey(t.lightGroup)),i&&(a+=",sk"+t.joints.length),o&&(a+=",is");var s=r[a];if(s)return s;var u=n?n.getLightsNumbers(t.lightGroup):{},c=this._renderer,l=c.gl,h=e.getEnabledTextures(),f="";if(i){var d={SKINNING:null,JOINT_COUNT:t.joints.length};t.joints.length>c.getMaxJointNumber()&&(d.USE_SKIN_MATRICES_TEXTURE=null),f+="\n"+gt(d)+"\n"}o&&(f+="\n#define INSTANCING\n");var p=f+gt(e.vertexDefines,u,h),m=f+gt(e.fragmentDefines,u,h),g=p+"\n"+e.shader.vertex,v=["OES_standard_derivatives","EXT_shader_texture_lod"].filter((function(t){return null!=c.getGLExtension(t)}));v.indexOf("EXT_shader_texture_lod")>=0&&(m+="\n#define SUPPORT_TEXTURE_LOD"),v.indexOf("OES_standard_derivatives")>=0&&(m+="\n#define SUPPORT_STANDARD_DERIVATIVES");var y=vt(v)+"\n"+yt(e.precision)+"\n"+m+"\n"+e.shader.fragment,_=mt(g,e.vertexDefines,u),b=mt(y,e.fragmentDefines,u);s=new dt;s.uniformSemantics=e.shader.uniformSemantics,s.attributes=e.shader.attributes;var x=s.buildProgram(l,e.shader,_,b);return s.__error=x,r[a]=s,s};var bt=_t,xt=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,wt=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,Tt=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,St={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function Ot(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}var Mt={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return Ot(2)},vec3:function(){return Ot(3)},vec4:function(){return Ot(4)},ivec2:function(){return Ot(2)},ivec3:function(){return Ot(3)},ivec4:function(){return Ot(4)},mat2:function(){return Ot(4)},mat3:function(){return Ot(9)},mat4:function(){return Ot(16)},array:function(){return[]}},Et=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],At=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],Ct=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],Dt={vec4:4,vec3:3,vec2:2,float:1},Lt={},It={};function Pt(t,e){var n="vertex:"+t+"fragment:"+e;if(Lt[n])return Lt[n];var r=m.genGUID();return Lt[n]=r,It[r]={vertex:t,fragment:e},r}function Rt(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function Nt(){console.error("Wrong uniform/attributes syntax")}function kt(t,e){for(var n=/[,=\(\):]/,r=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),i=[],o=0;o<r.length;o++)r[o].match(n)?i.push(r[o].charAt(0),r[o].slice(1)):i.push(r[o]);r=i;var a,s=0,u=1,c=2,l=3,h=4,f=5,d=s,p={},m=null;function g(t){t||Nt();var e=t.match(/\[(.*?)\]/);a=t.replace(/\[(.*?)\]/,""),p[a]={},e&&(p[a].isArray=!0,p[a].arraySize=e[1])}g(r[0]);for(o=1;o<r.length;o++){var v=r[o];if(v)if("="!==v)if(":"!==v)if(","!==v)if(")"!==v)if("("!==v)if(v.indexOf("vec")>=0){if(d!==u&&d!==h){Nt();break}d=c,m=[]}else if(d!==u)if(d!==h)g(v),d=s;else{var y=v;Et.indexOf(y)>=0||At.indexOf(y)>=0||Ct.indexOf(y)>=0?p[a].semantic=y:"ignore"===y||"unconfigurable"===y?p[a].ignore=!0:p[a].value="bool"===t?"true"===y:parseFloat(y)}else p[a].value="bool"===t?"true"===v:parseFloat(v),m=null;else{if(d!==c){Nt();break}if(!(m instanceof Array)){Nt();break}m.push(+r[++o])}else p[a].value=new T["a"].Float32Array(m),m=null,d=f;else if(d===c){if(!(m instanceof Array)){Nt();break}m.push(+r[++o])}else d=f;else d=h;else{if(d!==s&&d!==l){Nt();break}d=u}}return p}function jt(t,e){"object"===typeof t&&(e=t.fragment,t=t.vertex),t=Rt(t),e=Rt(e),this._shaderID=Pt(t,e),this._vertexCode=jt.parseImport(t),this._fragmentCode=jt.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}jt.prototype={constructor:jt,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var n=this.uniformTemplates[e];t[e]={type:n.type,value:n.value()}}return t},_parseImport:function(){this._vertexCode=jt.parseImport(this.vertex),this._fragmentCode=jt.parseImport(this.fragment)},_addSemanticUniform:function(t,e,n){if(Et.indexOf(n)>=0)this.attributeSemantics[n]={symbol:t,type:e};else if(Ct.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:t,type:e,isTranspose:r,semanticNoTranspose:i}}else At.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:t,type:e})},_addMaterialUniform:function(t,e,n,r,i,o){o[t]={type:n,value:i?Mt["array"]:r||Mt[e],semantic:null}},_parseUniforms:function(){var t={},e=this,n="vertex";function r(t){return null!=t?function(){return t}:null}function i(i,o,a){var s=kt(o,a),u=[];for(var c in s){var l=s[c],h=l.semantic,f=c,d=St[o],p=r(s[c].value);s[c].isArray&&(f+="["+s[c].arraySize+"]",d+="v"),u.push(f),e._uniformList.push(c),l.ignore||("sampler2D"!==o&&"samplerCube"!==o||(e.textures[c]={shaderType:n,type:o}),h?e._addSemanticUniform(c,d,h):e._addMaterialUniform(c,o,d,p,s[c].isArray,t))}return u.length>0?"uniform "+o+" "+u.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(xt,i),n="fragment",this._fragmentCode=this._fragmentCode.replace(xt,i),e.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=t},_parseAttributes:function(){var t={},e=this;function n(n,r,i){var o=kt(r,i),a=Dt[r]||1,s=[];for(var u in o){var c=o[u].semantic;if(t[u]={type:"float",size:a,semantic:c||null},c){if(Et.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');e.attributeSemantics[c]={symbol:u,type:r}}s.push(u)}return"attribute "+r+" "+s.join(",")+";\n"}this._vertexCode=this._vertexCode.replace(wt,n),this.attributes=t},_parseDefines:function(){var t=this,e="vertex";function n(n,r,i){var o="vertex"===e?t.vertexDefines:t.fragmentDefines;return o[r]||(o[r]="false"!==i&&("true"===i||(i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null))),""}this._vertexCode=this._vertexCode.replace(Tt,n),e="fragment",this._fragmentCode=this._fragmentCode.replace(Tt,n)},clone:function(){var t=It[this._shaderID],e=new jt(t.vertex,t.fragment);return e}},Object.defineProperty&&(Object.defineProperty(jt.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(jt.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(jt.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(jt.prototype,"uniforms",{get:function(){return this._uniformList}}));var Ft=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;jt.parseImport=function(t){return t=t.replace(Ft,(function(t,e,n){t=jt.source(n);return t?jt.parseImport(t):(console.error('Shader chunk "'+n+'" not existed in library'),"")})),t};var Bt=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;jt["import"]=function(t){t.replace(Bt,(function(t,e,n,r){r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(r){var i,o=n.split("."),a=jt.codes,s=0;while(s<o.length-1)i=o[s++],a[i]||(a[i]={}),a=a[i];i=o[s],a[i]=r}return r}))},jt.codes={},jt.source=function(t){var e=t.split("."),n=jt.codes,r=0;while(n&&r<e.length){var i=e[r++];n=n[i]}return"string"!==typeof n?(console.error('Shader "'+t+'" not existed in library'),""):n};var zt=jt,Ut="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end",Ht={create:function(){var t=new J(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new J(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,_=n*u-i*a,b=n*c-o*a,x=r*u-i*s,w=r*c-o*s,T=i*c-o*u,S=l*m-h*p,O=l*g-f*p,M=l*v-d*p,E=h*g-f*m,A=h*v-d*m,C=f*v-d*g,D=y*C-_*A+b*E+x*M-w*O+T*S;return D?(D=1/D,t[0]=(s*C-u*A+c*E)*D,t[1]=(i*A-r*C-o*E)*D,t[2]=(m*T-g*w+v*x)*D,t[3]=(f*w-h*T-d*x)*D,t[4]=(u*M-a*C-c*O)*D,t[5]=(n*C-i*M+o*O)*D,t[6]=(g*b-p*T-v*_)*D,t[7]=(l*T-f*b+d*_)*D,t[8]=(a*A-s*M+c*S)*D,t[9]=(r*M-n*A-o*S)*D,t[10]=(p*w-m*b+v*y)*D,t[11]=(h*b-l*w-d*y)*D,t[12]=(s*O-a*E-u*S)*D,t[13]=(n*E-r*O+i*S)*D,t[14]=(m*_-p*x-g*y)*D,t[15]=(l*x-h*_+f*y)*D,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(f*v-d*g)-h*(u*v-c*g)+m*(u*d-c*f),t[1]=-(r*(f*v-d*g)-h*(i*v-o*g)+m*(i*d-o*f)),t[2]=r*(u*v-c*g)-s*(i*v-o*g)+m*(i*c-o*u),t[3]=-(r*(u*d-c*f)-s*(i*d-o*f)+h*(i*c-o*u)),t[4]=-(a*(f*v-d*g)-l*(u*v-c*g)+p*(u*d-c*f)),t[5]=n*(f*v-d*g)-l*(i*v-o*g)+p*(i*d-o*f),t[6]=-(n*(u*v-c*g)-a*(i*v-o*g)+p*(i*c-o*u)),t[7]=n*(u*d-c*f)-a*(i*d-o*f)+l*(i*c-o*u),t[8]=a*(h*v-d*m)-l*(s*v-c*m)+p*(s*d-c*h),t[9]=-(n*(h*v-d*m)-l*(r*v-o*m)+p*(r*d-o*h)),t[10]=n*(s*v-c*m)-a*(r*v-o*m)+p*(r*c-o*s),t[11]=-(n*(s*d-c*h)-a*(r*d-o*h)+l*(r*c-o*s)),t[12]=-(a*(h*g-f*m)-l*(s*g-u*m)+p*(s*f-u*h)),t[13]=n*(h*g-f*m)-l*(r*g-i*m)+p*(r*f-i*h),t[14]=-(n*(s*g-u*m)-a*(r*g-i*m)+p*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+l*(r*u-i*s),t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15],v=e*a-n*o,y=e*s-r*o,_=e*u-i*o,b=n*s-r*a,x=n*u-i*a,w=r*u-i*s,T=c*p-l*d,S=c*m-h*d,O=c*g-f*d,M=l*m-h*p,E=l*g-f*p,A=h*g-f*m;return v*A-y*E+_*M+b*O-x*S+w*T},multiply:function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],v=e[14],y=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*h+w*m,t[1]=_*i+b*u+x*f+w*g,t[2]=_*o+b*c+x*d+w*v,t[3]=_*a+b*l+x*p+w*y,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*h+w*m,t[5]=_*i+b*u+x*f+w*g,t[6]=_*o+b*c+x*d+w*v,t[7]=_*a+b*l+x*p+w*y,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*h+w*m,t[9]=_*i+b*u+x*f+w*g,t[10]=_*o+b*c+x*d+w*v,t[11]=_*a+b*l+x*p+w*y,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*h+w*m,t[13]=_*i+b*u+x*f+w*g,t[14]=_*o+b*c+x*d+w*v,t[15]=_*a+b*l+x*p+w*y,t},multiplyAffine:function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],c=e[8],l=e[9],h=e[10],f=e[12],d=e[13],p=e[14],m=n[0],g=n[1],v=n[2];return t[0]=m*r+g*a+v*c,t[1]=m*i+g*s+v*l,t[2]=m*o+g*u+v*h,m=n[4],g=n[5],v=n[6],t[4]=m*r+g*a+v*c,t[5]=m*i+g*s+v*l,t[6]=m*o+g*u+v*h,m=n[8],g=n[9],v=n[10],t[8]=m*r+g*a+v*c,t[9]=m*i+g*s+v*l,t[10]=m*o+g*u+v*h,m=n[12],g=n[13],v=n[14],t[12]=m*r+g*a+v*c+f,t[13]=m*i+g*s+v*l+d,t[14]=m*o+g*u+v*h+p,t}};Ht.mul=Ht.multiply,Ht.mulAffine=Ht.multiplyAffine,Ht.translate=function(t,e,n){var r,i,o,a,s,u,c,l,h,f,d,p,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*m+s*g+h*v+e[12],t[13]=i*m+u*g+f*v+e[13],t[14]=o*m+c*g+d*v+e[14],t[15]=a*m+l*g+p*v+e[15]),t},Ht.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Ht.rotate=function(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,_,b,x,w,T,S,O,M,E,A=r[0],C=r[1],D=r[2],L=Math.sqrt(A*A+C*C+D*D);return Math.abs(L)<K?null:(L=1/L,A*=L,C*=L,D*=L,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],u=e[1],c=e[2],l=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],g=e[9],v=e[10],y=e[11],_=A*A*a+o,b=C*A*a+D*i,x=D*A*a-C*i,w=A*C*a-D*i,T=C*C*a+o,S=D*C*a+A*i,O=A*D*a+C*i,M=C*D*a-A*i,E=D*D*a+o,t[0]=s*_+h*b+m*x,t[1]=u*_+f*b+g*x,t[2]=c*_+d*b+v*x,t[3]=l*_+p*b+y*x,t[4]=s*w+h*T+m*S,t[5]=u*w+f*T+g*S,t[6]=c*w+d*T+v*S,t[7]=l*w+p*T+y*S,t[8]=s*O+h*M+m*E,t[9]=u*O+f*M+g*E,t[10]=c*O+d*M+v*E,t[11]=l*O+p*M+y*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},Ht.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t},Ht.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-l*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+c*i,t[9]=a*r+l*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t},Ht.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t},Ht.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,c=o+o,l=r*s,h=r*u,f=r*c,d=i*u,p=i*c,m=o*c,g=a*s,v=a*u,y=a*c;return t[0]=1-(d+m),t[1]=h+y,t[2]=f-v,t[3]=0,t[4]=h-y,t[5]=1-(l+m),t[6]=p+g,t[7]=0,t[8]=f+v,t[9]=p-g,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},Ht.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,d=i*s,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-p,t[1]=l+v,t[2]=f-g,t[3]=0,t[4]=l-v,t[5]=1-c-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ht.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t},Ht.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},Ht.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t},Ht.lookAt=function(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,p=e[0],m=e[1],g=e[2],v=r[0],y=r[1],_=r[2],b=n[0],x=n[1],w=n[2];return Math.abs(p-b)<K&&Math.abs(m-x)<K&&Math.abs(g-w)<K?Ht.identity(t):(l=p-b,h=m-x,f=g-w,d=1/Math.sqrt(l*l+h*h+f*f),l*=d,h*=d,f*=d,i=y*f-_*h,o=_*l-v*f,a=v*h-y*l,d=Math.sqrt(i*i+o*o+a*a),d?(d=1/d,i*=d,o*=d,a*=d):(i=0,o=0,a=0),s=h*a-f*o,u=f*i-l*a,c=l*o-h*i,d=Math.sqrt(s*s+u*u+c*c),d?(d=1/d,s*=d,u*=d,c*=d):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*p+o*m+a*g),t[13]=-(s*p+u*m+c*g),t[14]=-(l*p+h*m+f*g),t[15]=1,t)},Ht.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))};var Gt=Ht,Vt={create:function(){var t=new J(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new J(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,n){var r=new J(3);return r[0]=t,r[1]=e,r[2]=n,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};Vt.sub=Vt.subtract,Vt.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},Vt.mul=Vt.multiply,Vt.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},Vt.div=Vt.divide,Vt.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},Vt.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},Vt.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},Vt.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},Vt.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},Vt.dist=Vt.distance,Vt.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},Vt.sqrDist=Vt.squaredDistance,Vt.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},Vt.len=Vt.length,Vt.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},Vt.sqrLen=Vt.squaredLength,Vt.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},Vt.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},Vt.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},Vt.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},Vt.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},Vt.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},Vt.random=function(t,e){e=e||1;var n=2*Q()*Math.PI,r=2*Q()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},Vt.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},Vt.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},Vt.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,h=c*i+u*r-a*o,f=c*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=l*c+d*-a+h*-u-f*-s,t[1]=h*c+d*-s+f*-a-l*-u,t[2]=f*c+d*-u+l*-s-h*-a,t},Vt.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},Vt.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},Vt.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},Vt.forEach=function(){var t=Vt.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),Vt.angle=function(t,e){var n=Vt.fromValues(t[0],t[1],t[2]),r=Vt.fromValues(e[0],e[1],e[2]);Vt.normalize(n,n),Vt.normalize(r,r);var i=Vt.dot(n,r);return i>1?0:Math.acos(i)};var Wt=Vt;zt["import"](Ut);var qt=Gt.create,Xt={};function Yt(t){return t.material}function $t(t,e,n){return e.uniforms[n].value}function Zt(t,e,n,r){return n!==r}function Kt(t){return!0}function Jt(){}var Qt={float:w.FLOAT,byte:w.BYTE,ubyte:w.UNSIGNED_BYTE,short:w.SHORT,ushort:w.UNSIGNED_SHORT};function te(t,e,n){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=n,this.vao=null}function ee(t){var e,n;this.bind=function(t){e||(e=T["a"].createCanvas(),e.width=e.height=1,e.getContext("2d"));var r=t.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)},this.unbind=function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var ne=v.extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=T["a"].createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new x(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(n){throw"Error creating WebGL Context "+n}this._programMgr=new bt(this),this._placeholderTexture=new ee(this)}),{resize:function(t,e){var n=this.canvas,r=this.devicePixelRatio;null!=t?(n.style&&(n.style.width=t+"px",n.style.height=e+"px"),n.width=t*r,n.height=e*r,this._width=t,this._height=e):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,n,r,i){if("object"===typeof t){var o=t;t=o.x,e=o.y,n=o.width,r=o.height,i=o.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(t*i,e*i,n*i,r*i),this.viewport={x:t,y:e,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,n,r){var i=this.gl,o=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var a=this.viewport,s=!1,u=a.devicePixelRatio;(a.width!==this._width||a.height!==this._height||u&&u!==this.devicePixelRatio||a.x||a.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(a.x*u,a.y*u,a.width*u,a.height*u)),i.clearColor(o[0],o[1],o[2],o[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||t.update(!1),t.updateLights(),e=e||t.getMainCamera(),e){e.update();var c=t.updateRenderList(e,!0);this._sceneRendering=t;var l=c.opaque,h=c.transparent,f=t.material;t.trigger("beforerender",this,t,e,c),r?(this.renderPreZ(l,t,e),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var d=qt(),p=Wt.create(),m=0;m<h.length;m++){var g=h[m];Gt.multiplyAffine(d,e.viewMatrix.array,g.worldTransform.array),Wt.transformMat4(p,g.position.array,d),g.__depth=p[2]}this.renderPass(l,e,{getMaterial:function(t){return f||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(h,e,{getMaterial:function(t){return f||t.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,c),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(t,e,n){return e=e||t.material,this._programMgr.getProgram(t,e,n)},validateProgram:function(t){if(t.__error){var e=t.__error;if(Xt[t.__uid__])return;if(Xt[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,n){var r=n&&n.getMaterial||Yt;e=e||null;for(var i=0;i<t.length;i++){var o=t[i],a=r.call(this,o);if(i>0){var s=t[i-1],u=s.joints?s.joints.length:0,c=o.joints?o.joints.length:0;if(c===u&&o.material===s.material&&o.lightGroup===s.lightGroup){o.__program=s.__program;continue}}var l=this._programMgr.getProgram(o,a,e);this.validateProgram(l),o.__program=l}},renderPass:function(t,e,n){this.trigger("beforerenderpass",this,t,e,n),n=n||{},n.getMaterial=n.getMaterial||Yt,n.getUniform=n.getUniform||$t,n.isMaterialChanged=n.isMaterialChanged||Zt,n.beforeRender=n.beforeRender||Jt,n.afterRender=n.afterRender||Jt;var r=n.ifRender||Kt;this.updatePrograms(t,this._sceneRendering,n),n.sortCompare&&t.sort(n.sortCompare);var i=this.viewport,o=i.devicePixelRatio,a=[i.x*o,i.y*o,i.width*o,i.height*o],s=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],c=[a[2],a[3]],l=Date.now();e?(Gt.copy(re.VIEW,e.viewMatrix.array),Gt.copy(re.PROJECTION,e.projectionMatrix.array),Gt.copy(re.VIEWINVERSE,e.worldTransform.array)):(Gt.identity(re.VIEW),Gt.identity(re.PROJECTION),Gt.identity(re.VIEWINVERSE)),Gt.multiply(re.VIEWPROJECTION,re.PROJECTION,re.VIEW),Gt.invert(re.PROJECTIONINVERSE,re.PROJECTION),Gt.invert(re.VIEWPROJECTIONINVERSE,re.VIEWPROJECTION);for(var h,f,d,p,m,g,v,y,_,b,x,w,T=this.gl,S=this._sceneRendering,O=null,M=0;M<t.length;M++){var E,A=t[M],C=null!=A.worldTransform;if(r(A)){C&&(E=A.isSkinnedMesh&&A.isSkinnedMesh()?A.offsetMatrix?A.offsetMatrix.array:re.IDENTITY:A.worldTransform.array);var D=A.geometry,L=n.getMaterial.call(this,A),I=A.__program,P=L.shader,R=D.__uid__+"-"+I.__uid__,N=R!==b;b=R,N&&O&&O.bindVertexArrayOES(null),C&&(Gt.copy(re.WORLD,E),Gt.multiply(re.WORLDVIEWPROJECTION,re.VIEWPROJECTION,E),Gt.multiplyAffine(re.WORLDVIEW,re.VIEW,E),(P.matrixSemantics.WORLDINVERSE||P.matrixSemantics.WORLDINVERSETRANSPOSE)&&Gt.invert(re.WORLDINVERSE,E),(P.matrixSemantics.WORLDVIEWINVERSE||P.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&Gt.invert(re.WORLDVIEWINVERSE,re.WORLDVIEW),(P.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||P.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&Gt.invert(re.WORLDVIEWPROJECTIONINVERSE,re.WORLDVIEWPROJECTION)),A.beforeRender&&A.beforeRender(this),n.beforeRender.call(this,A,L,h);var k=I!==f;k?(I.bind(this),I.setUniformOfSemantic(T,"VIEWPORT",a),I.setUniformOfSemantic(T,"WINDOW_SIZE",u),e&&(I.setUniformOfSemantic(T,"NEAR",e.near),I.setUniformOfSemantic(T,"FAR",e.far)),I.setUniformOfSemantic(T,"DEVICEPIXELRATIO",o),I.setUniformOfSemantic(T,"TIME",l),I.setUniformOfSemantic(T,"VIEWPORT_SIZE",c),S&&S.setLightUniforms(I,A.lightGroup,this)):I=f,(k||n.isMaterialChanged(A,d,L,h))&&(L.depthTest!==p&&(L.depthTest?T.enable(T.DEPTH_TEST):T.disable(T.DEPTH_TEST),p=L.depthTest),L.depthMask!==m&&(T.depthMask(L.depthMask),m=L.depthMask),L.transparent!==_&&(L.transparent?T.enable(T.BLEND):T.disable(T.BLEND),_=L.transparent),L.transparent&&(L.blend?L.blend(T):(T.blendEquationSeparate(T.FUNC_ADD,T.FUNC_ADD),T.blendFuncSeparate(T.SRC_ALPHA,T.ONE_MINUS_SRC_ALPHA,T.ONE,T.ONE_MINUS_SRC_ALPHA))),w=this._bindMaterial(A,L,I,d||null,h||null,f||null,n.getUniform),h=L);var j=P.matrixSemanticKeys;if(C)for(var F=0;F<j.length;F++){var B=j[F],z=P.matrixSemantics[B],U=re[B];if(z.isTranspose){var H=re[z.semanticNoTranspose];Gt.transpose(U,H)}I.setUniform(T,z.type,z.symbol,U)}A.cullFace!==v&&(v=A.cullFace,T.cullFace(v)),A.frontFace!==y&&(y=A.frontFace,T.frontFace(y)),A.culling!==g&&(g=A.culling,g?T.enable(T.CULL_FACE):T.disable(T.CULL_FACE)),this._updateSkeleton(A,I,w),N&&(x=this._bindVAO(O,P,D,I)),this._renderObject(A,x,I),n.afterRender(this,A),A.afterRender&&A.afterRender(this),f=I,d=A}}O&&O.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,t,e,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(t,e,n){var r=this.gl,i=t.skeleton;if(i)if(i.update(),t.joints.length>this.getMaxJointNumber()){var o=i.getSubSkinMatricesTexture(t.__uid__,t.joints);e.useTextureSlot(this,o,n),e.setUniform(r,"1i","skinMatricesTexture",n),e.setUniform(r,"1f","skinMatricesTextureSize",o.width)}else{var a=i.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(r,"SKIN_MATRIX",a)}},_renderObject:function(t,e,n){var r=this.gl,i=t.geometry,o=t.mode;null==o&&(o=4);var a=null,s=t.isInstancedMesh&&t.isInstancedMesh();if(!s||(a=this.getGLExtension("ANGLE_instanced_arrays"),a)){var u;if(s&&(u=this._bindInstancedAttributes(t,n,a)),e.indicesBuffer){var c=this.getGLExtension("OES_element_index_uint"),l=c&&i.indices instanceof Uint32Array,h=l?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?a.drawElementsInstancedANGLE(o,e.indicesBuffer.count,h,0,t.getInstanceCount()):r.drawElements(o,e.indicesBuffer.count,h,0)}else s?a.drawArraysInstancedANGLE(o,0,i.vertexCount,t.getInstanceCount()):r.drawArrays(o,0,i.vertexCount);if(s)for(var f=0;f<u.length;f++)r.disableVertexAttribArray(u[f])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(t,e,n){for(var r=this.gl,i=t.getInstancedAttributesBuffers(this),o=[],a=0;a<i.length;a++){var s=i[a],u=e.getAttribLocation(r,s.symbol);if(!(u<0)){var c=Qt[s.type]||r.FLOAT;r.enableVertexAttribArray(u),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(u,s.size,c,!1,0,0),n.vertexAttribDivisorANGLE(u,s.divisor),o.push(u)}}return o},_bindMaterial:function(t,e,n,r,i,o,a){for(var s=this.gl,u=o===n,c=n.currentTextureSlot(),l=e.getEnabledUniforms(),h=e.getTextureUniforms(),f=this._placeholderTexture,d=0;d<h.length;d++){var p=h[d],m=a(t,e,p),g=e.uniforms[p].type;if("t"===g&&m)m.__slot=-1;else if("tv"===g)for(var v=0;v<m.length;v++)m[v]&&(m[v].__slot=-1)}f.__slot=-1;for(d=0;d<l.length;d++){p=l[d];var y=e.uniforms[p],_=(m=a(t,e,p),g=y.type,"t"===g);if(_&&(m&&m.isRenderable()||(m=f)),i&&u){var b=a(r,i,p);if(_&&(b&&b.isRenderable()||(b=f)),b===m){if(_)n.takeCurrentTextureSlot(this,null);else if("tv"===g&&m)for(v=0;v<m.length;v++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=m)if(_)if(m.__slot<0){var x=n.currentTextureSlot(),w=n.setUniform(s,"1i",p,x);w&&(n.takeCurrentTextureSlot(this,m),m.__slot=x)}else n.setUniform(s,"1i",p,m.__slot);else if(Array.isArray(m)){if(0===m.length)continue;if("tv"===g){if(!n.hasUniform(p))continue;var T=[];for(v=0;v<m.length;v++){var S=m[v];if(S.__slot<0){x=n.currentTextureSlot();T.push(x),n.takeCurrentTextureSlot(this,S),S.__slot=x}else T.push(S.__slot)}n.setUniform(s,"1iv",p,T)}else n.setUniform(s,y.type,p,m)}else n.setUniform(s,y.type,p,m)}var O=n.currentTextureSlot();return n.resetTextureSlot(c),O},_bindVAO:function(t,e,n,r){var i=!n.dynamic,o=this.gl,a=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[a];if(!s){var u=n.getBufferChunks(this);if(!u||!u.length)return;for(var c=u[0],l=c.attributeBuffers,h=c.indicesBuffer,f=[],d=[],p=0;p<l.length;p++){var m,g=l[p],v=g.name,y=g.semantic;if(y){var _=e.attributeSemantics[y];m=_&&_.symbol}else m=v;m&&r.attributes[m]&&(f.push(g),d.push(m))}s=new te(f,d,h),i&&(n.__vaoCache[a]=s)}var b=!0;t&&i&&(null==s.vao?s.vao=t.createVertexArrayOES():b=!1,t.bindVertexArrayOES(s.vao));f=s.availableAttributes,h=s.indicesBuffer;if(b){var x=r.enableAttributes(this,s.availableAttributeSymbols,t&&i&&s);for(p=0;p<f.length;p++){var w=x[p];if(-1!==w){g=f[p];var T=g.buffer,S=g.size,O=Qt[g.type]||o.FLOAT;o.bindBuffer(o.ARRAY_BUFFER,T),o.vertexAttribPointer(w,S,O,!1,0,0)}}n.isUseIndices()&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,h.buffer)}return s},renderPreZ:function(t,e,n){var r=this.gl,i=this._prezMaterial||new Z({shader:new zt(zt.source("clay.prez.vertex"),zt.source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(t,n,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(t,e,n){if("alphaMap"===n)return t.material.get("diffuseMap");if("alphaCutoff"===n){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var r=t.material.get("alphaCutoff");return r||0}return 0}return"uvRepeat"===n?t.material.get("uvRepeat"):"uvOffset"===n?t.material.get("uvOffset"):e.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,n){t.getParent()&&t.getParent().remove(t);var r={};t.traverse((function(t){var i=t.material;if(t.geometry&&e&&t.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var o=i.getTextureUniforms(),a=0;a<o.length;a++){var s=o[a],u=i.uniforms[s].value,c=i.uniforms[s].type;if(u)if("t"===c)u.dispose&&u.dispose(this);else if("tv"===c)for(var l=0;l<u.length;l++)u[l]&&u[l].dispose&&u[l].dispose(this)}r[i.__uid__]=!0}t.dispose&&t.dispose(this)}),this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,n){n||(n=new it),e=this._height-e;var r=this.viewport,i=n.array;return i[0]=(t-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(e-r.y)/r.height,i[1]=2*i[1]-1,n}});ne.opaqueSortCompare=ne.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},ne.transparentSortCompare=ne.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var re={IDENTITY:qt(),WORLD:qt(),VIEW:qt(),PROJECTION:qt(),WORLDVIEW:qt(),VIEWPROJECTION:qt(),WORLDVIEWPROJECTION:qt(),WORLDINVERSE:qt(),VIEWINVERSE:qt(),PROJECTIONINVERSE:qt(),WORLDVIEWINVERSE:qt(),VIEWPROJECTIONINVERSE:qt(),WORLDVIEWPROJECTIONINVERSE:qt(),WORLDTRANSPOSE:qt(),VIEWTRANSPOSE:qt(),PROJECTIONTRANSPOSE:qt(),WORLDVIEWTRANSPOSE:qt(),VIEWPROJECTIONTRANSPOSE:qt(),WORLDVIEWPROJECTIONTRANSPOSE:qt(),WORLDINVERSETRANSPOSE:qt(),VIEWINVERSETRANSPOSE:qt(),PROJECTIONINVERSETRANSPOSE:qt(),WORLDVIEWINVERSETRANSPOSE:qt(),VIEWPROJECTIONINVERSETRANSPOSE:qt(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:qt()};ne.COLOR_BUFFER_BIT=w.COLOR_BUFFER_BIT,ne.DEPTH_BUFFER_BIT=w.DEPTH_BUFFER_BIT,ne.STENCIL_BUFFER_BIT=w.STENCIL_BUFFER_BIT;var ie=ne,oe=function(t,e,n){t=t||0,e=e||0,n=n||0,this.array=Wt.fromValues(t,e,n),this._dirty=!0};oe.prototype={constructor:oe,add:function(t){return Wt.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new oe(this.x,this.y,this.z)},copy:function(t){return Wt.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return Wt.cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return Wt.dist(this.array,t.array)},distance:function(t){return Wt.distance(this.array,t.array)},div:function(t){return Wt.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return Wt.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return Wt.dot(this.array,t.array)},len:function(){return Wt.len(this.array)},length:function(){return Wt.length(this.array)},lerp:function(t,e,n){return Wt.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return Wt.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return Wt.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return Wt.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return Wt.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return Wt.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Wt.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return Wt.random(this.array,t),this._dirty=!0,this},scale:function(t){return Wt.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return Wt.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return Wt.sqrDist(this.array,t.array)},squaredDistance:function(t){return Wt.squaredDistance(this.array,t.array)},sqrLen:function(){return Wt.sqrLen(this.array)},squaredLength:function(){return Wt.squaredLength(this.array)},sub:function(t){return Wt.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return Wt.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return Wt.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return Wt.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return Wt.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(t=t.array,0===t[15]){var n=-1/e[2];e[0]=t[0]*e[0]*n,e[1]=t[5]*e[1]*n,e[2]=(t[10]*e[2]+t[14])*n}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){oe.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){oe.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var ae=Object.defineProperty;if(ae){var se=oe.prototype;ae(se,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),ae(se,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),ae(se,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}function ue(t,e,n){return t<e?e:t>n?n:t}oe.add=function(t,e,n){return Wt.add(t.array,e.array,n.array),t._dirty=!0,t},oe.set=function(t,e,n,r){Wt.set(t.array,e,n,r),t._dirty=!0},oe.copy=function(t,e){return Wt.copy(t.array,e.array),t._dirty=!0,t},oe.cross=function(t,e,n){return Wt.cross(t.array,e.array,n.array),t._dirty=!0,t},oe.dist=function(t,e){return Wt.distance(t.array,e.array)},oe.distance=oe.dist,oe.div=function(t,e,n){return Wt.divide(t.array,e.array,n.array),t._dirty=!0,t},oe.divide=oe.div,oe.dot=function(t,e){return Wt.dot(t.array,e.array)},oe.len=function(t){return Wt.length(t.array)},oe.lerp=function(t,e,n,r){return Wt.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},oe.min=function(t,e,n){return Wt.min(t.array,e.array,n.array),t._dirty=!0,t},oe.max=function(t,e,n){return Wt.max(t.array,e.array,n.array),t._dirty=!0,t},oe.mul=function(t,e,n){return Wt.multiply(t.array,e.array,n.array),t._dirty=!0,t},oe.multiply=oe.mul,oe.negate=function(t,e){return Wt.negate(t.array,e.array),t._dirty=!0,t},oe.normalize=function(t,e){return Wt.normalize(t.array,e.array),t._dirty=!0,t},oe.random=function(t,e){return Wt.random(t.array,e),t._dirty=!0,t},oe.scale=function(t,e,n){return Wt.scale(t.array,e.array,n),t._dirty=!0,t},oe.scaleAndAdd=function(t,e,n,r){return Wt.scaleAndAdd(t.array,e.array,n.array,r),t._dirty=!0,t},oe.sqrDist=function(t,e){return Wt.sqrDist(t.array,e.array)},oe.squaredDistance=oe.sqrDist,oe.sqrLen=function(t){return Wt.sqrLen(t.array)},oe.squaredLength=oe.sqrLen,oe.sub=function(t,e,n){return Wt.subtract(t.array,e.array,n.array),t._dirty=!0,t},oe.subtract=oe.sub,oe.transformMat3=function(t,e,n){return Wt.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},oe.transformMat4=function(t,e,n){return Wt.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},oe.transformQuat=function(t,e,n){return Wt.transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var ce=Math.atan2,le=Math.asin,he=Math.abs;oe.eulerFromQuat=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=e[0],o=e[1],a=e[2],s=e[3],u=i*i,c=o*o,l=a*a,h=s*s;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=ce(2*(i*s-o*a),h-u-c+l),r[1]=le(ue(2*(i*a+o*s),-1,1)),r[2]=ce(2*(a*s-i*o),h+u-c-l);break;case"YXZ":r[0]=le(ue(2*(i*s-o*a),-1,1)),r[1]=ce(2*(i*a+o*s),h-u-c+l),r[2]=ce(2*(i*o+a*s),h-u+c-l);break;case"ZXY":r[0]=le(ue(2*(i*s+o*a),-1,1)),r[1]=ce(2*(o*s-a*i),h-u-c+l),r[2]=ce(2*(a*s-i*o),h-u+c-l);break;case"ZYX":r[0]=ce(2*(i*s+a*o),h-u-c+l),r[1]=le(ue(2*(o*s-i*a),-1,1)),r[2]=ce(2*(i*o+a*s),h+u-c-l);break;case"YZX":r[0]=ce(2*(i*s-a*o),h-u+c-l),r[1]=ce(2*(o*s-i*a),h+u-c-l),r[2]=le(ue(2*(i*o+a*s),-1,1));break;case"XZY":r[0]=ce(2*(i*s+o*a),h-u+c-l),r[1]=ce(2*(i*a+o*s),h+u-c-l),r[2]=le(ue(2*(a*s-i*o),-1,1));break;default:console.warn("Unkown order: "+n)}return t},oe.eulerFromMat3=function(t,e,n){var r=e.array,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7],l=r[2],h=r[5],f=r[8],d=t.array;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":d[1]=le(ue(a,-1,1)),he(a)<.99999?(d[0]=ce(-c,f),d[2]=ce(-o,i)):(d[0]=ce(h,u),d[2]=0);break;case"YXZ":d[0]=le(-ue(c,-1,1)),he(c)<.99999?(d[1]=ce(a,f),d[2]=ce(s,u)):(d[1]=ce(-l,i),d[2]=0);break;case"ZXY":d[0]=le(ue(h,-1,1)),he(h)<.99999?(d[1]=ce(-l,f),d[2]=ce(-o,u)):(d[1]=0,d[2]=ce(s,i));break;case"ZYX":d[1]=le(-ue(l,-1,1)),he(l)<.99999?(d[0]=ce(h,f),d[2]=ce(s,i)):(d[0]=0,d[2]=ce(-o,u));break;case"YZX":d[2]=le(ue(s,-1,1)),he(s)<.99999?(d[0]=ce(-c,u),d[1]=ce(-l,i)):(d[0]=0,d[1]=ce(a,f));break;case"XZY":d[2]=le(-ue(o,-1,1)),he(o)<.99999?(d[0]=ce(h,u),d[1]=ce(a,i)):(d[0]=ce(-c,f),d[1]=0);break;default:console.warn("Unkown order: "+n)}return t._dirty=!0,t},Object.defineProperties(oe,{POSITIVE_X:{get:function(){return new oe(1,0,0)}},NEGATIVE_X:{get:function(){return new oe(-1,0,0)}},POSITIVE_Y:{get:function(){return new oe(0,1,0)}},NEGATIVE_Y:{get:function(){return new oe(0,-1,0)}},POSITIVE_Z:{get:function(){return new oe(0,0,1)}},NEGATIVE_Z:{get:function(){return new oe(0,0,-1)}},UP:{get:function(){return new oe(0,1,0)}},ZERO:{get:function(){return new oe}}});var fe=oe,de=1e-5,pe=function(t,e){this.origin=t||new fe,this.direction=e||new fe};pe.prototype={constructor:pe,intersectPlane:function(t,e){var n=t.normal.array,r=t.distance,i=this.origin.array,o=this.direction.array,a=Wt.dot(n,o);if(0===a)return null;e||(e=new fe);var s=(Wt.dot(n,i)-r)/a;return Wt.scaleAndAdd(e.array,i,o,-s),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=Wt.dot(t.normal.array,this.direction.array);Wt.scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:function(){var t=Wt.create();return function(e){Wt.sub(t,e,this.origin.array);var n=Wt.dot(t,this.direction.array);if(n<0)return Wt.distance(this.origin.array,e);var r=Wt.lenSquared(t);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var t=Wt.create();return function(e,n,r){var i=this.origin.array,o=this.direction.array;e=e.array,Wt.sub(t,e,i);var a=Wt.dot(t,o),s=Wt.squaredLength(t),u=s-a*a,c=n*n;if(!(u>c)){var l=Math.sqrt(c-u),h=a-l,f=a+l;return r||(r=new fe),h<0?f<0?null:(Wt.scaleAndAdd(r.array,i,o,f),r):(Wt.scaleAndAdd(r.array,i,o,h),r)}}}(),intersectBoundingBox:function(t,e){var n,r,i,o,a,s,u=this.direction.array,c=this.origin.array,l=t.min.array,h=t.max.array,f=1/u[0],d=1/u[1],p=1/u[2];if(f>=0?(n=(l[0]-c[0])*f,r=(h[0]-c[0])*f):(r=(l[0]-c[0])*f,n=(h[0]-c[0])*f),d>=0?(i=(l[1]-c[1])*d,o=(h[1]-c[1])*d):(o=(l[1]-c[1])*d,i=(h[1]-c[1])*d),n>o||i>r)return null;if((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),p>=0?(a=(l[2]-c[2])*p,s=(h[2]-c[2])*p):(s=(l[2]-c[2])*p,a=(h[2]-c[2])*p),n>s||a>r)return null;if((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0)return null;var m=n>=0?n:r;return e||(e=new fe),Wt.scaleAndAdd(e.array,c,u,m),e},intersectTriangle:function(){var t=Wt.create(),e=Wt.create(),n=Wt.create(),r=Wt.create();return function(i,o,a,s,u,c){var l=this.direction.array,h=this.origin.array;i=i.array,o=o.array,a=a.array,Wt.sub(t,o,i),Wt.sub(e,a,i),Wt.cross(r,e,l);var f=Wt.dot(t,r);if(s){if(f>-de)return null}else if(f>-de&&f<de)return null;Wt.sub(n,h,i);var d=Wt.dot(r,n)/f;if(d<0||d>1)return null;Wt.cross(r,t,n);var p=Wt.dot(l,r)/f;if(p<0||p>1||d+p>1)return null;Wt.cross(r,t,e);var m=-Wt.dot(n,r)/f;return m<0?null:(u||(u=new fe),c&&fe.set(c,1-d-p,d,p),Wt.scaleAndAdd(u.array,h,l,m),u)}}(),applyTransform:function(t){fe.add(this.direction,this.direction,this.origin),fe.transformMat4(this.origin,this.origin,t),fe.transformMat4(this.direction,this.direction,t),fe.sub(this.direction,this.direction,this.origin),fe.normalize(this.direction,this.direction)},copy:function(t){fe.copy(this.origin,t.origin),fe.copy(this.direction,t.direction)},clone:function(){var t=new pe;return t.copy(this),t}};var me=pe,ge={create:function(){var t=new J(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new J(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,r){var i=new J(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};ge.sub=ge.subtract,ge.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},ge.mul=ge.multiply,ge.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},ge.div=ge.divide,ge.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},ge.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},ge.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},ge.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},ge.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},ge.dist=ge.distance,ge.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},ge.sqrDist=ge.squaredDistance,ge.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},ge.len=ge.length,ge.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},ge.sqrLen=ge.squaredLength,ge.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},ge.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},ge.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a),t},ge.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},ge.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},ge.random=function(t,e){return e=e||1,t[0]=Q(),t[1]=Q(),t[2]=Q(),t[3]=Q(),ge.normalize(t,t),ge.scale(t,t,e),t},ge.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},ge.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,h=c*i+u*r-a*o,f=c*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=l*c+d*-a+h*-u-f*-s,t[1]=h*c+d*-s+f*-a-l*-u,t[2]=f*c+d*-u+l*-s-h*-a,t},ge.forEach=function(){var t=ge.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();var ve=ge,ye={create:function(){var t=new J(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new J(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},multiply:function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1],p=n[2],m=n[3],g=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*l,t[2]=f*o+d*u+p*h,t[3]=m*r+g*a+v*c,t[4]=m*i+g*s+v*l,t[5]=m*o+g*u+v*h,t[6]=y*r+_*a+b*c,t[7]=y*i+_*s+b*l,t[8]=y*o+_*u+b*h,t}};ye.mul=ye.multiply,ye.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+l,t[8]=f*o+d*u+h,t},ye.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=l,t[8]=h,t},ye.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},ye.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},ye.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,d=i*s,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-p,t[3]=l-v,t[6]=f+g,t[1]=l+v,t[4]=1-c-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-c-h,t},ye.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,_=n*u-i*a,b=n*c-o*a,x=r*u-i*s,w=r*c-o*s,T=i*c-o*u,S=l*m-h*p,O=l*g-f*p,M=l*v-d*p,E=h*g-f*m,A=h*v-d*m,C=f*v-d*g,D=y*C-_*A+b*E+x*M-w*O+T*S;return D?(D=1/D,t[0]=(s*C-u*A+c*E)*D,t[1]=(u*M-a*C-c*O)*D,t[2]=(a*A-s*M+c*S)*D,t[3]=(i*A-r*C-o*E)*D,t[4]=(n*C-i*M+o*O)*D,t[5]=(r*M-n*A-o*S)*D,t[6]=(m*T-g*w+v*x)*D,t[7]=(g*b-p*T-v*_)*D,t[8]=(p*w-m*b+v*y)*D,t):null},ye.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))};var _e=ye,be={create:function(){var t=new J(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};be.rotationTo=function(){var t=Wt.create(),e=Wt.fromValues(1,0,0),n=Wt.fromValues(0,1,0);return function(r,i,o){var a=Wt.dot(i,o);return a<-.999999?(Wt.cross(t,e,i),Wt.length(t)<1e-6&&Wt.cross(t,n,i),Wt.normalize(t,t),be.setAxisAngle(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Wt.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,be.normalize(r,r))}}(),be.setAxes=function(){var t=_e.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],be.normalize(e,be.fromMat3(e,t))}}(),be.clone=ve.clone,be.fromValues=ve.fromValues,be.copy=ve.copy,be.set=ve.set,be.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},be.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},be.add=ve.add,be.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+a*s+i*c-o*u,t[1]=i*l+a*u+o*s-r*c,t[2]=o*l+a*c+r*u-i*s,t[3]=a*l-r*s-i*u-o*c,t},be.mul=be.multiply,be.scale=ve.scale,be.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},be.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},be.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},be.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},be.dot=ve.dot,be.lerp=ve.lerp,be.slerp=function(t,e,n,r){var i,o,a,s,u,c=e[0],l=e[1],h=e[2],f=e[3],d=n[0],p=n[1],m=n[2],g=n[3];return o=c*d+l*p+h*m+f*g,o<0&&(o=-o,d=-d,p=-p,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*c+u*d,t[1]=s*l+u*p,t[2]=s*h+u*m,t[3]=s*f+u*g,t},be.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},be.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},be.length=ve.length,be.len=be.length,be.squaredLength=ve.squaredLength,be.sqrLen=be.squaredLength,be.normalize=ve.normalize,be.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t};var xe=be,we=function(){this._axisX=new fe,this._axisY=new fe,this._axisZ=new fe,this.array=Gt.create(),this._dirty=!0};we.prototype={constructor:we,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return Gt.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new we).copy(this)},copy:function(t){return Gt.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return Gt.determinant(this.array)},fromQuat:function(t){return Gt.fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return Gt.fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return we.fromMat2d(this,t),this},frustum:function(t,e,n,r,i,o){return Gt.frustum(this.array,t,e,n,r,i,o),this._dirty=!0,this},identity:function(){return Gt.identity(this.array),this._dirty=!0,this},invert:function(){return Gt.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,n){return Gt.lookAt(this.array,t.array,e.array,n.array),this._dirty=!0,this},mul:function(t){return Gt.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return Gt.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return Gt.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return Gt.multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,n,r,i,o){return Gt.ortho(this.array,t,e,n,r,i,o),this._dirty=!0,this},perspective:function(t,e,n,r){return Gt.perspective(this.array,t,e,n,r),this._dirty=!0,this},rotate:function(t,e){return Gt.rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return Gt.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return Gt.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return Gt.rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return Gt.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return Gt.translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return Gt.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var t=Wt.create(),e=Wt.create(),n=Wt.create(),r=_e.create();return function(i,o,a){var s=this.array;Wt.set(t,s[0],s[1],s[2]),Wt.set(e,s[4],s[5],s[6]),Wt.set(n,s[8],s[9],s[10]);var u=Wt.length(t),c=Wt.length(e),l=Wt.length(n),h=this.determinant();h<0&&(u=-u),i&&i.set(u,c,l),a.set(s[12],s[13],s[14]),_e.fromMat4(r,s),r[0]/=u,r[1]/=u,r[2]/=u,r[3]/=c,r[4]/=c,r[5]/=c,r[6]/=l,r[7]/=l,r[8]/=l,xe.fromMat3(o.array,r),xe.normalize(o.array,o.array),o._dirty=!0,a._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Te=Object.defineProperty;if(Te){var Se=we.prototype;Te(Se,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),Te(Se,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),Te(Se,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}we.adjoint=function(t,e){return Gt.adjoint(t.array,e.array),t._dirty=!0,t},we.copy=function(t,e){return Gt.copy(t.array,e.array),t._dirty=!0,t},we.determinant=function(t){return Gt.determinant(t.array)},we.identity=function(t){return Gt.identity(t.array),t._dirty=!0,t},we.ortho=function(t,e,n,r,i,o,a){return Gt.ortho(t.array,e,n,r,i,o,a),t._dirty=!0,t},we.perspective=function(t,e,n,r,i){return Gt.perspective(t.array,e,n,r,i),t._dirty=!0,t},we.lookAt=function(t,e,n,r){return Gt.lookAt(t.array,e.array,n.array,r.array),t._dirty=!0,t},we.invert=function(t,e){return Gt.invert(t.array,e.array),t._dirty=!0,t},we.mul=function(t,e,n){return Gt.mul(t.array,e.array,n.array),t._dirty=!0,t},we.multiply=we.mul,we.fromQuat=function(t,e){return Gt.fromQuat(t.array,e.array),t._dirty=!0,t},we.fromRotationTranslation=function(t,e,n){return Gt.fromRotationTranslation(t.array,e.array,n.array),t._dirty=!0,t},we.fromMat2d=function(t,e){t._dirty=!0;e=e.array,t=t.array;return t[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},we.rotate=function(t,e,n,r){return Gt.rotate(t.array,e.array,n,r.array),t._dirty=!0,t},we.rotateX=function(t,e,n){return Gt.rotateX(t.array,e.array,n),t._dirty=!0,t},we.rotateY=function(t,e,n){return Gt.rotateY(t.array,e.array,n),t._dirty=!0,t},we.rotateZ=function(t,e,n){return Gt.rotateZ(t.array,e.array,n),t._dirty=!0,t},we.scale=function(t,e,n){return Gt.scale(t.array,e.array,n.array),t._dirty=!0,t},we.transpose=function(t,e){return Gt.transpose(t.array,e.array),t._dirty=!0,t},we.translate=function(t,e,n){return Gt.translate(t.array,e.array,n.array),t._dirty=!0,t};var Oe=we,Me=function(t,e,n,r){t=t||0,e=e||0,n=n||0,r=void 0===r?1:r,this.array=xe.fromValues(t,e,n,r),this._dirty=!0};Me.prototype={constructor:Me,add:function(t){return xe.add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return xe.calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new Me(this.x,this.y,this.z,this.w)},conjugate:function(){return xe.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return xe.copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return xe.dot(this.array,t.array)},fromMat3:function(t){return xe.fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:function(){var t=_e.create();return function(e){return _e.fromMat4(t,e.array),_e.transpose(t,t),xe.fromMat3(this.array,t),this._dirty=!0,this}}(),identity:function(){return xe.identity(this.array),this._dirty=!0,this},invert:function(){return xe.invert(this.array,this.array),this._dirty=!0,this},len:function(){return xe.len(this.array)},length:function(){return xe.length(this.array)},lerp:function(t,e,n){return xe.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},mul:function(t){return xe.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return xe.multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return xe.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return xe.multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return xe.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return xe.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return xe.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return xe.rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return xe.rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,n){return xe.setAxes(this.array,t.array,e.array,n.array),this._dirty=!0,this},setAxisAngle:function(t,e){return xe.setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,n){return xe.slerp(this.array,t.array,e.array,n),this._dirty=!0,this},sqrLen:function(){return xe.sqrLen(this.array)},squaredLength:function(){return xe.squaredLength(this.array)},fromEuler:function(t,e){return Me.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Ee=Object.defineProperty;if(Ee){var Ae=Me.prototype;Ee(Ae,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Ee(Ae,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),Ee(Ae,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),Ee(Ae,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}Me.add=function(t,e,n){return xe.add(t.array,e.array,n.array),t._dirty=!0,t},Me.set=function(t,e,n,r,i){xe.set(t.array,e,n,r,i),t._dirty=!0},Me.copy=function(t,e){return xe.copy(t.array,e.array),t._dirty=!0,t},Me.calculateW=function(t,e){return xe.calculateW(t.array,e.array),t._dirty=!0,t},Me.conjugate=function(t,e){return xe.conjugate(t.array,e.array),t._dirty=!0,t},Me.identity=function(t){return xe.identity(t.array),t._dirty=!0,t},Me.invert=function(t,e){return xe.invert(t.array,e.array),t._dirty=!0,t},Me.dot=function(t,e){return xe.dot(t.array,e.array)},Me.len=function(t){return xe.length(t.array)},Me.lerp=function(t,e,n,r){return xe.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},Me.slerp=function(t,e,n,r){return xe.slerp(t.array,e.array,n.array,r),t._dirty=!0,t},Me.mul=function(t,e,n){return xe.multiply(t.array,e.array,n.array),t._dirty=!0,t},Me.multiply=Me.mul,Me.rotateX=function(t,e,n){return xe.rotateX(t.array,e.array,n),t._dirty=!0,t},Me.rotateY=function(t,e,n){return xe.rotateY(t.array,e.array,n),t._dirty=!0,t},Me.rotateZ=function(t,e,n){return xe.rotateZ(t.array,e.array,n),t._dirty=!0,t},Me.setAxisAngle=function(t,e,n){return xe.setAxisAngle(t.array,e.array,n),t._dirty=!0,t},Me.normalize=function(t,e){return xe.normalize(t.array,e.array),t._dirty=!0,t},Me.sqrLen=function(t){return xe.sqrLen(t.array)},Me.squaredLength=Me.sqrLen,Me.fromMat3=function(t,e){return xe.fromMat3(t.array,e.array),t._dirty=!0,t},Me.setAxes=function(t,e,n,r){return xe.setAxes(t.array,e.array,n.array,r.array),t._dirty=!0,t},Me.rotationTo=function(t,e,n){return xe.rotationTo(t.array,e.array,n.array),t._dirty=!0,t},Me.fromEuler=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=Math.cos(e[0]/2),o=Math.cos(e[1]/2),a=Math.cos(e[2]/2),s=Math.sin(e[0]/2),u=Math.sin(e[1]/2),c=Math.sin(e[2]/2);n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=s*o*a+i*u*c,r[1]=i*u*a-s*o*c,r[2]=i*o*c+s*u*a,r[3]=i*o*a-s*u*c;break;case"YXZ":r[0]=s*o*a+i*u*c,r[1]=i*u*a-s*o*c,r[2]=i*o*c-s*u*a,r[3]=i*o*a+s*u*c;break;case"ZXY":r[0]=s*o*a-i*u*c,r[1]=i*u*a+s*o*c,r[2]=i*o*c+s*u*a,r[3]=i*o*a-s*u*c;break;case"ZYX":r[0]=s*o*a-i*u*c,r[1]=i*u*a+s*o*c,r[2]=i*o*c-s*u*a,r[3]=i*o*a+s*u*c;break;case"YZX":r[0]=s*o*a+i*u*c,r[1]=i*u*a+s*o*c,r[2]=i*o*c-s*u*a,r[3]=i*o*a-s*u*c;break;case"XZY":r[0]=s*o*a-i*u*c,r[1]=i*u*a-s*o*c,r[2]=i*o*c+s*u*a,r[3]=i*o*a+s*u*c;break}};var Ce=Me,De=Wt.set,Le=Wt.copy,Ie=function(t,e){this.min=t||new fe(1/0,1/0,1/0),this.max=e||new fe(-1/0,-1/0,-1/0),this.vertices=null};Ie.prototype={constructor:Ie,updateFromVertices:function(t){if(t.length>0){var e=this.min,n=this.max,r=e.array,i=n.array;Le(r,t[0]),Le(i,t[0]);for(var o=1;o<t.length;o++){var a=t[o];a[0]<r[0]&&(r[0]=a[0]),a[1]<r[1]&&(r[1]=a[1]),a[2]<r[2]&&(r[2]=a[2]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1]),a[2]>i[2]&&(i[2]=a[2])}e._dirty=!0,n._dirty=!0}},union:function(t){var e=this.min,n=this.max;return Wt.min(e.array,e.array,t.min.array),Wt.max(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersection:function(t){var e=this.min,n=this.max;return Wt.max(e.array,e.array,t.min.array),Wt.min(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return!(e[0]>i[0]||e[1]>i[1]||e[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(t){var e=this.min.array,n=this.max.array,r=t.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:function(){var t=Wt.create(),e=Wt.create(),n=Wt.create(),r=Wt.create(),i=Wt.create(),o=Wt.create();return function(a,s){var u=a.min.array,c=a.max.array,l=s.array;return t[0]=l[0]*u[0],t[1]=l[1]*u[0],t[2]=l[2]*u[0],e[0]=l[0]*c[0],e[1]=l[1]*c[0],e[2]=l[2]*c[0],n[0]=l[4]*u[1],n[1]=l[5]*u[1],n[2]=l[6]*u[1],r[0]=l[4]*c[1],r[1]=l[5]*c[1],r[2]=l[6]*c[1],i[0]=l[8]*u[2],i[1]=l[9]*u[2],i[2]=l[10]*u[2],o[0]=l[8]*c[2],o[1]=l[9]*c[2],o[2]=l[10]*c[2],u=this.min.array,c=this.max.array,u[0]=Math.min(t[0],e[0])+Math.min(n[0],r[0])+Math.min(i[0],o[0])+l[12],u[1]=Math.min(t[1],e[1])+Math.min(n[1],r[1])+Math.min(i[1],o[1])+l[13],u[2]=Math.min(t[2],e[2])+Math.min(n[2],r[2])+Math.min(i[2],o[2])+l[14],c[0]=Math.max(t[0],e[0])+Math.max(n[0],r[0])+Math.max(i[0],o[0])+l[12],c[1]=Math.max(t[1],e[1])+Math.max(n[1],r[1])+Math.max(i[1],o[1])+l[13],c[2]=Math.max(t[2],e[2])+Math.max(n[2],r[2])+Math.max(i[2],o[2])+l[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(t){var e=this.min.array,n=this.max.array,r=t.array,i=e[0],o=e[1],a=e[2],s=n[0],u=n[1],c=e[2],l=n[0],h=n[1],f=n[2];if(1===r[15])e[0]=r[0]*i+r[12],e[1]=r[5]*o+r[13],n[2]=r[10]*a+r[14],n[0]=r[0]*l+r[12],n[1]=r[5]*h+r[13],e[2]=r[10]*f+r[14];else{var d=-1/a;e[0]=r[0]*i*d,e[1]=r[5]*o*d,n[2]=(r[10]*a+r[14])*d,d=-1/c,n[0]=r[0]*s*d,n[1]=r[5]*u*d,d=-1/f,e[2]=(r[10]*f+r[14])*d}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=Wt.fromValues(0,0,0);this.vertices=t}var n=this.min.array,r=this.max.array;return De(t[0],n[0],n[1],n[2]),De(t[1],n[0],r[1],n[2]),De(t[2],r[0],n[1],n[2]),De(t[3],r[0],r[1],n[2]),De(t[4],n[0],n[1],r[2]),De(t[5],n[0],r[1],r[2]),De(t[6],r[0],n[1],r[2]),De(t[7],r[0],r[1],r[2]),this},copy:function(t){var e=this.min,n=this.max;return Le(e.array,t.min.array),Le(n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},clone:function(){var t=new Ie;return t.copy(this),t}};var Pe=Ie,Re=0,Ne=v.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+Re++),this.position||(this.position=new fe),this.rotation||(this.rotation=new Ce),this.scale||(this.scale=new fe(1,1,1)),this.worldTransform=new Oe,this.localTransform=new Oe,this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var n=e._nodeRepository;delete n[this.name],n[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var n=this._scene;n&&n!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,n=e.indexOf(t);n<0||(e.splice(n,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){var e=t._parent;while(e){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},getDescendantByName:function(t){for(var e=this._children,n=0;n<e.length;n++){var r=e[n];if(r.name===t)return r;var i=r.getDescendantByName(t);if(i)return i}},queryNode:function(t){if(t){for(var e=t.split("/"),n=this,r=0;r<e.length;r++){var i=e[r];if(i){for(var o=!1,a=n._children,s=0;s<a.length;s++){var u=a[s];if(u.name===i){n=u,o=!0;break}}if(!o)return}}return n}},getPath:function(t){if(!this._parent)return"/";var e=this._parent,n=this.name;while(e._parent){if(n=e.name+"/"+n,e._parent==t)break;e=e._parent}return!e._parent&&t?null:n},traverse:function(t,e){t.call(e,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(t,e)},eachChild:function(t,e){for(var n=this._children,r=0,i=n.length;r<i;r++){var o=n[r];t.call(e,o,r)}},setLocalTransform:function(t){Gt.copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){Gt.copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var t=Gt.create();return function(e){var n=this.localTransform,r=this.worldTransform;this._parent?(Gt.invert(t,this._parent.worldTransform.array),Gt.multiply(n.array,t,r.array)):Gt.copy(n.array,r.array);var i=e?null:this.scale;n.decomposeMatrix(i,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;Gt.fromRotationTranslation(r,e.array,t.array),Gt.scale(r,r,n.array),e._dirty=!1,n._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?Gt.multiplyAffine(e,this._parent.worldTransform.array,t):Gt.copy(e,t)},updateWorldTransform:function(){var t=this;while(t&&t.getParent()&&t.getParent().transformNeedsUpdate())t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].update(t)},getBoundingBox:function(){function t(t){return!t.invisible&&t.geometry}var e=new Pe,n=new Oe,r=new Oe;return function(i,o){return o=o||new Pe,i=i||t,this._parent?Oe.invert(r,this._parent.worldTransform):Oe.identity(r),this.traverse((function(t){t.geometry&&t.geometry.boundingBox&&(e.copy(t.geometry.boundingBox),Oe.multiply(n,r,t.worldTransform),e.applyTransform(n),o.union(e))}),this,t),o}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var n=t.array;return n[0]=e[12],n[1]=e[13],n[2]=e[14],t}return new fe(e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var n=0;n<e.length;n++)t.add(e[n].clone());return t},rotateAround:function(){var t=new fe,e=new Oe;return function(n,r,i){t.copy(this.position).subtract(n);var o=this.localTransform;o.identity(),o.translate(n),o.rotate(i,r),e.fromRotationTranslation(this.rotation,t),o.multiply(e),o.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var t=new Oe;return function(e,n){t.lookAt(this.position,e,n||this.localTransform.y).invert(),this.setLocalTransform(t),this.target=e}}()}),ke=Ne,je=ke.extend({material:null,geometry:null,mode:w.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:w.BACK,frontFace:w.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=ke.prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:function(){var t=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var e=ke.prototype.clone.call(this);e.geometry=this.geometry,e.material=this.material;for(var n=0;n<t.length;n++){var r=t[n];e[r]!==this[r]&&(e[r]=this[r])}return e}}()});je.POINTS=w.POINTS,je.LINES=w.LINES,je.LINE_LOOP=w.LINE_LOOP,je.LINE_STRIP=w.LINE_STRIP,je.TRIANGLES=w.TRIANGLES,je.TRIANGLE_STRIP=w.TRIANGLE_STRIP,je.TRIANGLE_FAN=w.TRIANGLE_FAN,je.BACK=w.BACK,je.FRONT=w.FRONT,je.FRONT_AND_BACK=w.FRONT_AND_BACK,je.CW=w.CW,je.CCW=w.CCW;var Fe=je,Be=v.extend({scene:null,camera:null,renderer:null},(function(){this._ray=new me,this._ndc=new it}),{pick:function(t,e,n){var r=this.pickAll(t,e,[],n);return r[0]||null},pickAll:function(t,e,n,r){return this.renderer.screenToNDC(t,e,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(t,e,n){t instanceof Fe&&t.isRenderable()&&(t.ignorePicking&&!n||!(t.mode===w.TRIANGLES&&t.geometry.isUseIndices()||t.geometry.pickByRay||t.geometry.pick)||this._intersectRenderable(t,e));for(var r=0;r<t._children.length;r++)this._intersectNode(t._children[r],e,n)},_intersectRenderable:function(){var t=new fe,e=new fe,n=new fe,r=new me,i=new Oe;return function(o,a){var s=o.isSkinnedMesh();r.copy(this._ray),Oe.invert(i,o.worldTransform),s||r.applyTransform(i);var u=o.geometry,c=s?o.skeleton.boundingBox:u.boundingBox;if(!c||r.intersectBoundingBox(c))if(u.pick)u.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,o,a);else if(u.pickByRay)u.pickByRay(r,o,a);else{var l,h,f=o.cullFace===w.BACK&&o.frontFace===w.CCW||o.cullFace===w.FRONT&&o.frontFace===w.CW,d=u.indices,p=u.attributes.position,m=u.attributes.weight,g=u.attributes.joint,v=[];if(p&&p.value&&d){if(s){h=o.skeleton.getSubSkinMatrices(o.__uid__,o.joints);for(var y=0;y<o.joints.length;y++){v[y]=v[y]||[];for(var _=0;_<16;_++)v[y][_]=h[16*y+_]}var b=[],x=[],T=[],S=[],O=[],M=u.attributes.skinnedPosition;M&&M.value||(u.createAttribute("skinnedPosition","f",3),M=u.attributes.skinnedPosition,M.init(u.vertexCount));for(y=0;y<u.vertexCount;y++){p.get(y,b),m.get(y,x),g.get(y,T),x[3]=1-x[0]-x[1]-x[2],Wt.set(S,0,0,0);for(_=0;_<4;_++)T[_]>=0&&x[_]>1e-4&&(Wt.transformMat4(O,b,v[T[_]]),Wt.scaleAndAdd(S,S,O,x[_]));M.set(y,S)}}for(y=0;y<d.length;y+=3){var E=d[y],A=d[y+1],C=d[y+2],D=s?u.attributes.skinnedPosition:p;if(D.get(E,t.array),D.get(A,e.array),D.get(C,n.array),l=f?r.intersectTriangle(t,e,n,o.culling):r.intersectTriangle(t,n,e,o.culling),l){var L=new fe;s?fe.copy(L,l):fe.transformMat4(L,l,o.worldTransform),a.push(new Be.Intersection(l,L,o,[E,A,C],y/3,fe.dist(L,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(t,e){return t.distance-e.distance}});Be.Intersection=function(t,e,n,r,i,o){this.point=t,this.pointWorld=e,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=o};var ze=Be,Ue="__dt__",He=function(){this._contextId=0,this._caches=[],this._context={}};He.prototype={use:function(t,e){var n=this._caches;n[t]||(n[t]={},e&&(n[t]=e())),this._contextId=t,this._context=n[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){t=t||"";var e=Ue+t;this.put(e,!0)},dirtyAll:function(t){t=t||"";for(var e=Ue+t,n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][e]=!0)},fresh:function(t){t=t||"";var e=Ue+t;this.put(e,!1)},freshAll:function(t){t=t||"";for(var e=Ue+t,n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][e]=!1)},isDirty:function(t){t=t||"";var e=Ue+t,n=this._context;return!n.hasOwnProperty(e)||!0===n[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){var n=Object.keys(this._caches);n.forEach((function(n){t&&t.call(e,n)}))},miss:function(t){return!this._context.hasOwnProperty(t)}},He.prototype.constructor=He;var Ge=He,Ve=v.extend({width:512,height:512,type:w.UNSIGNED_BYTE,format:w.RGBA,wrapS:w.REPEAT,wrapT:w.REPEAT,minFilter:w.LINEAR_MIPMAP_LINEAR,magFilter:w.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new Ge}),{getWebGLTexture:function(t){var e=t.gl,n=this._cache;return n.use(t.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):n.isDirty()&&(this.update(t),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===w.DEPTH_COMPONENT&&(this.useMipmap=!1);var n=t.getGLExtension("EXT_sRGB");this.format!==Ve.SRGB||n||(this.format=Ve.RGB),this.format!==Ve.SRGB_ALPHA||n||(this.format=Ve.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?w.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?w.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===w.NEAREST_MIPMAP_NEAREST||t===w.NEAREST_MIPMAP_LINEAR?w.NEAREST:t===w.LINEAR_MIPMAP_LINEAR||t===w.LINEAR_MIPMAP_NEAREST?w.LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("webgl_texture");n&&t.gl.deleteTexture(n),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(Ve.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(Ve.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),Ve.BYTE=w.BYTE,Ve.UNSIGNED_BYTE=w.UNSIGNED_BYTE,Ve.SHORT=w.SHORT,Ve.UNSIGNED_SHORT=w.UNSIGNED_SHORT,Ve.INT=w.INT,Ve.UNSIGNED_INT=w.UNSIGNED_INT,Ve.FLOAT=w.FLOAT,Ve.HALF_FLOAT=36193,Ve.UNSIGNED_INT_24_8_WEBGL=34042,Ve.DEPTH_COMPONENT=w.DEPTH_COMPONENT,Ve.DEPTH_STENCIL=w.DEPTH_STENCIL,Ve.ALPHA=w.ALPHA,Ve.RGB=w.RGB,Ve.RGBA=w.RGBA,Ve.LUMINANCE=w.LUMINANCE,Ve.LUMINANCE_ALPHA=w.LUMINANCE_ALPHA,Ve.SRGB=35904,Ve.SRGB_ALPHA=35906,Ve.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,Ve.NEAREST=w.NEAREST,Ve.LINEAR=w.LINEAR,Ve.NEAREST_MIPMAP_NEAREST=w.NEAREST_MIPMAP_NEAREST,Ve.LINEAR_MIPMAP_NEAREST=w.LINEAR_MIPMAP_NEAREST,Ve.NEAREST_MIPMAP_LINEAR=w.NEAREST_MIPMAP_LINEAR,Ve.LINEAR_MIPMAP_LINEAR=w.LINEAR_MIPMAP_LINEAR,Ve.REPEAT=w.REPEAT,Ve.CLAMP_TO_EDGE=w.CLAMP_TO_EDGE,Ve.MIRRORED_REPEAT=w.MIRRORED_REPEAT;var We=Ve,qe=Fe.extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var t=Fe.prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});qe.POINTS=w.POINTS,qe.LINES=w.LINES,qe.LINE_LOOP=w.LINE_LOOP,qe.LINE_STRIP=w.LINE_STRIP,qe.TRIANGLES=w.TRIANGLES,qe.TRIANGLE_STRIP=w.TRIANGLE_STRIP,qe.TRIANGLE_FAN=w.TRIANGLE_FAN,qe.BACK=w.BACK,qe.FRONT=w.FRONT,qe.FRONT_AND_BACK=w.FRONT_AND_BACK,qe.CW=w.CW,qe.CCW=w.CCW;var Xe=qe,Ye={isPowerOfTwo:function(t){return 0===(t&t-1)},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}},$e=Ye,Ze=$e.isPowerOfTwo;function Ke(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function Je(t,e){var n=Ke(t.width),r=Ke(t.height);e=e||document.createElement("canvas"),e.width=n,e.height=r;var i=e.getContext("2d");return i.drawImage(t.image,0,0,n,r),e}var Qe=We.extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type,i=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==We.REPEAT&&this.wrapT!==We.REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i?this.minFilter:this.getAvailableMinFilter());var o=t.getGLExtension("EXT_texture_filter_anisotropic");if(o&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,o.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var a=t.getGLExtension("OES_texture_half_float");a||(r=w.FLOAT)}if(this.mipmaps.length)for(var s=this.width,u=this.height,c=0;c<this.mipmaps.length;c++){var l=this.mipmaps[c];this._updateTextureData(e,l,c,s,u,n,r,!1),s/=2,u/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r,i),!this.useMipmap||this.NPOT&&!i||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,n,r,i,o,a,s){if(e.image){var u=e.image;s&&(this._potCanvas=Je(this,this._potCanvas),u=this._potCanvas),t.texImage2D(t.TEXTURE_2D,n,o,o,a,u)}else o<=We.COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=We.COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,n,o,r,i,0,e.pixels):t.texImage2D(t.TEXTURE_2D,n,o,r,i,0,o,a,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return Ze(this.width)&&Ze(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var n=T["a"].createImage();e&&(n.crossOrigin=e);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r)},n.onerror=function(){r.trigger("error",r)},n.src=t,this.image=n,this}});Object.defineProperty(Qe.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(Qe.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}});var tn=Qe;function en(t){return{byte:T["a"].Int8Array,ubyte:T["a"].Uint8Array,short:T["a"].Int16Array,ushort:T["a"].Uint16Array}[t]||T["a"].Float32Array}function nn(t){return"attr_"+t}function rn(t,e,n,r){switch(this.name=t,this.type=e,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var n=this.value;return e[0]=n[2*t],e[1]=n[2*t+1],e},this.set=function(t,e){var n=this.value;n[2*t]=e[0],n[2*t+1]=e[1]},this.copy=function(t,e){var n=this.value;e*=2,t*=2,n[t]=n[e],n[t+1]=n[e+1]};break;case 3:this.get=function(t,e){var n=3*t,r=this.value;return e[0]=r[n],e[1]=r[n+1],e[2]=r[n+2],e},this.set=function(t,e){var n=3*t,r=this.value;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2]},this.copy=function(t,e){var n=this.value;e*=3,t*=3,n[t]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2]};break;case 4:this.get=function(t,e){var n=this.value,r=4*t;return e[0]=n[r],e[1]=n[r+1],e[2]=n[r+2],e[3]=n[r+3],e},this.set=function(t,e){var n=this.value,r=4*t;n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2],n[r+3]=e[3]},this.copy=function(t,e){var n=this.value;e*=4,t*=4,n[t]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2],n[t+3]=n[e+3]}}}function on(t,e,n,r,i){this.name=t,this.type=e,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function an(t){this.buffer=t,this.count=0}rn.prototype.init=function(t){if(!this.value||this.value.length!==t*this.size){var e=en(this.type);this.value=new e(t*this.size)}},rn.prototype.fromArray=function(t){var e,n=en(this.type);if(t[0]&&t[0].length){var r=0,i=this.size;e=new n(t.length*i);for(var o=0;o<t.length;o++)for(var a=0;a<i;a++)e[r++]=t[o][a]}else e=new n(t);this.value=e},rn.prototype.clone=function(t){var e=new rn(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};var sn=v.extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new Ge,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(nn(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=[]);var n=this.indices;return e[0]=n[3*t],e[1]=n[3*t+1],e[2]=n[3*t+2],e}},setTriangleIndices:function(t,e){var n=this.indices;n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,n=this.vertexCount>65535?T["a"].Uint32Array:T["a"].Uint16Array;if(t[0]&&t[0].length){var r=0,i=3;e=new n(t.length*i);for(var o=0;o<t.length;o++)for(var a=0;a<i;a++)e[r++]=t[o][a]}else e=new n(t);this.indices=e},createAttribute:function(t,e,n,r){var i=new rn(t,e,n,r);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=i,this._attributeList.push(t),i},removeAttribute:function(t){var e=this._attributeList,n=e.indexOf(t);return n>=0&&(e.splice(n,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var n=[],r=this.vertexCount,i=0;i<e.length;i++){var o=e[i],a=this.attributes[o];a.value&&a.value.length===r*a.size&&n.push(o)}return this._enabledAttributes=n,n},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var n=e.isDirty("attributes"),r=e.isDirty("indices");if(n||r){this._updateBuffer(t.gl,n,r);for(var i=this.getEnabledAttributes(),o=0;o<i.length;o++)e.fresh(nn(i[o]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,n){var r=this._cache,i=r.get("chunks"),o=!1;i||(i=[],i[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",i),o=!0);var a=i[0],s=a.attributeBuffers,u=a.indicesBuffer;if(e||o){var c=this.getEnabledAttributes(),l={};if(!o)for(var h=0;h<s.length;h++)l[s[h].name]=s[h];for(var f=0;f<c.length;f++){var d,p,m=c[f],g=this.attributes[m];o||(d=l[m]),p=d?d.buffer:t.createBuffer(),r.isDirty(nn(m))&&(t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,g.value,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW)),s[f]=new on(m,g.type,p,g.size,g.semantic)}for(h=f;h<s.length;h++)t.deleteBuffer(s[h].buffer);s.length=f}this.isUseIndices()&&(n||o)&&(u||(u=new an(t.createBuffer()),a.indicesBuffer=u),u.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=0;o<i.attributeBuffers.length;o++){var a=i.attributeBuffers[o];t.gl.deleteBuffer(a.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var c=this.__vaoCache[u].vao;c&&s.deleteVertexArrayOES(c)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(sn.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t||(t=this.attributes[this._attributeList[0]]),t&&t.value?t.value.length/t.size:0}}),Object.defineProperty(sn.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),sn.STATIC_DRAW=w.STATIC_DRAW,sn.DYNAMIC_DRAW=w.DYNAMIC_DRAW,sn.STREAM_DRAW=w.STREAM_DRAW,sn.AttributeBuffer=on,sn.IndicesBuffer=an,sn.Attribute=rn;var un=sn,cn=Wt.create,ln=Wt.add,hn=Wt.set,fn=un.Attribute,dn=un.extend((function(){return{attributes:{position:new fn("position","float",3,"POSITION"),texcoord0:new fn("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new fn("texcoord1","float",2,"TEXCOORD_1"),normal:new fn("normal","float",3,"NORMAL"),tangent:new fn("tangent","float",4,"TANGENT"),color:new fn("color","float",4,"COLOR"),weight:new fn("weight","float",3,"WEIGHT"),joint:new fn("joint","float",4,"JOINT"),barycentric:new fn("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new Pe);var e=this.attributes.position.value;if(e&&e.length){var n=t.min,r=t.max,i=n.array,o=r.array;Wt.set(i,e[0],e[1],e[2]),Wt.set(o,e[0],e[1],e[2]);for(var a=3;a<e.length;){var s=e[a++],u=e[a++],c=e[a++];s<i[0]&&(i[0]=s),u<i[1]&&(i[1]=u),c<i[2]&&(i[2]=c),s>o[0]&&(o[0]=s),u>o[1]&&(o[1]=u),c>o[2]&&(o[2]=c)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value;if(r&&r.length===n.length)for(var i=0;i<r.length;i++)r[i]=0;else r=e.normal.value=new T["a"].Float32Array(n.length);for(var o,a,s,u=cn(),c=cn(),l=cn(),h=cn(),f=cn(),d=cn(),p=t?t.length:this.vertexCount,m=0;m<p;){t?(o=t[m++],a=t[m++],s=t[m++]):(o=m++,a=m++,s=m++),hn(u,n[3*o],n[3*o+1],n[3*o+2]),hn(c,n[3*a],n[3*a+1],n[3*a+2]),hn(l,n[3*s],n[3*s+1],n[3*s+2]),Wt.sub(h,u,c),Wt.sub(f,c,l),Wt.cross(d,h,f);for(i=0;i<3;i++)r[3*o+i]=r[3*o+i]+d[i],r[3*a+i]=r[3*a+i]+d[i],r[3*s+i]=r[3*s+i]+d[i]}for(i=0;i<r.length;)hn(d,r[i],r[i+1],r[i+2]),Wt.normalize(d,d),r[i++]=d[0],r[i++]=d[1],r[i++]=d[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value,i=cn(),o=cn(),a=cn(),s=cn(),u=cn(),c=cn();r||(r=e.normal.value=new Float32Array(n.length));for(var l,h,f,d=t?t.length:this.vertexCount,p=0;p<d;){t?(l=t[p++],h=t[p++],f=t[p++]):(l=p++,h=p++,f=p++),hn(i,n[3*l],n[3*l+1],n[3*l+2]),hn(o,n[3*h],n[3*h+1],n[3*h+2]),hn(a,n[3*f],n[3*f+1],n[3*f+2]),Wt.sub(s,i,o),Wt.sub(u,o,a),Wt.cross(c,s,u),Wt.normalize(c,c);for(var m=0;m<3;m++)r[3*l+m]=c[m],r[3*h+m]=c[m],r[3*f+m]=c[m]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var n=e.texcoord0.value,r=e.position.value,i=e.tangent.value,o=e.normal.value;if(n){for(var a=[],s=[],u=0;u<t;u++)a[u]=[0,0,0],s[u]=[0,0,0];var c,l,h,f=[0,0,0],d=[0,0,0],p=this.indices,m=p?p.length:this.vertexCount;for(u=0;u<m;){p?(c=p[u++],l=p[u++],h=p[u++]):(c=u++,l=u++,h=u++);var g=n[2*c],v=n[2*l],y=n[2*h],_=n[2*c+1],b=n[2*l+1],x=n[2*h+1],w=r[3*c],T=r[3*l],S=r[3*h],O=r[3*c+1],M=r[3*l+1],E=r[3*h+1],A=r[3*c+2],C=r[3*l+2],D=r[3*h+2],L=T-w,I=S-w,P=M-O,R=E-O,N=C-A,k=D-A,j=v-g,F=y-g,B=b-_,z=x-_,U=1/(j*z-B*F);f[0]=(z*L-B*I)*U,f[1]=(z*P-B*R)*U,f[2]=(z*N-B*k)*U,d[0]=(j*I-F*L)*U,d[1]=(j*R-F*P)*U,d[2]=(j*k-F*N)*U,ln(a[c],a[c],f),ln(a[l],a[l],f),ln(a[h],a[h],f),ln(s[c],s[c],d),ln(s[l],s[l],d),ln(s[h],s[h],d)}var H=cn(),G=cn(),V=cn();for(u=0;u<t;u++){V[0]=o[3*u],V[1]=o[3*u+1],V[2]=o[3*u+2];var W=a[u];Wt.scale(H,V,Wt.dot(V,W)),Wt.sub(H,W,H),Wt.normalize(H,H),Wt.cross(G,V,W),i[4*u]=H[0],i[4*u+1]=H[1],i[4*u+2]=H[2],i[4*u+3]=Wt.dot(G,s[u])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new T["a"].Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,n=this.getEnabledAttributes(),r={},i=0;i<n.length;i++){var o=n[i];r[o]=t[o].value,t[o].init(this.indices.length)}for(var a=0,s=0;s<e.length;s++){var u=e[s];for(i=0;i<n.length;i++){o=n[i];for(var c=t[o].value,l=t[o].size,h=0;h<l;h++)c[a*l+h]=r[o][u*l+h]}e[s]=a,a++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,n=this.indices;if(!e||e.length!==3*n.length){e=t.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){var o=n?n[r++]:3*r+i;e[3*o+i]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,n=e.position.value,r=e.normal.value,i=e.tangent.value;t=t.array;var o=Gt.create();Gt.invert(o,t),Gt.transpose(o,o);var a=Wt.transformMat4,s=Wt.forEach;s(n,3,0,null,a,t),r&&s(r,3,0,null,a,o),i&&s(i,4,0,null,a,o),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=0;o<i.attributeBuffers.length;o++){var a=i.attributeBuffers[o];t.gl.deleteBuffer(a.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var c=this.__vaoCache[u].vao;c&&s.deleteVertexArrayOES(c)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});dn.STATIC_DRAW=un.STATIC_DRAW,dn.DYNAMIC_DRAW=un.DYNAMIC_DRAW,dn.STREAM_DRAW=un.STREAM_DRAW,dn.AttributeBuffer=un.AttributeBuffer,dn.IndicesBuffer=un.IndicesBuffer,dn.Attribute=fn;var pn=dn,mn="vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",gn="uniform vec3 ",vn="uniform float ",yn="@export clay.header.",_n="@end",bn=":unconfigurable;",xn=[yn+"directional_light",gn+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+bn,gn+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+bn,_n,yn+"ambient_light",gn+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+bn,_n,yn+"ambient_sh_light",gn+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+bn,gn+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+bn,mn,_n,yn+"ambient_cubemap_light",gn+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+bn,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+bn,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+bn,_n,yn+"point_light",gn+"pointLightPosition[POINT_LIGHT_COUNT]"+bn,vn+"pointLightRange[POINT_LIGHT_COUNT]"+bn,gn+"pointLightColor[POINT_LIGHT_COUNT]"+bn,_n,yn+"spot_light",gn+"spotLightPosition[SPOT_LIGHT_COUNT]"+bn,gn+"spotLightDirection[SPOT_LIGHT_COUNT]"+bn,vn+"spotLightRange[SPOT_LIGHT_COUNT]"+bn,vn+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+bn,vn+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+bn,vn+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+bn,gn+"spotLightColor[SPOT_LIGHT_COUNT]"+bn,_n].join("\n");zt["import"](xn);var wn=ke.extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var t=ke.prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}}),Tn=wn,Sn=function(t,e){this.normal=t||new fe(0,1,0),this.distance=e||0};Sn.prototype={constructor:Sn,distanceToPoint:function(t){return Wt.dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new fe);var n=this.distanceToPoint(t);return Wt.scaleAndAdd(e.array,t.array,this.normal.array,-n),e._dirty=!0,e},normalize:function(){var t=1/Wt.len(this.normal.array);Wt.scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,n=this.normal.array,r=Wt.dot(e[0].array,n)>this.distance,i=1;i<8;i++)if(Wt.dot(e[i].array,n)>this.distance!=r)return!0},intersectLine:function(){var t=Wt.create();return function(e,n,r){var i=this.distanceToPoint(e),o=this.distanceToPoint(n);if(i>0&&o>0||i<0&&o<0)return null;var a=this.normal.array,s=this.distance,u=e.array;Wt.sub(t,n.array,e.array),Wt.normalize(t,t);var c=Wt.dot(a,t);if(0===c)return null;r||(r=new fe);var l=(Wt.dot(a,u)-s)/c;return Wt.scaleAndAdd(r.array,u,t,-l),r._dirty=!0,r}}(),applyTransform:function(){var t=Gt.create(),e=ve.create(),n=ve.create();return n[3]=1,function(r){r=r.array,Wt.scale(n,this.normal.array,this.distance),ve.transformMat4(n,n,r),this.distance=Wt.dot(n,this.normal.array),Gt.invert(t,r),Gt.transpose(t,t),e[3]=0,Wt.copy(e,this.normal.array),ve.transformMat4(e,e,t),Wt.copy(this.normal.array,e)}}(),copy:function(t){Wt.copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new Sn;return t.copy(this),t}};var On=Sn,Mn=Wt.set,En=Wt.copy,An=Wt.transformMat4,Cn=Math.min,Dn=Math.max,Ln=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new On);this.boundingBox=new Pe,this.vertices=[];for(t=0;t<8;t++)this.vertices[t]=Wt.fromValues(0,0,0)};Ln.prototype={setFromProjection:function(t){var e=this.planes,n=t.array,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];Mn(e[0].normal.array,a-r,l-s,p-h),e[0].distance=-(y-m),e[0].normalize(),Mn(e[1].normal.array,a+r,l+s,p+h),e[1].distance=-(y+m),e[1].normalize(),Mn(e[2].normal.array,a+i,l+u,p+f),e[2].distance=-(y+g),e[2].normalize(),Mn(e[3].normal.array,a-i,l-u,p-f),e[3].distance=-(y-g),e[3].normalize(),Mn(e[4].normal.array,a-o,l-c,p-d),e[4].distance=-(y-v),e[4].normalize(),Mn(e[5].normal.array,a+o,l+c,p+d),e[5].distance=-(y+v),e[5].normalize();var _=this.boundingBox,b=this.vertices;if(0===y){var x=u/r,w=-v/(d-1),T=-v/(d+1),S=-T/u,O=-w/u;_.min.set(-S*x,-S,T),_.max.set(S*x,S,w),Mn(b[0],-S*x,-S,T),Mn(b[1],-S*x,S,T),Mn(b[2],S*x,-S,T),Mn(b[3],S*x,S,T),Mn(b[4],-O*x,-O,w),Mn(b[5],-O*x,O,w),Mn(b[6],O*x,-O,w),Mn(b[7],O*x,O,w)}else{var M=(-1-m)/r,E=(1-m)/r,A=(1-g)/u,C=(-1-g)/u,D=(-1-v)/d,L=(1-v)/d;_.min.set(Math.min(M,E),Math.min(C,A),Math.min(L,D)),_.max.set(Math.max(E,M),Math.max(A,C),Math.max(D,L));var I=_.min.array,P=_.max.array;Mn(b[0],I[0],I[1],I[2]),Mn(b[1],I[0],P[1],I[2]),Mn(b[2],P[0],I[1],I[2]),Mn(b[3],P[0],P[1],I[2]),Mn(b[4],I[0],I[1],P[2]),Mn(b[5],I[0],P[1],P[2]),Mn(b[6],P[0],I[1],P[2]),Mn(b[7],P[0],P[1],P[2])}},getTransformedBoundingBox:function(){var t=Wt.create();return function(e,n){var r=this.vertices,i=n.array,o=e.min,a=e.max,s=o.array,u=a.array,c=r[0];An(t,c,i),En(s,t),En(u,t);for(var l=1;l<8;l++)c=r[l],An(t,c,i),s[0]=Cn(t[0],s[0]),s[1]=Cn(t[1],s[1]),s[2]=Cn(t[2],s[2]),u[0]=Dn(t[0],u[0]),u[1]=Dn(t[1],u[1]),u[2]=Dn(t[2],u[2]);return o._dirty=!0,a._dirty=!0,e}}()};var In=Ln,Pn=ke.extend((function(){return{projectionMatrix:new Oe,invProjectionMatrix:new Oe,viewMatrix:new Oe,frustum:new In}}),(function(){this.update(!0)}),{update:function(t){ke.prototype.update.call(this,t),Oe.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),Oe.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){Oe.copy(this.viewMatrix,t),Oe.invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){Oe.copy(this.projectionMatrix,t),Oe.invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var t=ve.create();return function(e,n){var r=void 0!==n?n:new me,i=e.array[0],o=e.array[1];return ve.set(t,i,o,-1,1),ve.transformMat4(t,t,this.invProjectionMatrix.array),ve.transformMat4(t,t,this.worldTransform.array),Wt.scale(r.origin.array,t,1/t[3]),ve.set(t,i,o,1,1),ve.transformMat4(t,t,this.invProjectionMatrix.array),ve.transformMat4(t,t,this.worldTransform.array),Wt.scale(t,t,1/t[3]),Wt.sub(r.direction.array,t,r.origin.array),Wt.normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()}),Rn=Pn,Nn=Gt.create(),kn=Gt.create(),jn={};function Fn(t){var e=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var i=n[r];e.push(i+" "+t[i])}var o=e.join("\n");if(jn[o])return jn[o];var a=m.genGUID();return jn[o]=a,a}function Bn(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}Bn.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},Bn.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t},Bn.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var zn=ke.extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new Pe,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new E(20)}}),(function(){this._scene=this}),{addToScene:function(t){t instanceof Rn?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(t)):t instanceof Tn&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof Rn?(e=this._cameraList.indexOf(t),e>=0&&this._cameraList.splice(e,1)):t instanceof Tn&&(e=this.lights.indexOf(t),e>=0&&this.lights.splice(e,1)),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);e>=0&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},n=0;n<t.length;n++){var r=t[n];if(!r.invisible){var i=r.group;e[i]||(e[i]={}),e[i][r.type]=e[i][r.type]||0,e[i][r.type]++}}for(var o in this._lightNumber=e,e)this._lightProgramKeys[o]=Fn(e[o]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),n={};function r(t,e){n[t.__uid__]=e;for(var i=0;i<t._children.length;i++){var o=t._children[i],a=e._children[i];r(o,a)}}return r(t,e),e.traverse((function(t){t.skeleton&&(t.skeleton=t.skeleton.clone(n)),t.material&&(t.material=t.material.clone())})),e},updateRenderList:function(t,e){var n=t.__uid__,r=this._renderLists.get(n);r||(r=new Bn,this._renderLists.put(n,r)),r.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,i,r,e),r.endCount(),r},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,n,r,i){if(!t.invisible)for(var o=0;o<t._children.length;o++){var a=t._children[o];if(a.isRenderable()){var s=a.isSkinnedMesh()?Nn:a.worldTransform.array,u=a.geometry;Gt.multiplyAffine(kn,e.viewMatrix.array,s),(i&&!u.boundingBox||!this.isFrustumCulled(a,e,kn))&&r.add(a,a.material.transparent||n)}a._children.length>0&&this._doUpdateRenderList(a,e,n,r,i)}},isFrustumCulled:function(){var t=new Pe,e=new Oe;return function(n,r,i){var o=n.boundingBox;if(o||(o=n.skeleton&&n.skeleton.boundingBox?n.skeleton.boundingBox:n.geometry.boundingBox),!o)return!1;if(e.array=i,t.transformFrom(o,e),n.castShadow&&this.viewBoundingBoxLastFrame.union(t),n.frustumCulling){if(!t.intersectBoundingBox(r.frustum.boundingBox))return!0;e.array=r.projectionMatrix.array,t.max.array[2]>0&&t.min.array[2]<0&&(t.max.array[2]=-1e-20),t.applyProjection(e);var a=t.min.array,s=t.max.array;if(s[0]<-1||a[0]>1||s[1]<-1||a[1]>1||s[2]<-1||a[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var t=this.lights;t.sort(Un);var e=this._lightUniforms;for(var n in e)for(var r in e[n])e[n][r].value.length=0;for(var i=0;i<t.length;i++){var o=t[i];if(!o.invisible){n=o.group;for(var r in o.uniformTemplates){var a=o.uniformTemplates[r],s=a.value(o);if(null!=s){e[n]||(e[n]={}),e[n][r]||(e[n][r]={type:"",value:[]});var u=e[n][r];switch(u.type=a.type+"v",a.type){case"1i":case"1f":case"t":u.value.push(s);break;case"2f":case"3f":case"4f":for(var c=0;c<s.length;c++)u.value.push(s[c]);break;default:console.error("Unkown light uniform type "+a.type)}}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,n=this._lightNumber;for(var r in n[t]){if(!e[t])return!0;if(n[t][r]!==e[t][r])return!0}for(var r in e[t]){if(!n[t])return!0;if(n[t][r]!==e[t][r])return!0}return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(){function t(t,e,n){for(var r in t){var i=t[r];if("tv"===i.type){if(!e.hasUniform(r))continue;for(var o=[],a=0;a<i.value.length;a++){var s=i.value[a],u=e.takeCurrentTextureSlot(n,s);o.push(u)}e.setUniform(n.gl,"1iv",r,o)}else e.setUniform(n.gl,i.type,r,i.value)}}return function(e,n,r){t(this._lightUniforms[n],e,r),t(this.shadowUniforms,e,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function Un(t,e){if(e.castShadow&&!t.castShadow)return!0}var Hn=zn,Gn=n("d51b"),Vn=$e.isPowerOfTwo,Wn=["px","nx","py","ny","pz","nz"],qn=We.extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var i=t.getGLExtension("EXT_texture_filter_anisotropic");if(i&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var o=t.getGLExtension("OES_texture_half_float");o||(r=w.FLOAT)}if(this.mipmaps.length)for(var a=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var c=this.mipmaps[u];this._updateTextureData(e,c,u,a,s,n,r),a/=2,s/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,n,r,i,o,a){for(var s=0;s<6;s++){var u=Wn[s],c=e.image&&e.image[u];c?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,o,o,a,c):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,o,r,i,0,o,a,e.pixels&&e.pixels[u])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?Vn(this.image.px.width)&&Vn(this.image.px.height):Vn(this.width)&&Vn(this.height)},isRenderable:function(){return this.image.px?Xn(this.image.px)&&Xn(this.image.nx)&&Xn(this.image.py)&&Xn(this.image.ny)&&Xn(this.image.pz)&&Xn(this.image.nz):!(!this.width||!this.height)},load:function(t,e){var n=0,r=this;return m.each(t,(function(t,i){var o=T["a"].createImage();e&&(o.crossOrigin=e),o.onload=function(){n--,0===n&&(r.dirty(),r.trigger("success",r))},o.onerror=function(){n--},n++,o.src=t,r.image[i]=o})),this}});function Xn(t){return t.width>0&&t.height>0}Object.defineProperty(qn.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(qn.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}});var Yn=qn,$n=Rn.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=2*Math.atan(1/t[5]);this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=Rn.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}}),Zn=$n,Kn="framebuffer",Jn="renderbuffer",Qn=Jn+"_width",tr=Jn+"_height",er=Jn+"_attached",nr="depthtexture_attached",rr=w.FRAMEBUFFER,ir=w.RENDERBUFFER,or=w.DEPTH_ATTACHMENT,ar=w.COLOR_ATTACHMENT0,sr=v.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new Ge,this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(rr,this._getFrameBufferGL(t)),this._boundRenderer=t;var n=this._cache;n.put("viewport",t.viewport);var r,i,o=!1;for(var a in this._textures){o=!0;var s=this._textures[a];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(t,s.texture,a,s.target))}this._width=r,this._height=i,!o&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,r,i,1);var u=n.get("attached_textures");if(u)for(var a in u)if(!this._textures[a]){var c=u[a];this._doDetach(e,a,c)}if(!n.get(nr)&&this.depthBuffer){n.miss(Jn)&&n.put(Jn,e.createRenderbuffer());var l=n.get(Jn);r===n.get(Qn)&&i===n.get(tr)||(e.bindRenderbuffer(ir,l),e.renderbufferStorage(ir,e.DEPTH_COMPONENT16,r,i),n.put(Qn,r),n.put(tr,i),e.bindRenderbuffer(ir,null)),n.get(er)||(e.framebufferRenderbuffer(rr,or,ir,l),n.put(er,!0))}},unbind:function(t){t.__currentFrameBuffer=null;var e=t.gl;e.bindFramebuffer(rr,null),this._boundRenderer=null,this._cache.use(t.__uid__);var n=this._cache.get("viewport");n&&t.setViewport(n),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var n in this._textures){var r=this._textures[n];if(r){var i=r.texture;if(!i.NPOT&&i.useMipmap&&i.minFilter===We.LINEAR_MIPMAP_LINEAR){var o="textureCube"===i.textureType?w.TEXTURE_CUBE_MAP:w.TEXTURE_2D;e.bindTexture(o,i.getWebGLTexture(t)),e.generateMipmap(o),e.bindTexture(o,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(rr)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss(Kn)&&e.put(Kn,t.gl.createFramebuffer()),e.get(Kn)},attach:function(t,e,n){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||ar,n=n||w.TEXTURE_2D;var r,i=this._boundRenderer,o=i&&i.gl;if(o){var a=this._cache;a.use(i.__uid__),r=a.get("attached_textures")}var s=this._textures[e];if(!s||s.target!==n||s.texture!==t||!r||null==r[e]){var u=!0;i&&(u=this._doAttach(i,t,e,n),this.viewport||i.setViewport(0,0,t.width,t.height,1)),u&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=n)}},_doAttach:function(t,e,n,r){var i=t.gl,o=e.getWebGLTexture(t),a=this._cache.get("attached_textures");if(a&&a[n]){var s=a[n];if(s.texture===e&&s.target===r)return}n=+n;var u=!0;if(n===or||n===w.DEPTH_STENCIL_ATTACHMENT){var c=t.getGLExtension("WEBGL_depth_texture");if(c||(console.error("Depth texture is not supported by the browser"),u=!1),e.format!==w.DEPTH_COMPONENT&&e.format!==w.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),u=!1),u){var l=this._cache.get(Jn);l&&(i.framebufferRenderbuffer(rr,or,ir,null),i.deleteRenderbuffer(l),this._cache.put(Jn,!1)),this._cache.put(er,!1),this._cache.put(nr,!0)}}return i.framebufferTexture2D(rr,n,r,o,0),a||(a={},this._cache.put("attached_textures",a)),a[n]=a[n]||{},a[n].texture=e,a[n].target=r,u},_doDetach:function(t,e,n){t.framebufferTexture2D(rr,e,n,null,0);var r=this._cache.get("attached_textures");r&&r[e]&&(r[e]=null),e!==or&&e!==w.DEPTH_STENCIL_ATTACHMENT||this._cache.put(nr,!1)},detach:function(t,e){if(this._textures[t]=null,this._boundRenderer){var n=this._cache;n.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e)}},dispose:function(t){var e=t.gl,n=this._cache;n.use(t.__uid__);var r=n.get(Jn);r&&e.deleteRenderbuffer(r);var i=n.get(Kn);i&&e.deleteFramebuffer(i),n.deleteContext(t.__uid__),this._textures={}}});sr.DEPTH_ATTACHMENT=or,sr.COLOR_ATTACHMENT0=ar,sr.STENCIL_ATTACHMENT=w.STENCIL_ATTACHMENT,sr.DEPTH_STENCIL_ATTACHMENT=w.DEPTH_STENCIL_ATTACHMENT;var ur=sr,cr=["px","nx","py","ny","pz","nz"],lr=v.extend((function(){var t={position:new fe,far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new Zn({fov:90}),nx:new Zn({fov:90}),py:new Zn({fov:90}),ny:new Zn({fov:90}),pz:new Zn({fov:90}),nz:new Zn({fov:90})};return e.px.lookAt(fe.POSITIVE_X,fe.NEGATIVE_Y),e.nx.lookAt(fe.NEGATIVE_X,fe.NEGATIVE_Y),e.py.lookAt(fe.POSITIVE_Y,fe.POSITIVE_Z),e.ny.lookAt(fe.NEGATIVE_Y,fe.NEGATIVE_Z),e.pz.lookAt(fe.POSITIVE_Z,fe.NEGATIVE_Y),e.nz.lookAt(fe.NEGATIVE_Z,fe.NEGATIVE_Y),t._frameBuffer=new ur,t}),{getCamera:function(t){return this._cameras[t]},render:function(t,e,n){var r=t.gl;n||e.update();for(var i=this.texture.width,o=2*Math.atan(i/(i-.5))/Math.PI*180,a=0;a<6;a++){var s=cr[a],u=this._cameras[s];if(fe.copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=o,this.shadowMapPass){u.update();var c=e.getBoundingBox();c.applyTransform(u.viewMatrix),e.viewBoundingBoxLastFrame.copy(c),this.shadowMapPass.render(t,e,u,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+a),this._frameBuffer.bind(t),t.render(e,u,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}}),hr=lr,fr=pn.extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var t=this.heightSegments,e=this.widthSegments,n=this.attributes,r=[],i=[],o=[],a=[],s=0;s<=t;s++)for(var u=s/t,c=0;c<=e;c++){var l=c/e;if(r.push([2*l-1,2*u-1,0]),i&&i.push([l,u]),o&&o.push([0,0,1]),c<e&&s<t){var h=c+s*(e+1);a.push([h,h+1,h+e+1]),a.push([h+e+1,h+1,h+e+2])}}n.position.fromArray(r),n.texcoord0.fromArray(i),n.normal.fromArray(o),this.initIndicesFromArray(a),this.boundingBox=new Pe,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}}),dr=fr,pr=new Oe,mr=pn.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var t={px:gr("px",this.depthSegments,this.heightSegments),nx:gr("nx",this.depthSegments,this.heightSegments),py:gr("py",this.widthSegments,this.depthSegments),ny:gr("ny",this.widthSegments,this.depthSegments),pz:gr("pz",this.widthSegments,this.heightSegments),nz:gr("nz",this.widthSegments,this.heightSegments)},e=["position","texcoord0","normal"],n=0,r=0;for(var i in t)n+=t[i].vertexCount,r+=t[i].indices.length;for(var o=0;o<e.length;o++)this.attributes[e[o]].init(n);this.indices=new T["a"].Uint16Array(r);var a=0,s=0;for(var i in t){var u=t[i];for(o=0;o<e.length;o++)for(var c=e[o],l=u.attributes[c].value,h=u.attributes[c].size,f="normal"===c,d=0;d<l.length;d++){var p=l[d];this.inside&&f&&(p=-p),this.attributes[c].value[d+h*s]=p}var m=u.indices.length;for(d=0;d<u.indices.length;d++)this.indices[d+a]=s+u.indices[this.inside?m-d-1:d];a+=u.indices.length,s+=u.vertexCount}this.boundingBox=new Pe,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function gr(t,e,n){pr.identity();var r=new dr({widthSegments:e,heightSegments:n});switch(t){case"px":Oe.translate(pr,pr,fe.POSITIVE_X),Oe.rotateY(pr,pr,Math.PI/2);break;case"nx":Oe.translate(pr,pr,fe.NEGATIVE_X),Oe.rotateY(pr,pr,-Math.PI/2);break;case"py":Oe.translate(pr,pr,fe.POSITIVE_Y),Oe.rotateX(pr,pr,-Math.PI/2);break;case"ny":Oe.translate(pr,pr,fe.NEGATIVE_Y),Oe.rotateX(pr,pr,Math.PI/2);break;case"pz":Oe.translate(pr,pr,fe.POSITIVE_Z);break;case"nz":Oe.translate(pr,pr,fe.NEGATIVE_Z),Oe.rotateY(pr,pr,Math.PI);break}return r.applyTransform(pr),r}var vr=mr,yr="@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end";zt.import(yr);var _r=Xe.extend((function(){var t=new zt({vertex:zt.source("clay.skybox.vertex"),fragment:zt.source("clay.skybox.fragment")}),e=new Z({shader:t,depthMask:!1});return{scene:null,geometry:new vr,material:e,environmentMap:null,culling:!1,_dummyCamera:new Zn}}),(function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(t){this.scene&&this.detachScene(),t.skybox=this,this.scene=t,t.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){"texture2D"===t.textureType?(this.material.define("EQUIRECTANGULAR"),t.minFilter=We.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",t)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(t,e,n){this.renderSkybox(t,n)},renderSkybox:function(t,e){var n=this._dummyCamera;n.aspect=t.getViewportAspect(),n.fov=e.fov||50,n.updateProjectionMatrix(),Oe.invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(e.worldTransform),n.viewMatrix.copy(e.viewMatrix),this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),t.renderPass([this],n)}}),br=_r,xr=br,wr=542327876,Tr=131072,Sr=512,Or=4;function Mr(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var Er=31,Ar=Mr("DXT1"),Cr=Mr("DXT3"),Dr=Mr("DXT5"),Lr=0,Ir=1,Pr=2,Rr=3,Nr=4,kr=7,jr=20,Fr=21,Br=28,zr={parse:function(t,e){var n=new Int32Array(t,0,Er);if(n[Lr]!==wr)return null;if(!n(jr)&Or)return null;var r,i,o=n(Fr),a=n[Nr],s=n[Rr],u=n[Br]&Sr,c=n[Pr]&Tr;switch(o){case Ar:r=8,i=We.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case Cr:r=16,i=We.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case Dr:r=16,i=We.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var l=n[Ir]+4,h=u?6:1,f=1;c&&(f=Math.max(1,n[kr]));for(var d=[],p=0;p<h;p++){var m=a,g=s;d[p]=new tn({width:m,height:g,format:i});for(var v=[],y=0;y<f;y++){var _=Math.max(4,m)/4*Math.max(4,g)/4*r,b=new Uint8Array(t,l,_);l+=_,m*=.5,g*=.5,v[y]=b}d[p].pixels=v[0],c&&(d[p].mipmaps=v)}if(!e)return d[0];e.width=d[0].width,e.height=d[0].height,e.format=d[0].format,e.pixels=d[0].pixels,e.mipmaps=d[0].mipmaps}},Ur=zr,Hr=String.fromCharCode,Gr=8,Vr=32767;function Wr(t,e,n,r){if(t[3]>0){var i=Math.pow(2,t[3]-128-8+r);e[n+0]=t[0]*i,e[n+1]=t[1]*i,e[n+2]=t[2]*i}else e[n+0]=0,e[n+1]=0,e[n+2]=0;return e[n+3]=1,e}function qr(t,e,n){for(var r="",i=e;i<n;i++)r+=Hr(t[i]);return r}function Xr(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]}function Yr(t,e,n,r){var i=0,o=0,a=r;while(a>0)if(t[o][0]=e[n++],t[o][1]=e[n++],t[o][2]=e[n++],t[o][3]=e[n++],1===t[o][0]&&1===t[o][1]&&1===t[o][2]){for(var s=t[o][3]<<i>>>0;s>0;s--)Xr(t[o-1],t[o]),o++,a--;i+=8}else o++,a--,i=0;return n}function $r(t,e,n,r){if(r<Gr|r>Vr)return Yr(t,e,n,r);var i=e[n++];if(2!=i)return Yr(t,e,n-1,r);if(t[0][1]=e[n++],t[0][2]=e[n++],i=e[n++],(t[0][2]<<8>>>0|i)>>>0!==r)return null;for(i=0;i<4;i++)for(var o=0;o<r;){var a=e[n++];if(a>128){a=(127&a)>>>0;var s=e[n++];while(a--)t[o++][i]=s}else while(a--)t[o++][i]=e[n++]}return n}var Zr={parseRGBE:function(t,e,n){null==n&&(n=0);var r=new Uint8Array(t),i=r.length;if("#?"===qr(r,0,2)){for(var o=2;o<i;o++)if("\n"===Hr(r[o])&&"\n"===Hr(r[o+1]))break;if(!(o>=i)){o+=2;for(var a="";o<i;o++){var s=Hr(r[o]);if("\n"===s)break;a+=s}var u=a.split(" "),c=parseInt(u[1]),l=parseInt(u[3]);if(l&&c){for(var h=o+1,f=[],d=0;d<l;d++){f[d]=[];for(var p=0;p<4;p++)f[d][p]=0}for(var m=new Float32Array(l*c*4),g=0,v=0;v<c;v++){h=$r(f,r,h,l);if(!h)return null;for(d=0;d<l;d++)Wr(f[d],m,g,n),g+=4}return e||(e=new tn),e.width=l,e.height=c,e.pixels=m,e.type=We.FLOAT,e}}}},parseRGBEFromPNG:function(t){}},Kr=Zr,Jr={loadTexture:function(t,e,n,r){var i;if("function"===typeof e?(n=e,r=n,e={}):e=e||{},"string"===typeof t){if(t.match(/.hdr$/)||"hdr"===e.fileType)return i=new tn({width:0,height:0,sRGB:!1}),Jr._fetchTexture(t,(function(t){Kr.parseRGBE(t,i,e.exposure),i.dirty(),n&&n(i)}),r),i;t.match(/.dds$/)||"dds"===e.fileType?(i=new tn({width:0,height:0}),Jr._fetchTexture(t,(function(t){Ur.parse(t,i),i.dirty(),n&&n(i)}),r)):(i=new tn,i.load(t),i.success(n),i.error(r))}else"object"===typeof t&&"undefined"!==typeof t.px&&(i=new Yn,i.load(t),i.success(n),i.error(r));return i},loadPanorama:function(t,e,n,r,i,o){var a=this;"function"===typeof r?(i=r,o=i,r={}):r=r||{},Jr.loadTexture(e,r,(function(e){e.flipY=r.flipY||!1,a.panoramaToCubeMap(t,e,n,r),e.dispose(t),i&&i(n)}),o)},panoramaToCubeMap:function(t,e,n,r){var i=new hr,o=new xr({scene:new Hn});return o.setEnvironmentMap(e),r=r||{},r.encodeRGBM&&o.material.define("fragment","RGBM_ENCODE"),n.sRGB=e.sRGB,i.texture=n,i.render(t,o.scene),i.texture=null,i.dispose(t),n},heightToNormal:function(t,e){var n=document.createElement("canvas"),r=n.width=t.width,i=n.height=t.height,o=n.getContext("2d");o.drawImage(t,0,0,r,i),e=e||!1;for(var a=o.getImageData(0,0,r,i),s=o.createImageData(r,i),u=0;u<a.data.length;u+=4){if(e){var c=a.data[u],l=a.data[u+1],h=a.data[u+2],f=Math.abs(c-l)+Math.abs(l-h);if(f>20)return console.warn("Given image is not a height map"),t}var d,p,m,g;u%(4*r)===0?(d=a.data[u],m=a.data[u+4]):u%(4*r)===4*(r-1)?(d=a.data[u-4],m=a.data[u]):(d=a.data[u-4],m=a.data[u+4]),u<4*r?(p=a.data[u],g=a.data[u+4*r]):u>r*(i-1)*4?(p=a.data[u-4*r],g=a.data[u]):(p=a.data[u-4*r],g=a.data[u+4*r]),s.data[u]=d-m+127,s.data[u+1]=p-g+127,s.data[u+2]=255,s.data[u+3]=255}return o.putImageData(s,0,0),n},isHeightImage:function(t,e,n){if(!t||!t.width||!t.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),o=e||32;n=n||20,r.width=r.height=o,i.drawImage(t,0,0,o,o);for(var a=i.getImageData(0,0,o,o),s=0;s<a.data.length;s+=4){var u=a.data[s],c=a.data[s+1],l=a.data[s+2],h=Math.abs(u-c)+Math.abs(c-l);if(h>n)return!1}return!0},_fetchTexture:function(t,e,n){T["a"].request.get({url:t,responseType:"arraybuffer",onload:e,onerror:n})},createChessboard:function(t,e,n,r){t=t||512,e=e||64,n=n||"black",r=r||"white";var i=Math.ceil(t/e),o=document.createElement("canvas");o.width=t,o.height=t;var a=o.getContext("2d");a.fillStyle=r,a.fillRect(0,0,t,t),a.fillStyle=n;for(var s=0;s<i;s++)for(var u=0;u<i;u++){var c=u%2?s%2:s%2-1;c&&a.fillRect(s*e,u*e,e,e)}var l=new tn({image:o,anisotropic:8});return l},createBlank:function(t){var e=document.createElement("canvas");e.width=1,e.height=1;var n=e.getContext("2d");n.fillStyle=t,n.fillRect(0,0,1,1);var r=new tn({image:e});return r}},Qr=Jr,ti=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function ei(t){return"_on"+t}var ni=function(t){var e=this;this._texture=new tn({anisotropic:32,flipY:!1,surface:this,dispose:function(t){e.dispose(),tn.prototype.dispose.call(this,t)}}),ti.forEach((function(t){this[ei(t)]=function(e){e.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(t,n,e.triangle,e.point)}),this)}}),this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null};ni.prototype={constructor:ni,getTexture:function(){return this._texture},setECharts:function(t){this._chart=t;var e=t.getDom();if(e instanceof HTMLCanvasElement){var n=this,r=t.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),e=document.createElement("canvas");this._texture.image=e,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var t=new fe,e=new fe,n=new fe,r=new it,i=new it,o=new it,a=new it,s=new fe;return function(u,c,l,h){var f=c.geometry,d=f.attributes.position,p=f.attributes.texcoord0,m=fe.dot,g=fe.cross;d.get(l[0],t.array),d.get(l[1],e.array),d.get(l[2],n.array),p.get(l[0],r.array),p.get(l[1],i.array),p.get(l[2],o.array),g(s,e,n);var v=m(t,s),y=m(h,s)/v;g(s,n,t);var _=m(h,s)/v;g(s,t,e);var b=m(h,s)/v;it.scale(a,r,y),it.scaleAndAdd(a,a,i,_),it.scaleAndAdd(a,a,o,b);var x=a.x*this._chart.getWidth(),w=a.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(u,{zrX:x,zrY:w})}}(),attachToMesh:function(t){this._meshes.indexOf(t)>=0||(ti.forEach((function(e){t.on(e,this[ei(e)],this)}),this),this._meshes.push(t))},detachFromMesh:function(t){var e=this._meshes.indexOf(t);e>=0&&this._meshes.splice(e,1),ti.forEach((function(e){t.off(e,this[ei(e)])}),this)},dispose:function(){this._meshes.forEach((function(t){this.detachFromMesh(t)}),this)}};var ri=ni,ii=Rn.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=Rn.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}}),oi=ii,ai="\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end";zt["import"](ai);var si=new dr,ui=new Xe({geometry:si,frustumCulling:!1}),ci=new oi,li=v.extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var t=new zt(zt.source("clay.compositor.vertex"),this.fragment),e=new Z({shader:t});e.enableTexturesAll(),this.material=e}),{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||w.COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&e.attach(r,n)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var n=t.gl;if(e){this.bind(t,e);var r=t.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var o in this.outputs)o=+o,o>=n.COLOR_ATTACHMENT0&&o<=n.COLOR_ATTACHMENT0+8&&i.push(o);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,t);var a=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){a|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(a),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){ui.material=this.material,t.renderPass([ui],ci)},dispose:function(t){}}),hi=li,fi="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n",di="#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n",pi={},mi=["px","nx","py","ny","pz","nz"];pi.prefilterEnvironmentMap=function(t,e,n,r,i){i&&r||(r=pi.generateNormalDistribution(),i=pi.integrateBRDF(t,r)),n=n||{};var o=n.width||64,a=n.height||64,s=n.type||e.type,u=new Yn({width:o,height:a,type:s,flipY:!1,mipmaps:[]});u.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var c=Math.min(o,a),l=Math.log(c)/Math.log(2)+1,h=new Z({shader:new zt({vertex:zt.source("clay.skybox.vertex"),fragment:di})});h.set("normalDistribution",r),n.encodeRGBM&&h.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&h.define("fragment","RGBM_DECODE");var f,d=new Hn;if("texture2D"===e.textureType){var p=new Yn({width:o,height:a,type:s===We.FLOAT?We.HALF_FLOAT:s});Qr.panoramaToCubeMap(t,e,p,{encodeRGBM:n.decodeRGBM}),e=p}f=new br({scene:d,material:h}),f.material.set("environmentMap",e);var m=new hr({texture:u});n.encodeRGBM&&(s=u.type=We.UNSIGNED_BYTE);for(var g=new tn({width:o,height:a,type:s}),v=new ur({depthBuffer:!1}),y=T["a"][s===We.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],_=0;_<l;_++){u.mipmaps[_]={pixels:{}},f.material.set("roughness",_/(l-1));for(var b=g.width,x=2*Math.atan(b/(b-.5))/Math.PI*180,w=0;w<mi.length;w++){var S=new y(g.width*g.height*4);v.attach(g),v.bind(t);var O=m.getCamera(mi[w]);O.fov=x,t.render(d,O),t.gl.readPixels(0,0,g.width,g.height,We.RGBA,s,S),v.unbind(t),u.mipmaps[_].pixels[mi[w]]=S}g.width/=2,g.height/=2,g.dirty()}return v.dispose(t),g.dispose(t),f.dispose(t),r.dispose(t),{environmentMap:u,brdfLookup:i,normalDistribution:r,maxMipmapLevel:l}},pi.integrateBRDF=function(t,e){e=e||pi.generateNormalDistribution();var n=new ur({depthBuffer:!1}),r=new hi({fragment:fi}),i=new tn({width:512,height:256,type:We.HALF_FLOAT,wrapS:We.CLAMP_TO_EDGE,wrapT:We.CLAMP_TO_EDGE,minFilter:We.NEAREST,magFilter:We.NEAREST,useMipmap:!1});return r.setUniform("normalDistribution",e),r.setUniform("viewportSize",[512,256]),r.attachOutput(i),r.render(t,n),n.dispose(t),i},pi.generateNormalDistribution=function(t,e){t=t||256,e=e||1024;for(var n=new tn({width:t,height:e,type:We.FLOAT,minFilter:We.NEAREST,magFilter:We.NEAREST,wrapS:We.CLAMP_TO_EDGE,wrapT:We.CLAMP_TO_EDGE,useMipmap:!1}),r=new Float32Array(e*t*4),i=[],o=0;o<t;o++){for(var a=o/t,s=a*a,u=0;u<e;u++){var c=(u<<16|u>>>16)>>>0;c=((1431655765&c)<<1|(2863311530&c)>>>1)>>>0,c=((858993459&c)<<2|(3435973836&c)>>>2)>>>0,c=((252645135&c)<<4|(4042322160&c)>>>4)>>>0,c=(((16711935&c)<<8|(4278255360&c)>>>8)>>>0)/4294967296;var l=Math.sqrt((1-c)/(1+(s*s-1)*c));i[u]=l}for(u=0;u<e;u++){var h=4*(u*t+o),f=(l=i[u],Math.sqrt(1-l*l)),d=u/e,p=2*Math.PI*d;r[h]=f*Math.cos(p),r[h+1]=l,r[h+2]=f*Math.sin(p),r[h+3]=1}}return n.pixels=r,n};var gi=pi,vi=Tn.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(t,e){if(t.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=gi.generateNormalDistribution(),this._brdfLookup=gi.integrateBRDF(t,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=gi.prefilterEnvironmentMap(t,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(t)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(t){return t._brdfLookup}}}}),yi=vi,_i=Tn.extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new T["a"].Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(t){for(var e=t._coefficientsTmpArr,n=0;n<t.coefficients.length;n++)e[n]=t.coefficients[n];return e}}}}),bi=_i,xi={},wi=["px","nx","py","ny","pz","nz"];function Ti(t,e){var n=t[0],r=t[1],i=t[2];return 0===e?1:1===e?n:2===e?r:3===e?i:4===e?n*i:5===e?r*i:6===e?n*r:7===e?3*i*i-1:n*n-r*r}var Si={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function Oi(t,e,n,r){for(var i=new T["a"].Float32Array(27),o=Wt.create(),a=Wt.create(),s=Wt.create(),u=0;u<9;u++){for(var c=Wt.create(),l=0;l<wi.length;l++){for(var h=e[wi[l]],f=Wt.create(),d=0,p=0,m=Si[wi[l]],g=0;g<r;g++)for(var v=0;v<n;v++){o[0]=v/(n-1)*2-1,o[1]=g/(r-1)*2-1,o[2]=-1,Wt.normalize(o,o),s[0]=o[m[0]]*m[3],s[1]=o[m[1]]*m[4],s[2]=o[m[2]]*m[5],a[0]=h[p++]/255,a[1]=h[p++]/255,a[2]=h[p++]/255;var y=h[p++]/255*8.12;a[0]*=y,a[1]*=y,a[2]*=y,Wt.scaleAndAdd(f,f,a,Ti(s,u)*-o[2]),d+=-o[2]}Wt.scaleAndAdd(c,c,f,1/d)}i[3*u]=c[0]/6,i[3*u+1]=c[1]/6,i[3*u+2]=c[2]/6}return i}xi.projectEnvironmentMap=function(t,e,n){var r;n=n||{},n.lod=n.lod||0;var i=new Hn,o=64;"texture2D"===e.textureType?r=new xr({scene:i,environmentMap:e}):(o=e.image&&e.image.px?e.image.px.width:e.width,r=new br({scene:i,environmentMap:e}));var a=Math.ceil(o/Math.pow(2,n.lod)),s=Math.ceil(o/Math.pow(2,n.lod)),u=new tn({width:a,height:s}),c=new ur;r.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&r.material.define("fragment","RGBM_DECODE"),r.material.set("lod",n.lod);for(var l=new hr({texture:u}),h={},f=0;f<wi.length;f++){h[wi[f]]=new Uint8Array(a*s*4);var d=l.getCamera(wi[f]);d.fov=90,c.attach(u),c.bind(t),t.render(i,d),t.gl.readPixels(0,0,a,s,We.RGBA,We.UNSIGNED_BYTE,h[wi[f]]),c.unbind(t)}return r.dispose(t),c.dispose(t),u.dispose(t),Oi(t,h,a,s)};var Mi=xi,Ei={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?r["x"].isArray(e.dataIndex)?r["x"].map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?r["x"].isArray(e.name)?r["x"].map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}},Ai=Ei,Ci=pn.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var t=this.heightSegments,e=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,i=this.attributes.normal,o=(e+1)*(t+1);n.init(o),r.init(o),i.init(o);var a,s,u,c,l,h,f,d,p,m,g,v=o>65535?Uint32Array:Uint16Array,y=this.indices=new v(e*t*6),_=this.radius,b=this.phiStart,x=this.phiLength,w=this.thetaStart,T=this.thetaLength,S=(_=this.radius,[]),O=[],M=0,E=1/_;for(f=0;f<=t;f++)for(h=0;h<=e;h++)c=h/e,l=f/t,a=-_*Math.cos(b+c*x)*Math.sin(w+l*T),s=_*Math.cos(w+l*T),u=_*Math.sin(b+c*x)*Math.sin(w+l*T),S[0]=a,S[1]=s,S[2]=u,O[0]=c,O[1]=l,n.set(M,S),r.set(M,O),S[0]*=E,S[1]*=E,S[2]*=E,i.set(M,S),M++;var A=e+1,C=0;for(f=0;f<t;f++)for(h=0;h<e;h++)p=f*A+h,d=f*A+h+1,g=(f+1)*A+h+1,m=(f+1)*A+h,y[C++]=d,y[C++]=p,y[C++]=g,y[C++]=p,y[C++]=m,y[C++]=g;this.boundingBox=new Pe,this.boundingBox.max.set(_,_,_),this.boundingBox.min.set(-_,-_,-_)}}),Di=Ci,Li=Tn.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}}}),Ii=Li,Pi=Tn.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new fe,t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=Tn.prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}}),Ri=Pi,Ni=Tn.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=Tn.prototype.clone.call(this);return t.range=this.range,t}}),ki=Ni,ji=Tn.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(t){return t.falloffFactor}},spotLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new fe,t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=Tn.prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}}),Fi=ji,Bi=function(t,e,n,r){t=t||0,e=e||0,n=n||0,r=r||0,this.array=ve.fromValues(t,e,n,r),this._dirty=!0};Bi.prototype={constructor:Bi,add:function(t){return ve.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new Bi(this.x,this.y,this.z,this.w)},copy:function(t){return ve.copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return ve.dist(this.array,t.array)},distance:function(t){return ve.distance(this.array,t.array)},div:function(t){return ve.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return ve.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return ve.dot(this.array,t.array)},len:function(){return ve.len(this.array)},length:function(){return ve.length(this.array)},lerp:function(t,e,n){return ve.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return ve.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return ve.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return ve.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return ve.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return ve.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return ve.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return ve.random(this.array,t),this._dirty=!0,this},scale:function(t){return ve.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return ve.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return ve.sqrDist(this.array,t.array)},squaredDistance:function(t){return ve.squaredDistance(this.array,t.array)},sqrLen:function(){return ve.sqrLen(this.array)},squaredLength:function(){return ve.squaredLength(this.array)},sub:function(t){return ve.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return ve.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return ve.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return ve.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var zi=Object.defineProperty;if(zi){var Ui=Bi.prototype;zi(Ui,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),zi(Ui,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),zi(Ui,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),zi(Ui,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}Bi.add=function(t,e,n){return ve.add(t.array,e.array,n.array),t._dirty=!0,t},Bi.set=function(t,e,n,r,i){ve.set(t.array,e,n,r,i),t._dirty=!0},Bi.copy=function(t,e){return ve.copy(t.array,e.array),t._dirty=!0,t},Bi.dist=function(t,e){return ve.distance(t.array,e.array)},Bi.distance=Bi.dist,Bi.div=function(t,e,n){return ve.divide(t.array,e.array,n.array),t._dirty=!0,t},Bi.divide=Bi.div,Bi.dot=function(t,e){return ve.dot(t.array,e.array)},Bi.len=function(t){return ve.length(t.array)},Bi.lerp=function(t,e,n,r){return ve.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},Bi.min=function(t,e,n){return ve.min(t.array,e.array,n.array),t._dirty=!0,t},Bi.max=function(t,e,n){return ve.max(t.array,e.array,n.array),t._dirty=!0,t},Bi.mul=function(t,e,n){return ve.multiply(t.array,e.array,n.array),t._dirty=!0,t},Bi.multiply=Bi.mul,Bi.negate=function(t,e){return ve.negate(t.array,e.array),t._dirty=!0,t},Bi.normalize=function(t,e){return ve.normalize(t.array,e.array),t._dirty=!0,t},Bi.random=function(t,e){return ve.random(t.array,e),t._dirty=!0,t},Bi.scale=function(t,e,n){return ve.scale(t.array,e.array,n),t._dirty=!0,t},Bi.scaleAndAdd=function(t,e,n,r){return ve.scaleAndAdd(t.array,e.array,n.array,r),t._dirty=!0,t},Bi.sqrDist=function(t,e){return ve.sqrDist(t.array,e.array)},Bi.squaredDistance=Bi.sqrDist,Bi.sqrLen=function(t){return ve.sqrLen(t.array)},Bi.squaredLength=Bi.sqrLen,Bi.sub=function(t,e,n){return ve.subtract(t.array,e.array,n.array),t._dirty=!0,t},Bi.subtract=Bi.sub,Bi.transformMat4=function(t,e,n){return ve.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},Bi.transformQuat=function(t,e,n){return ve.transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var Hi=Bi,Gi={create:function(){var t=new J(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new J(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*c+o*l,t[3]=i*c+a*l,t}};Gi.mul=Gi.multiply,Gi.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},Gi.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},Gi.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},Gi.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]};var Vi=Gi,Wi=function(){this.array=Vi.create(),this._dirty=!0};Wi.prototype={constructor:Wi,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new Wi).copy(this)},copy:function(t){return Vi.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return Vi.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return Vi.determinant(this.array)},identity:function(){return Vi.identity(this.array),this._dirty=!0,this},invert:function(){return Vi.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return Vi.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return Vi.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return Vi.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return Vi.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return Vi.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return Vi.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return Vi.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Wi.adjoint=function(t,e){return Vi.adjoint(t.array,e.array),t._dirty=!0,t},Wi.copy=function(t,e){return Vi.copy(t.array,e.array),t._dirty=!0,t},Wi.determinant=function(t){return Vi.determinant(t.array)},Wi.identity=function(t){return Vi.identity(t.array),t._dirty=!0,t},Wi.invert=function(t,e){return Vi.invert(t.array,e.array),t._dirty=!0,t},Wi.mul=function(t,e,n){return Vi.mul(t.array,e.array,n.array),t._dirty=!0,t},Wi.multiply=Wi.mul,Wi.rotate=function(t,e,n){return Vi.rotate(t.array,e.array,n),t._dirty=!0,t},Wi.scale=function(t,e,n){return Vi.scale(t.array,e.array,n.array),t._dirty=!0,t},Wi.transpose=function(t,e){return Vi.transpose(t.array,e.array),t._dirty=!0,t};var qi=Wi,Xi={create:function(){var t=new J(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new J(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*h+o*f,t[3]=i*h+a*f,t[4]=r*d+o*p+s,t[5]=i*d+a*p+u,t}};Xi.mul=Xi.multiply,Xi.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*-c+o*l,t[3]=i*-c+a*l,t[4]=s,t[5]=u,t},Xi.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=u,t},Xi.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*l+s,t[5]=i*c+a*l+u,t},Xi.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)};var Yi=Xi,$i=function(){this.array=Yi.create(),this._dirty=!0};$i.prototype={constructor:$i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new $i).copy(this)},copy:function(t){return Yi.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return Yi.determinant(this.array)},identity:function(){return Yi.identity(this.array),this._dirty=!0,this},invert:function(){return Yi.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return Yi.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return Yi.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return Yi.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return Yi.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return Yi.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return Yi.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return Yi.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},$i.copy=function(t,e){return Yi.copy(t.array,e.array),t._dirty=!0,t},$i.determinant=function(t){return Yi.determinant(t.array)},$i.identity=function(t){return Yi.identity(t.array),t._dirty=!0,t},$i.invert=function(t,e){return Yi.invert(t.array,e.array),t._dirty=!0,t},$i.mul=function(t,e,n){return Yi.mul(t.array,e.array,n.array),t._dirty=!0,t},$i.multiply=$i.mul,$i.rotate=function(t,e,n){return Yi.rotate(t.array,e.array,n),t._dirty=!0,t},$i.scale=function(t,e,n){return Yi.scale(t.array,e.array,n.array),t._dirty=!0,t},$i.translate=function(t,e,n){return Yi.translate(t.array,e.array,n.array),t._dirty=!0,t};var Zi=$i,Ki=function(){this.array=_e.create(),this._dirty=!0};Ki.prototype={constructor:Ki,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return _e.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Ki).copy(this)},copy:function(t){return _e.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return _e.determinant(this.array)},fromMat2d:function(t){return _e.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return _e.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return _e.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return _e.identity(this.array),this._dirty=!0,this},invert:function(){return _e.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return _e.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return _e.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return _e.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return _e.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return _e.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return _e.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return _e.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return _e.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return _e.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Ki.adjoint=function(t,e){return _e.adjoint(t.array,e.array),t._dirty=!0,t},Ki.copy=function(t,e){return _e.copy(t.array,e.array),t._dirty=!0,t},Ki.determinant=function(t){return _e.determinant(t.array)},Ki.identity=function(t){return _e.identity(t.array),t._dirty=!0,t},Ki.invert=function(t,e){return _e.invert(t.array,e.array),t},Ki.mul=function(t,e,n){return _e.mul(t.array,e.array,n.array),t._dirty=!0,t},Ki.multiply=Ki.mul,Ki.fromMat2d=function(t,e){return _e.fromMat2d(t.array,e.array),t._dirty=!0,t},Ki.fromMat4=function(t,e){return _e.fromMat4(t.array,e.array),t._dirty=!0,t},Ki.fromQuat=function(t,e){return _e.fromQuat(t.array,e.array),t._dirty=!0,t},Ki.normalFromMat4=function(t,e){return _e.normalFromMat4(t.array,e.array),t._dirty=!0,t},Ki.rotate=function(t,e,n){return _e.rotate(t.array,e.array,n),t._dirty=!0,t},Ki.scale=function(t,e,n){return _e.scale(t.array,e.array,n.array),t._dirty=!0,t},Ki.transpose=function(t,e){return _e.transpose(t.array,e.array),t._dirty=!0,t},Ki.translate=function(t,e,n){return _e.translate(t.array,e.array,n.array),t._dirty=!0,t};var Ji=Ki,Qi=n("06ad"),to={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){this._animators=this._animators||[];var n,r=this;if(t){for(var i=t.split("."),o=r,a=0,s=i.length;a<s;a++)o&&(o=o[i[a]]);o&&(n=o)}else n=r;if(null==n)throw new Error("Target "+t+" not exists");var u=this._animators,c=new Qi["b"](n,e),l=this;return c.during((function(){l.__zr&&l.__zr.refresh()})).done((function(){var t=u.indexOf(c);t>=0&&u.splice(t,1)})),u.push(c),this.__zr&&this.__zr.animation.addAnimator(c),c},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}},eo=to,no="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end",ro="\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n",io="@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end",oo="/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",ao="@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",so="@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n",uo="@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end";function co(t){return!t||"none"===t}function lo(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}function ho(t){return t.getZr&&t.setOption}Object.assign(ke.prototype,eo),zt.import(no),zt.import(Ut),zt.import(ro),zt.import(io),zt.import(oo),zt.import(ao),zt.import(so),zt.import(uo);var fo=Hn.prototype.addToScene,po=Hn.prototype.removeFromScene;Hn.prototype.addToScene=function(t){if(fo.call(this,t),this.__zr){var e=this.__zr;t.traverse((function(t){t.__zr=e,t.addAnimatorsToZr&&t.addAnimatorsToZr(e)}))}},Hn.prototype.removeFromScene=function(t){po.call(this,t),t.traverse((function(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}))},Z.prototype.setTextureImage=function(t,e,n,r){if(this.shader){var i,o=n.getZr(),a=this;return a.autoUpdateTextureStatus=!1,a.disableTexture(t),co(e)||(i=mo.loadTexture(e,n,r,(function(e){a.enableTexture(t),o&&o.refresh()})),a.set(t,i)),i}};var mo={};mo.Renderer=ie,mo.Node=ke,mo.Mesh=Xe,mo.Shader=zt,mo.Material=Z,mo.Texture=We,mo.Texture2D=tn,mo.Geometry=pn,mo.SphereGeometry=Di,mo.PlaneGeometry=dr,mo.CubeGeometry=vr,mo.AmbientLight=Ii,mo.DirectionalLight=Ri,mo.PointLight=ki,mo.SpotLight=Fi,mo.PerspectiveCamera=Zn,mo.OrthographicCamera=oi,mo.Vector2=it,mo.Vector3=fe,mo.Vector4=Hi,mo.Quaternion=Ce,mo.Matrix2=qi,mo.Matrix2d=Zi,mo.Matrix3=Ji,mo.Matrix4=Oe,mo.Plane=On,mo.Ray=me,mo.BoundingBox=Pe,mo.Frustum=In;var go=null;function vo(){return null!==go||(go=Qr.createBlank("rgba(255,255,255,0)").image),go}function yo(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function _o(t){if((t.wrapS===We.REPEAT||t.wrapT===We.REPEAT)&&t.image){var e=yo(t.width),n=yo(t.height);if(e!==t.width||n!==t.height){var r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");i.drawImage(t.image,0,0,e,n),t.image=r}}}mo.loadTexture=function(t,e,n,r){"function"===typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),o="",a=0;a<i.length;a++)o+=i[a]+"_"+n[i[a]]+"_";var s=e.__textureCache=e.__textureCache||new Gn["a"](20);if(ho(t)){var u=t.__textureid__,c=s.get(o+u);if(c)c.texture.surface.setECharts(t),r&&r(c.texture);else{var l=new ri(t);l.onupdate=function(){e.getZr().refresh()},c={texture:l.getTexture()};for(a=0;a<i.length;a++)c.texture[i[a]]=n[i[a]];u=t.__textureid__||"__ecgl_ec__"+c.texture.__uid__,t.__textureid__=u,s.put(o+u,c),r&&r(c.texture)}return c.texture}if(lo(t)){u=t.__textureid__,c=s.get(o+u);if(!c){c={texture:new mo.Texture2D({image:t})};for(a=0;a<i.length;a++)c.texture[i[a]]=n[i[a]];u=t.__textureid__||"__ecgl_image__"+c.texture.__uid__,t.__textureid__=u,s.put(o+u,c),_o(c.texture),r&&r(c.texture)}return c.texture}c=s.get(o+t);if(c)c.callbacks?c.callbacks.push(r):r&&r(c.texture);else if(t.match(/.hdr$|^data:application\/octet-stream/)){c={callbacks:[r]};var h=Qr.loadTexture(t,{exposure:n.exposure,fileType:"hdr"},(function(){h.dirty(),c.callbacks.forEach((function(t){t&&t(h)})),c.callbacks=null}));c.texture=h,s.put(o+t,c)}else{for(h=new mo.Texture2D({image:new Image}),a=0;a<i.length;a++)h[i[a]]=n[i[a]];c={texture:h,callbacks:[r]};var f=h.image;f.onload=function(){h.image=f,_o(h),h.dirty(),c.callbacks.forEach((function(t){t&&t(h)})),c.callbacks=null},f.crossOrigin="Anonymous",f.src=t,h.image=vo(),s.put(o+t,c)}return c.texture},mo.createAmbientCubemap=function(t,e,n,r){t=t||{};var i=t.texture,o=Ai.firstNotNull(t.exposure,1),a=new yi({intensity:Ai.firstNotNull(t.specularIntensity,1)}),s=new bi({intensity:Ai.firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return a.cubemap=mo.loadTexture(i,n,{exposure:o},(function(){a.cubemap.flipY=!1,a.prefilter(e,32),s.coefficients=Mi.projectEnvironmentMap(e,a.cubemap,{lod:1}),r&&r()})),{specular:a,diffuse:s}},mo.createBlankTexture=Qr.createBlank,mo.isImage=lo,mo.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)},mo.parseColor=function(t,e){return t instanceof Array?(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],t.length>3?e[3]=t[3]:e[3]=1,e):(e=r["h"].parse(t||"#000",e)||[0,0,0,0],e[0]/=255,e[1]/=255,e[2]/=255,e)},mo.directionFromAlphaBeta=function(t,e){var n=t/180*Math.PI+Math.PI/2,r=-e/180*Math.PI+Math.PI/2,i=[],o=Math.sin(n);return i[0]=o*Math.cos(r),i[1]=-Math.cos(n),i[2]=o*Math.sin(r),i},mo.getShadowResolution=function(t){var e=1024;switch(t){case"low":e=512;break;case"medium":break;case"high":e=2048;break;case"ultra":e=4096;break}return e},mo.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],mo.createShader=function(t){"ecgl.shadow"===t&&(t="ecgl.displayShadow");var e=zt.source(t+".vertex"),n=zt.source(t+".fragment");e||console.error("Vertex shader of '%s' not exits",t),n||console.error("Fragment shader of '%s' not exits",t);var r=new zt(e,n);return r.name=t,r},mo.createMaterial=function(t,e){e instanceof Array||(e=[e]);var n=mo.createShader(t),r=new Z({shader:n});return e.forEach((function(t){"string"===typeof t&&r.define(t)})),r},mo.setMaterialFromModel=function(t,e,n,r){e.autoUpdateTextureStatus=!1;var i=n.getModel(t+"Material"),o=i.get("detailTexture"),a=Ai.firstNotNull(i.get("textureTiling"),1),s=Ai.firstNotNull(i.get("textureOffset"),0);"number"===typeof a&&(a=[a,a]),"number"===typeof s&&(s=[s,s]);var u=a[0]>1||a[1]>1?mo.Texture.REPEAT:mo.Texture.CLAMP_TO_EDGE,c={anisotropic:8,wrapS:u,wrapT:u};if("realistic"===t){var l=i.get("roughness"),h=i.get("metalness");null!=h?isNaN(h)&&(e.setTextureImage("metalnessMap",h,r,c),h=Ai.firstNotNull(i.get("metalnessAdjust"),.5)):h=0,null!=l?isNaN(l)&&(e.setTextureImage("roughnessMap",l,r,c),l=Ai.firstNotNull(i.get("roughnessAdjust"),.5)):l=.5;var f=i.get("normalTexture");e.setTextureImage("detailMap",o,r,c),e.setTextureImage("normalMap",f,r,c),e.set({roughness:l,metalness:h,detailUvRepeat:a,detailUvOffset:s})}else if("lambert"===t)e.setTextureImage("detailMap",o,r,c),e.set({detailUvRepeat:a,detailUvOffset:s});else if("color"===t)e.setTextureImage("detailMap",o,r,c),e.set({detailUvRepeat:a,detailUvOffset:s});else if("hatching"===t){var d=i.get("hatchingTextures")||[];d.length;for(var p=0;p<6;p++)e.setTextureImage("hatch"+(p+1),d[p],r,{anisotropic:8,wrapS:mo.Texture.REPEAT,wrapT:mo.Texture.REPEAT});e.set({detailUvRepeat:a,detailUvOffset:s})}},mo.updateVertexAnimation=function(t,e,n,r){var i=r.get("animation"),o=r.get("animationDurationUpdate"),a=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&e&&o>0&&e.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var u=0;u<t.length;u++)n.geometry.attributes[t[u][0]].value=e.geometry.attributes[t[u][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(o,{__percent:1}).during((function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")})).start(a)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};var bo=mo,xo=n("98b7"),wo=function(t,e){this.id=t,this.zr=e;try{this.renderer=new ie({clearBit:0,devicePixelRatio:e.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(e.painter.getWidth(),e.painter.getHeight())}catch(i){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(i)}this.onglobalout=this.onglobalout.bind(this),e.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new ze({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new r["n"].Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function To(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}wo.prototype.setUnpainted=function(){},wo.prototype.addView=function(t){if(t.layer!==this){var e=this._viewsToDispose.indexOf(t);e>=0&&this._viewsToDispose.splice(e,1),this.views.push(t),t.layer=this;var n=this.zr;t.scene.traverse((function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)}))}},wo.prototype.removeView=function(t){if(t.layer===this){var e=this.views.indexOf(t);e>=0&&(this.views.splice(e,1),t.scene.traverse(To,this),t.layer=null,this._viewsToDispose.push(t))}},wo.prototype.removeViewsAll=function(){this.views.forEach((function(t){t.scene.traverse(To,this),t.layer=null,this._viewsToDispose.push(t)}),this),this.views.length=0},wo.prototype.resize=function(t,e){var n=this.renderer;n.resize(t,e)},wo.prototype.clear=function(){var t=this.renderer.gl,e=this._backgroundColor||[0,0,0,0];t.clearColor(e[0],e[1],e[2],e[3]),t.depthMask(!0),t.colorMask(!0,!0,!0,!0),t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT)},wo.prototype.clearDepth=function(){var t=this.renderer.gl;t.clear(t.DEPTH_BUFFER_BIT)},wo.prototype.clearColor=function(){var t=this.renderer.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},wo.prototype.needsRefresh=function(){this.zr.refresh()},wo.prototype.refresh=function(t){this._backgroundColor=t?bo.parseColor(t):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var e=0;e<this.views.length;e++)this.views[e].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(e=0;e<this._viewsToDispose.length;e++)this._viewsToDispose[e].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},wo.prototype.renderToCanvas=function(t){this._startAccumulating(!0),t.drawImage(this.dom,0,0,t.canvas.width,t.canvas.height)},wo.prototype._doRender=function(t){this.clear(),this.renderer.saveViewport();for(var e=0;e<this.views.length;e++)this.views[e].render(this.renderer,t);this.renderer.restoreViewport()},wo.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var So=1;function Oo(t){for(var e=0;e<t.length;e++)t[e].__used__=0}function Mo(t,e){for(var n=0;n<e.length;n++)e[n].__used__||e[n].dispose(t)}function Eo(t,e){t.__used__=t.__used__||0,t.__used__++,1===t.__used__&&e.push(t)}function Ao(t,e,n){var r,i;t.traverse((function(t){if(t.isRenderable()){var o=t.geometry,a=t.material;if(a!==r)for(var s=a.getTextureUniforms(),u=0;u<s.length;u++){var c=s[u],l=a.uniforms[c].value;if(l)if(l instanceof We)Eo(l,e);else if(l instanceof Array)for(var h=0;h<l.length;h++)l[h]instanceof We&&Eo(l[h],e)}o!==i&&Eo(o,n),r=a,i=o}}));for(var o=0;o<t.lights.length;o++)t.lights[o].cubemap&&Eo(t.lights[o].cubemap,e)}wo.prototype._startAccumulating=function(t){var e=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(e._accumulatingId&&r===e._accumulatingId){for(var o=!0,a=0;a<e.views.length;a++)o=e.views[a].isAccumulateFinished()&&n;o||(e._doRender(!0),t?i(r):Object(xo["a"])((function(){i(r)})))}}n&&(this._accumulatingId=So++,t?i(e._accumulatingId):this._accumulatingTimeout=setTimeout((function(){i(e._accumulatingId)}),50))},wo.prototype._trackAndClean=function(){var t=[],e=[];this._textureList&&(Oo(this._textureList),Oo(this._geometriesList));for(var n=0;n<this.views.length;n++)Ao(this.views[n].scene,t,e);this._textureList&&(Mo(this.renderer,this._textureList),Mo(this.renderer,this._geometriesList)),this._textureList=t,this._geometriesList=e},wo.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(Oo(this._textureList),Oo(this._geometriesList),Mo(this.renderer,this._textureList),Mo(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},wo.prototype.onmousedown=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mousedown",t,e),this._dispatchDataEvent("mousedown",t,e)),this._downX=t.offsetX,this._downY=t.offsetY}},wo.prototype.onmousemove=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY),n=e&&e.target,r=this._hovered;this._hovered=e,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",t,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",t,e),e&&(this.zr.setCursorStyle("pointer"),r&&n===r.target||this._dispatchEvent("mouseover",t,e)),this._dispatchDataEvent("mousemove",t,e)}},wo.prototype.onmouseup=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mouseup",t,e),this._dispatchDataEvent("mouseup",t,e)),this._upX=t.offsetX,this._upY=t.offsetY}},wo.prototype.onclick=wo.prototype.dblclick=function(t){if(!t.target||!t.target.__isGLToZRProxy){var e=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(e*e+n*n)>20)){t=t.event;var r=this.pickObject(t.offsetX,t.offsetY);r&&(this._dispatchEvent(t.type,t,r),this._dispatchDataEvent(t.type,t,r));var i=this._clickToSetFocusPoint(t);if(i){var o=i.view.setDOFFocusOnPoint(i.distance);o&&this.zr.refresh()}}}},wo.prototype._clickToSetFocusPoint=function(t){for(var e=this.renderer,n=e.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(t.offsetX,t.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,e.viewport=i.viewport;var o=this._picking.pick(t.offsetX,t.offsetY,!0);if(o)return o.view=i,o}}e.viewport=n},wo.prototype.onglobalout=function(t){var e=this._hovered;e&&this._dispatchEvent("mouseout",t,{target:e.target})},wo.prototype.pickObject=function(t,e){for(var n=[],r=this.renderer,i=r.viewport,o=0;o<this.views.length;o++){var a=this.views[o];a.containPoint(t,e)&&(this._picking.scene=a.scene,this._picking.camera=a.camera,r.viewport=a.viewport,this._picking.pickAll(t,e,n))}return r.viewport=i,n.sort((function(t,e){return t.distance-e.distance})),n[0]},wo.prototype._dispatchEvent=function(t,e,n){n||(n={});var r=n.target;n.cancelBubble=!1,n.event=e,n.type=t,n.offsetX=e.offsetX,n.offsetY=e.offsetY;while(r)if(r.trigger(t,n),r=r.getParent(),n.cancelBubble)break;this._dispatchToView(t,n)},wo.prototype._dispatchDataEvent=function(t,e,n){var i=n&&n.target,o=i&&i.dataIndex,a=i&&i.seriesIndex,s=i&&i.eventData,u=!1,c=this._zrEventProxy;c.x=e.offsetX,c.y=e.offsetY,c.update();var l={target:c};const h=r["o"].getECData(c);"mousemove"===t&&(null!=o?o!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(h.dataIndex=this._lastDataIndex,h.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(l,"mouseout",e)),u=!0):null!=s&&s!==this._lastEventData&&(null!=this._lastEventData&&(h.eventData=this._lastEventData,this.zr.handler.dispatchToElement(l,"mouseout",e)),u=!0),this._lastEventData=s,this._lastDataIndex=o,this._lastSeriesIndex=a),h.eventData=s,h.dataIndex=o,h.seriesIndex=a,(null!=s||parseInt(o,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(l,t,e),u&&this.zr.handler.dispatchToElement(l,"mouseover",e))},wo.prototype._dispatchToView=function(t,e){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(e.offsetX,e.offsetY)&&this.views[n].trigger(t,e)},Object.assign(wo.prototype,l);var Co=wo,Do=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function Lo(t,e){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function Io(t){Lo(t,"itemStyle"),Lo(t,"lineStyle"),Lo(t,"areaStyle"),Lo(t,"label")}function Po(t){t&&(t instanceof Array||(t=[t]),r["x"].each(t,(function(t){if(t.axisLabel){var e=t.axisLabel;Object.assign(e,e.textStyle),e.textStyle=null}})))}var Ro=function(t){r["x"].each(t.series,(function(e){r["x"].indexOf(Do,e.type)>=0&&(Io(e),"mapbox"===e.coordinateSystem&&(e.coordinateSystem="mapbox3D",t.mapbox3D=t.mapbox))})),Po(t.xAxis3D),Po(t.yAxis3D),Po(t.zAxis3D),Po(t.grid3D),Lo(t.geo3D)};function No(t){this._layers={},this._zr=t}No.prototype.update=function(t,e){var n=this,i=e.getZr();if(i.getWidth()&&i.getHeight()){for(var o in this._layers)this._layers[o].removeViewsAll();t.eachComponent((function(n,r){if("series"!==n){var i=e.getViewOfComponentModel(r),o=r.coordinateSystem;if(i.__ecgl__){if(o){if(!o.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+r.id);u=o.viewGL}else{if(!r.viewGL)return void console.error("Can't find viewGL of component "+r.id);u=o.viewGL}var u=o.viewGL,c=a(r);c.addView(u),i.afterRender&&i.afterRender(r,t,e,c),s(i.groupGL,r.get("silent"))}}})),t.eachSeries((function(n){var r=e.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error("Can't find viewGL of series "+r.id);var o=i&&i.viewGL||r.viewGL,u=a(n);u.addView(o),r.afterRender&&r.afterRender(n,t,e,u),s(r.groupGL,n.get("silent"))}}))}else console.warn("Dom has no width or height");function a(t){var e;i.setSleepAfterStill(0),e=(t.coordinateSystem&&t.coordinateSystem.model,t.get("zlevel"));var o=n._layers,a=o[e];if(!a){if(a=o[e]=new Co("gl-"+e,i),i.painter.isSingleCanvas()){a.virtual=!0;var s=new r["n"].Image({z:1e4,style:{image:a.renderer.canvas},silent:!0});a.__hostImage=s,i.add(s)}i.painter.insertLayer(e,a)}return a.__hostImage&&a.__hostImage.setStyle({width:a.renderer.getWidth(),height:a.renderer.getHeight()}),a}function s(t,e){t&&t.traverse((function(t){t.isRenderable&&t.isRenderable()&&(t.ignorePicking=null!=t.$ignorePicking?t.$ignorePicking:e)}))}},r["t"]((function(t){var e=t.getZr(),n=e.painter.dispose;e.painter.dispose=function(){this.eachOtherLayer((function(t){t instanceof Co&&t.dispose()})),n.call(this)},e.painter.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=document.createElement("canvas"),n=t.pixelRatio||this.dpr;e.width=this.getWidth()*n,e.height=this.getHeight()*n;var r=e.getContext("2d");r.dpr=n,r.clearRect(0,0,e.width,e.height),t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,e.width,e.height));var i,o=this.storage.getDisplayList(!0),a={},s=this;function u(t,e){var n,i=s._zlevelList;null==t&&(t=-1/0);for(var o=0;o<i.length;o++){var a=i[o],u=s._layers[a];if(!u.__builtin__&&a>t&&a<e){n=u;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var c={ctx:r},l=0;l<o.length;l++){var h=o[l];h.zlevel!==i&&(u(i,h.zlevel),i=h.zlevel),this._doPaintEl(h,c,!0,null,a)}return u(i,1/0),e}})),r["u"]((function(t,e){var n=e.getZr(),r=n.__egl=n.__egl||new No(n);r.update(t,e)})),r["v"](Ro);var ko={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(t){t=t||{},this.option.viewControl=this.option.viewControl||{},null!=t.alpha&&(this.option.viewControl.alpha=t.alpha),null!=t.beta&&(this.option.viewControl.beta=t.beta),null!=t.distance&&(this.option.viewControl.distance=t.distance),null!=t.center&&(this.option.viewControl.center=t.center)}},jo={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},Fo={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}},Bo=r["c"].extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});r["x"].merge(Bo.prototype,ko),r["x"].merge(Bo.prototype,jo),r["x"].merge(Bo.prototype,Fo);var zo=Bo,Uo=n("7837"),Ho=Ai.firstNotNull,Go={left:0,middle:1,right:2};function Vo(t){return t instanceof Array||(t=[t,t]),t}var Wo=v.extend((function(){return{zr:null,viewGL:null,_center:new fe,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new it,_panVelocity:new it,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach((function(t){this[t]=this[t].bind(this)}),this)}),{init:function(){var t=this.zr;t&&(t.on("mousedown",this._mouseDownHandler),t.on("globalout",this._mouseUpHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("pinch",this._pinchHandler),t.animation.on("frame",this._update),t.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var t=this.zr;t&&(t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("pinch",this._pinchHandler),t.off("globalout",this._mouseUpHandler),t.dom.removeEventListener("contextmenu",this._contextMenuHandler),t.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(t){this._distance=t,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(t){this._orthoSize=t,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(t){t=Math.max(Math.min(this.maxAlpha,t),this.minAlpha),this._theta=t/180*Math.PI,this._needsUpdate=!0},setBeta:function(t){t=Math.max(Math.min(this.maxBeta,t),this.minBeta),this._phi=-t/180*Math.PI,this._needsUpdate=!0},setCenter:function(t){this._center.setArray(t)},setViewGL:function(t){this.viewGL=t},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(t,e){e=e||{};var n=e.baseDistance||0,r=e.baseOrthoSize||1,i=t.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(i="perspective"),this._projection=i,this.viewGL.setProjection(i);var o=t.get("distance")+n,a=t.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach((function(e){this[e[0]]=Ho(t.get(e[0]),e[1])}),this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var s=t.ecModel,u={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach((function(e){u[e]=Ho(t.get(e),s&&s.get(e))}));var c=Ho(e.alpha,t.get("alpha"))||0,l=Ho(e.beta,t.get("beta"))||0,h=Ho(e.center,t.get("center"))||[0,0,0];u.animation&&u.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:c,beta:l,center:h,distance:o,orthographicSize:a,easing:u.animationEasingUpdate,duration:u.animationDurationUpdate}):(this.setDistance(o),this.setAlpha(c),this.setBeta(l),this.setCenter(h),this.setOrthographicSize(a)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){0},animateTo:function(t){var e=this.zr,n=this,r={},i={};return null!=t.distance&&(r.distance=this.getDistance(),i.distance=t.distance),null!=t.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=t.orthographicSize),null!=t.alpha&&(r.alpha=this.getAlpha(),i.alpha=t.alpha),null!=t.beta&&(r.beta=this.getBeta(),i.beta=t.beta),null!=t.center&&(r.center=this.getCenter(),i.center=t.center),this._addAnimator(e.animation.animate(r).when(t.duration||1e3,i).during((function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0}))).start(t.easing||"linear")},stopAllAnimation:function(){for(var t=0;t<this._animators.length;t++)this._animators[t].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(t){if(this._rotating){var e=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=e*t/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(t=Math.min(t,50),this._updateDistanceOrSize(t),this._updatePan(t),this._updateRotate(t),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(t){var e=this._rotateVelocity;this._phi=e.y*t/20+this._phi,this._theta=e.x*t/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(e,Math.pow(this.damping,t/16))},_updateDistanceOrSize:function(t){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*t/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*t/20),this._zoomSpeed*=Math.pow(this.damping,t/16)},_setDistance:function(t){this._distance=Math.max(Math.min(t,this.maxDistance),this.minDistance)},_setOrthoSize:function(t){this._orthoSize=Math.max(Math.min(t,this.maxOrthographicSize),this.minOrthographicSize);var e=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;e.left=-r/2,e.right=r/2,e.top=n/2,e.bottom=-n/2},_updatePan:function(t){var e=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,o=r.worldTransform.x;this._center.scaleAndAdd(o,-e.x*n/200).scaleAndAdd(i,-e.y*n/200),this._vectorDamping(e,0)},_updateTransform:function(){var t=this.getCamera(),e=new fe,n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);e.x=i*Math.cos(r),e.y=-Math.cos(n),e.z=i*Math.sin(r),t.position.copy(this._center).scaleAndAdd(e,this._distance),t.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var t=this.autoRotateAfterStill,e=this;!isNaN(t)&&t>0&&(this._stillTimeout=setTimeout((function(){e._rotating=!0}),1e3*t))},_vectorDamping:function(t,e){var n=t.len();n*=e,n<1e-4&&(n=0),t.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var t=this.getCamera().worldTransform.z,e=Math.asin(t.y),n=Math.atan2(t.x,t.z);this._theta=e,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(t){if(!t.target&&!this._isAnimating()){var e=t.offsetX,n=t.offsetY;this.viewGL&&!this.viewGL.containPoint(e,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),t.event.targetTouches?1===t.event.targetTouches.length&&(this._mode="rotate"):t.event.button===Go[this.rotateMouseButton]?this._mode="rotate":t.event.button===Go[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=t.offsetX,this._mouseY=t.offsetY)}},_mouseMoveHandler:function(t){if((!t.target||!t.target.__isGLToZRProxy)&&!this._isAnimating()){var e=Vo(this.panSensitivity),n=Vo(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(t.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(t.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):"pan"===this._mode&&(this._panVelocity.x=(t.offsetX-this._mouseX)/this.zr.getWidth()*e[0]*400,this._panVelocity.y=(-t.offsetY+this._mouseY)/this.zr.getHeight()*e[1]*400),this._mouseX=t.offsetX,this._mouseY=t.offsetY,t.event.preventDefault()}},_mouseWheelHandler:function(t){if(!this._isAnimating()){var e=t.event.wheelDelta||-t.event.detail;this._zoomHandler(t,e)}},_pinchHandler:function(t){this._isAnimating()||(this._zoomHandler(t,t.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(t,e){if(0!==e){var n,r=t.offsetX,i=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,i))n="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(e>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),t.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(t){this._isRightMouseButtonUsed()&&t.preventDefault()},_addAnimator:function(t){var e=this._animators;return e.push(t),t.done((function(){var n=e.indexOf(t);n>=0&&e.splice(n,1)})),t}});Object.defineProperty(Wo.prototype,"autoRotate",{get:function(t){return this._autoRotate},set:function(t){this._autoRotate=t,this._rotating=t}});var qo=Wo,Xo={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var n in e)t||!e[n].value?e[n].value=[]:e[n].value=Array.prototype.slice.call(e[n].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&t[e].value.length>0?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},Yo={vec2:et,vec3:Wt,vec4:ve,mat2:Vi,mat2d:Yi,mat3:_e,mat4:Gt,quat:xe},$o=Yo,Zo=$o.vec3,Ko=[[0,0],[1,1]],Jo=pn.extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new pn.Attribute("position","float",3,"POSITION"),positionPrev:new pn.Attribute("positionPrev","float",3),positionNext:new pn.Attribute("positionNext","float",3),prevPositionPrev:new pn.Attribute("prevPositionPrev","float",3),prevPosition:new pn.Attribute("prevPosition","float",3),prevPositionNext:new pn.Attribute("prevPositionNext","float",3),offset:new pn.Attribute("offset","float",1),color:new pn.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.positionPrev.init(t),e.positionNext.init(t),e.offset.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){var i=Zo.dist(t,e)+Zo.dist(n,e)+Zo.dist(r,n),o=1/(i+1)*this.segmentScale;return o},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),o=Math.ceil(1/i);return this.useNativeLine?2*o:2*o+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),o=Math.ceil(1/i);return this.useNativeLine?0:2*o},getLineVertexCount:function(){return this.getPolylineVertexCount(Ko)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(Ko)},getPolylineVertexCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/3}return this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/3}return this.useNativeLine?0:2*Math.max(e-1,0)},addCubicCurve:function(t,e,n,r,i,o){null==o&&(o=1);var a=t[0],s=t[1],u=t[2],c=e[0],l=e[1],h=e[2],f=n[0],d=n[1],p=n[2],m=r[0],g=r[1],v=r[2],y=this._getCubicCurveApproxStep(t,e,n,r),_=y*y,b=_*y,x=3*y,w=3*_,T=6*_,S=6*b,O=a-2*c+f,M=s-2*l+d,E=u-2*h+p,A=3*(c-f)-a+m,C=3*(l-d)-s+g,D=3*(h-p)-u+v,L=a,I=s,P=u,R=(c-a)*x+O*w+A*b,N=(l-s)*x+M*w+C*b,k=(h-u)*x+E*w+D*b,j=O*T+A*S,F=M*T+C*S,B=E*T+D*S,z=A*S,U=C*S,H=D*S,G=0,V=0,W=Math.ceil(1/y),q=new Float32Array(3*(W+1)),X=(q=[],0);for(V=0;V<W+1;V++)q[X++]=L,q[X++]=I,q[X++]=P,L+=R,I+=N,P+=k,R+=j,N+=F,k+=B,j+=z,F+=U,B+=H,G+=y,G>1&&(L=R>0?Math.min(L,m):Math.max(L,m),I=N>0?Math.min(I,g):Math.max(I,g),P=k>0?Math.min(P,v):Math.max(P,v));return this.addPolyline(q,i,o)},addLine:function(t,e,n,r){return this.addPolyline([t,e],n,r)},addPolyline:function(t,e,n,r,i){if(t.length){var o="number"!==typeof t[0];if(null==i&&(i=o?t.length:t.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);o="number"!==typeof t[0];var a,s,u=o?"number"!==typeof e[0]:e.length/4===i,c=this.attributes.position,l=this.attributes.positionPrev,h=this.attributes.positionNext,f=this.attributes.color,d=this.attributes.offset,p=this.indices,m=this._vertexOffset;n=Math.max(n,.01);for(var g=r;g<i;g++){if(o)a=t[g],s=u?e[g]:e;else{var v=3*g;if(a=a||[],a[0]=t[v],a[1]=t[v+1],a[2]=t[v+2],u){var y=4*g;s=s||[],s[0]=e[y],s[1]=e[y+1],s[2]=e[y+2],s[3]=e[y+3]}else s=e}if(this.useNativeLine?g>1&&(c.copy(m,m-1),f.copy(m,m-1),m++):(g<i-1&&(l.set(m+2,a),l.set(m+3,a)),g>0&&(h.set(m-2,a),h.set(m-1,a)),c.set(m,a),c.set(m+1,a),f.set(m,s),f.set(m+1,s),d.set(m,n/2),d.set(m+1,-n/2),m+=2),this.useNativeLine)f.set(m,s),c.set(m,a),m++;else if(g>0){var _=3*this._triangleOffset;p=this.indices;p[_]=m-4,p[_+1]=m-3,p[_+2]=m-2,p[_+3]=m-3,p[_+4]=m-1,p[_+5]=m-2,this._triangleOffset+=2}}if(!this.useNativeLine){var b=this._vertexOffset,x=this._vertexOffset+2*i;l.copy(b,b+2),l.copy(b+1,b+3),h.copy(x-1,x-3),h.copy(x-2,x-4)}return this._vertexOffset=m,this._vertexOffset}}},setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});r["x"].defaults(Jo.prototype,Xo);var Qo=Jo;function ta(t,e,n,r,i,o,a){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=e,this.offsetY=n,this.dpr=a,this.gap=o}function ea(t){t=t||{},t.width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=null==t.gap?2:t.gap;var e=document.createElement("canvas");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new tn({image:e,flipY:!1});var n=this;this._zr=r["y"].init(e);var i=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new ta(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}ta.prototype={constructor:ta,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,n){var r=t.getBoundingRect();null==e&&(e=r.width),null==n&&(n=r.height),e*=this.dpr,n*=this.dpr,this._fitElement(t,e,n);var i=this._x,o=this._y,a=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+e+u>a&&(i=this._x=0,o+=this._rowHeight+u,this._y=o,this._rowHeight=0),this._x+=e+u,this._rowHeight=Math.max(this._rowHeight,n),o+n+u>s)return null;t.x+=this.offsetX*this.dpr+i,t.y+=this.offsetY*this.dpr+o,this._zr.add(t);var c=[this.offsetX/this.width,this.offsetY/this.height],l=[[i/a+c[0],o/s+c[1]],[(i+e)/a+c[0],(o+n)/s+c[1]]];return l},_fitElement:function(t,e,n){var r=t.getBoundingRect(),i=e/r.width,o=n/r.height;t.x=-r.x*i,t.y=-r.y*o,t.scaleX=i,t.scaleY=o,t.update()}},ea.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes,n=e.length,r=n*this._nodeWidth%t,i=Math.floor(n*this._nodeWidth/t)*this._nodeHeight;if(!(i>=t)){var o=(r+this._nodeWidth)*this._dpr,a=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:o,height:a})}catch(u){this._canvas.width=o,this._canvas.height=a}var s=new ta(this._zr,r,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s}},add:function(t,e,n){if(this._coords[t.id])return this._coords[t.id];var r=this._getCurrentNode().add(t,e,n);if(!r){var i=this._expand();if(!i)return;r=i.add(t,e,n)}return this._coords[t.id]=r,r},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]},dispose:function(){this._zr.dispose()}};var na=ea;function ra(){}ra.prototype={constructor:ra,setScene:function(t){this._scene=t,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(t){this._lightRoot=t,this.mainLight=new bo.DirectionalLight({shadowBias:.005}),this.ambientLight=new bo.AmbientLight,t.add(this.mainLight),t.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(t){var e=this.mainLight,n=this.ambientLight,r=t.getModel("light"),i=r.getModel("main"),o=r.getModel("ambient");e.intensity=i.get("intensity"),n.intensity=o.get("intensity"),e.color=bo.parseColor(i.get("color")).slice(0,3),n.color=bo.parseColor(o.get("color")).slice(0,3);var a=i.get("alpha")||0,s=i.get("beta")||0;e.position.setArray(bo.directionFromAlphaBeta(a,s)),e.lookAt(bo.Vector3.ZERO),e.castShadow=i.get("shadow"),e.shadowResolution=bo.getShadowResolution(i.get("shadowQuality"))},updateAmbientCubemap:function(t,e,n){var r=e.getModel("light.ambientCubemap"),i=r.get("texture");if(i){this._cubemapLightsCache=this._cubemapLightsCache||{};var o=this._cubemapLightsCache[i];if(!o){var a=this;o=this._cubemapLightsCache[i]=bo.createAmbientCubemap(r.option,t,n,(function(){a._isSkyboxFromAmbientCubemap&&a._skybox.setEnvironmentMap(o.specular.cubemap),n.getZr().refresh()}))}this._lightRoot.add(o.diffuse),this._lightRoot.add(o.specular),this._currentCubemapLights=o}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(t,e,n){var i=e.get("environment"),o=this;function a(){return o._skybox=o._skybox||new br,o._skybox}var s=a();if(i&&"none"!==i)if("auto"===i)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var u=this._currentCubemapLights.specular.cubemap;s.setEnvironmentMap(u),this._scene&&s.attachScene(this._scene),s.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"===typeof i&&i.colorStops||"string"===typeof i&&r["h"].parse(i)){this._isSkyboxFromAmbientCubemap=!1;var c=new bo.Texture2D({anisotropic:8,flipY:!1});s.setEnvironmentMap(c);var l=c.image=document.createElement("canvas");l.width=l.height=16;var h=l.getContext("2d"),f=new r["n"].Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:i}});r["p"](h,f),s.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;c=bo.loadTexture(i,n,{anisotropic:8,flipY:!1});s.setEnvironmentMap(c),s.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=e.coordinateSystem;if(this._skybox)if(!d||!d.viewGL||"auto"===i||i.match&&i.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var p=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[p]("fragment","SRGB_DECODE")}}};var ia=ra,oa=$o.vec3,aa=pn.extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new pn.Attribute("position","float",3,"POSITION"),normal:new pn.Attribute("normal","float",3,"NORMAL"),color:new pn.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(t){var e=this.attributes,n=this.getQuadVertexCount()*t,r=this.getQuadTriangleCount()*t;this.vertexCount!==n&&(e.position.init(n),e.normal.init(n),e.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var t=oa.create(),e=oa.create(),n=oa.create(),r=[0,3,1,3,2,1];return function(i,o){var a=this.attributes.position,s=this.attributes.normal,u=this.attributes.color;oa.sub(t,i[1],i[0]),oa.sub(e,i[2],i[1]),oa.cross(n,t,e),oa.normalize(n,n);for(var c=0;c<4;c++)a.set(this._vertexOffset+c,i[c]),u.set(this._vertexOffset+c,o),s.set(this._vertexOffset+c,n);var l=3*this._faceOffset;for(c=0;c<6;c++)this.indices[l+c]=r[c]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});r["x"].defaults(aa.prototype,Xo);var sa=aa,ua=Ai.firstNotNull,ca={x:0,y:2,z:1};function la(t,e,n,r){var i=[0,0,0],o=r<0?n.getExtentMin():n.getExtentMax();i[ca[n.dim]]=o,t.position.setArray(i),t.rotation.identity(),e.distance=-Math.abs(o),e.normal.set(0,0,0),"x"===n.dim?(t.rotation.rotateY(r*Math.PI/2),e.normal.x=-r):"z"===n.dim?(t.rotation.rotateX(-r*Math.PI/2),e.normal.y=-r):(r>0&&t.rotation.rotateY(Math.PI),e.normal.z=-r)}function ha(t,e,n){this.rootNode=new bo.Node;var r=new bo.Mesh({geometry:new Qo({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new bo.Mesh({geometry:new sa,material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=t,this.plane=new bo.Plane,this.linesMesh=r,this.quadsMesh=i}ha.prototype.update=function(t,e,n){var r=t.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],o=this.linesMesh.geometry,a=this.quadsMesh.geometry;o.convertToDynamicArray(!0),a.convertToDynamicArray(!0),this._updateSplitLines(o,i,t,n),this._udpateSplitAreas(a,i,t,n),o.convertToTypedArray(),a.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);la(this.rootNode,this.plane,s,this.faceInfo[3])},ha.prototype._updateSplitLines=function(t,e,n,i){var o=i.getDevicePixelRatio();e.forEach((function(i,a){var s=i.model,u=e[1-a].getExtent();if(!i.scale.isBlank()){var c=s.getModel("splitLine",n.getModel("splitLine"));if(c.get("show")){var l=c.getModel("lineStyle"),h=l.get("color"),f=ua(l.get("opacity"),1),d=ua(l.get("width"),1);h=r["x"].isArray(h)?h:[h];for(var p=i.getTicksCoords({tickModel:c}),m=0,g=0;g<p.length;g++){var v=p[g].coord,y=bo.parseColor(h[m%h.length]);y[3]*=f;var _=[0,0,0],b=[0,0,0];_[a]=b[a]=v,_[1-a]=u[0],b[1-a]=u[1],t.addLine(_,b,y,d*o),m++}}}}))},ha.prototype._udpateSplitAreas=function(t,e,n,i){e.forEach((function(i,o){var a=i.model,s=e[1-o].getExtent();if(!i.scale.isBlank()){var u=a.getModel("splitArea",n.getModel("splitArea"));if(u.get("show")){var c=u.getModel("areaStyle"),l=c.get("color"),h=ua(c.get("opacity"),1);l=r["x"].isArray(l)?l:[l];for(var f=i.getTicksCoords({tickModel:u,clamp:!0}),d=0,p=[0,0,0],m=[0,0,0],g=0;g<f.length;g++){var v=f[g].coord,y=[0,0,0],_=[0,0,0];if(y[o]=_[o]=v,y[1-o]=s[0],_[1-o]=s[1],0!==g){var b=bo.parseColor(l[d%l.length]);b[3]*=h,t.addQuad([p,y,_,m],b),p=y,m=_,d++}else p=y,m=_}}}}))};var fa=ha,da=[0,1,2,0,2,3],pa=pn.extend((function(){return{attributes:{position:new pn.Attribute("position","float",3,"POSITION"),texcoord:new pn.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new pn.Attribute("offset","float",2),color:new pn.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){this._spriteCount=t;var e=4*t,n=2*t;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==n&&(this.indices=e>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(t,e,n,r,i){var o,a,s,u;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":o=i,s=e[0]+i;break;case"center":case"middle":o=-e[0]/2,s=e[0]/2;break;case"right":o=-e[0]-i,s=-i;break}switch(r){case"bottom":a=i,u=e[1]+i;break;case"middle":a=-e[1]/2,u=e[1]/2;break;case"top":a=-e[1]-i,u=-i;break}var c=4*t,l=this.attributes.offset;l.set(c,[o,u]),l.set(c+1,[s,u]),l.set(c+2,[s,a]),l.set(c+3,[o,a])},addSprite:function(t,e,n,r,i,o){var a=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,n,r,i,o);for(var s=0;s<da.length;s++)this.indices[3*this._faceOffset+s]=da[s]+a;return this._faceOffset+=2,this._vertexOffset+=4,a/4},setSprite:function(t,e,n,r,i,o,a){for(var s=4*t,u=this.attributes,c=0;c<4;c++)u.position.set(s+c,e);var l=u.texcoord;l.set(s,[r[0][0],r[0][1]]),l.set(s+1,[r[1][0],r[0][1]]),l.set(s+2,[r[1][0],r[1][1]]),l.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(t,n,i,o,a)}});r["x"].defaults(pa.prototype,Xo);var ma=pa,ga="@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end";bo.Shader.import(ga);var va=bo.Mesh.extend((function(){var t=new ma({dynamic:!0}),e=new bo.Material({shader:bo.createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:t,material:e,culling:!1,castShadow:!1,ignorePicking:!0}})),ya=Ai.firstNotNull,_a={x:0,y:2,z:1};function ba(t,e){var n=new bo.Mesh({geometry:new Qo({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new va;r.material.depthMask=!1;var i=new bo.Node;i.add(n),i.add(r),this.rootNode=i,this.dim=t,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var xa={x:"y",y:"x",z:"y"};ba.prototype.update=function(t,e,n){var i=t.coordinateSystem,o=i.getAxis(this.dim),a=this.linesMesh.geometry,s=this.labelsMesh.geometry;a.convertToDynamicArray(!0),s.convertToDynamicArray(!0);var u=o.model,c=o.getExtent(),l=n.getDevicePixelRatio(),h=u.getModel("axisLine",t.getModel("axisLine")),f=u.getModel("axisTick",t.getModel("axisTick")),d=u.getModel("axisLabel",t.getModel("axisLabel")),p=h.get("lineStyle.color");if(h.get("show")){var m=h.getModel("lineStyle"),g=[0,0,0],v=[0,0,0],y=_a[o.dim];g[y]=c[0],v[y]=c[1],this.axisLineCoords=[g,v];var _=bo.parseColor(p),b=ya(m.get("width"),1),x=ya(m.get("opacity"),1);_[3]*=x,a.addLine(g,v,_,b*l)}if(f.get("show")){var w=f.getModel("lineStyle"),T=bo.parseColor(ya(w.get("color"),p));b=ya(w.get("width"),1);T[3]*=ya(w.get("opacity"),1);for(var S=o.getTicksCoords(),O=f.get("length"),M=0;M<S.length;M++){var E=S[M].coord,A=(g=[0,0,0],v=[0,0,0],y=_a[o.dim],_a[xa[o.dim]]);g[y]=v[y]=E,v[A]=O,a.addLine(g,v,T,b*l)}}this.labelElements=[];l=n.getDevicePixelRatio();if(d.get("show")){S=o.getTicksCoords();var C=u.get("data"),D=d.get("margin"),L=o.getViewLabels();for(M=0;M<L.length;M++){var I=L[M].tickValue,P=L[M].formattedLabel,R=L[M].rawLabel,N=(E=o.dataToCoord(I),[0,0,0]);y=_a[o.dim],A=_a[xa[o.dim]];N[y]=N[y]=E,N[A]=D;var k=d;C&&C[I]&&C[I].textStyle&&(k=new r["f"](C[I].textStyle,d,u.ecModel));var j=ya(k.get("color"),p),F=new r["n"].Text({style:Object(Uo["c"])(k,{text:P,fill:"function"===typeof j?j("category"===o.type?R:"value"===o.type?I+"":I,M):j,verticalAlign:"top",align:"left"})}),B=e.add(F),z=F.getBoundingRect();s.addSprite(N,[z.width*l,z.height*l],B),this.labelElements.push(F)}}if(u.get("name")){var U=u.getModel("nameTextStyle"),H=(N=[0,0,0],y=_a[o.dim],A=_a[xa[o.dim]],ya(U.get("color"),p)),G=U.get("borderColor");b=U.get("borderWidth");N[y]=N[y]=(c[0]+c[1])/2,N[A]=u.get("nameGap");F=new r["n"].Text({style:Object(Uo["c"])(U,{text:u.get("name"),fill:H,stroke:G,lineWidth:b})}),B=e.add(F),z=F.getBoundingRect();s.addSprite(N,[z.width*l,z.height*l],B),F.__idx=this.labelElements.length,this.nameLabelElement=F}this.labelsMesh.material.set("textureAtlas",e.getTexture()),this.labelsMesh.material.set("uvScale",e.getCoordsScale()),a.convertToTypedArray(),s.convertToTypedArray()},ba.prototype.setSpriteAlign=function(t,e,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,o=0;o<this.labelElements.length;o++){var a=this.labelElements[o],s=a.getBoundingRect();i.setSpriteAlign(o,[s.width*r,s.height*r],t,e)}var u=this.nameLabelElement;if(u){s=u.getBoundingRect();i.setSpriteAlign(u.__idx,[s.width*r,s.height*r],t,e),i.dirty()}this.textAlign=t,this.textVerticalAlign=e};var wa=ba,Ta="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",Sa=Ai.firstNotNull;bo.Shader.import(Ta);var Oa={x:0,y:2,z:1},Ma=r["d"].extend({type:"grid3D",__ecgl__:!0,init:function(t,e){var n=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],r=["x","y","z"],i=new bo.Material({shader:bo.createShader("ecgl.color"),depthMask:!1,transparent:!0}),o=new bo.Material({shader:bo.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});i.define("fragment","DOUBLE_SIDED"),i.define("both","VERTEX_COLOR"),this.groupGL=new bo.Node,this._control=new qo({zr:e.getZr()}),this._control.init(),this._faces=n.map((function(t){var e=new fa(t,o,i);return this.groupGL.add(e.rootNode),e}),this),this._axes=r.map((function(t){var e=new wa(t,o);return this.groupGL.add(e.rootNode),e}),this);var a=e.getDevicePixelRatio();this._axisLabelSurface=new na({width:256,height:256,devicePixelRatio:a}),this._axisLabelSurface.onupdate=function(){e.getZr().refresh()},this._axisPointerLineMesh=new bo.Mesh({geometry:new Qo({useNativeLine:!1}),material:o,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new na({width:128,height:128,devicePixelRatio:a}),this._axisPointerLabelsMesh=new va({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new bo.Node,this._sceneHelper=new ia,this._sceneHelper.initLight(this._lightRoot)},render:function(t,e,n){this._model=t,this._api=n;var r=t.coordinateSystem;r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var o=t.getModel("viewControl");i.setFromViewControlModel(o,0),this._axisLabelSurface.clear(),i.off("update"),t.get("show")&&(this._faces.forEach((function(r){r.update(t,e,n)}),this),this._axes.forEach((function(e){e.update(t,this._axisLabelSurface,n)}),this)),i.on("update",this._onCameraChange.bind(this,t,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._initMouseHandler(t)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},showAxisPointer:function(t,e,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(t,e,n,r){this._doHideAxisPointer()},_initMouseHandler:function(t){var e=t.coordinateSystem,n=e.viewGL;t.get("show")&&t.get("axisPointer.show")?n.on("mousemove",this._updateAxisPointerOnMousePosition,this):n.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(t){if(!t.target){for(var e,n=this._model,r=n.coordinateSystem,i=r.viewGL,o=i.castRay(t.offsetX,t.offsetY,new bo.Ray),a=0;a<this._faces.length;a++){var s=this._faces[a];if(!s.rootNode.invisible){s.plane.normal.dot(i.camera.worldTransform.z)<0&&s.plane.normal.negate();var u=o.intersectPlane(s.plane);if(u){var c=r.getAxis(s.faceInfo[0]),l=r.getAxis(s.faceInfo[1]),h=Oa[s.faceInfo[0]],f=Oa[s.faceInfo[1]];c.contain(u.array[h])&&l.contain(u.array[f])&&(e=u)}}}if(e){var d=r.pointToData(e.array,[],!0);this._updateAxisPointer(d),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(t,e){t.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;e.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:t.id})},_updateFaceVisibility:function(){var t=this._control.getCamera(),e=new bo.Vector3;t.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++){var o=this._faces[2*n+i];o.rootNode.getWorldPosition(e),e.transformMat4(t.viewMatrix),r[i]=e.z}var a=r[0]>r[1]?0:1,s=this._faces[2*n+a],u=this._faces[2*n+1-a];s.rootNode.invisible=!0,u.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var t=this._model.coordinateSystem,e=t.getAxis("x"),n=t.getAxis("y"),r=t.getAxis("z"),i=r.getExtentMax(),o=r.getExtentMin(),a=e.getExtentMin(),s=e.getExtentMax(),u=n.getExtentMax(),c=n.getExtentMin(),l=this._axes[0].rootNode,h=this._axes[1].rootNode,f=this._axes[2].rootNode,d=this._faces,p=d[4].rootNode.invisible?c:u,m=d[2].rootNode.invisible?i:o,g=d[0].rootNode.invisible?a:s,v=d[2].rootNode.invisible?i:o,y=d[0].rootNode.invisible?s:a,_=d[4].rootNode.invisible?c:u;l.rotation.identity(),h.rotation.identity(),f.rotation.identity(),d[4].rootNode.invisible&&(this._axes[0].flipped=!0,l.rotation.rotateX(Math.PI)),d[0].rootNode.invisible&&(this._axes[1].flipped=!0,h.rotation.rotateZ(Math.PI)),d[4].rootNode.invisible&&(this._axes[2].flipped=!0,f.rotation.rotateY(Math.PI)),l.position.set(0,m,p),h.position.set(g,v,0),f.position.set(y,0,_),l.update(),h.update(),f.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var t=this._control.getCamera(),e=[new bo.Vector4,new bo.Vector4],n=new bo.Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach((function(r){for(var i=r.axisLineCoords,o=(r.labelsMesh.geometry,0);o<e.length;o++)e[o].setArray(i[o]),e[o].w=1,e[o].transformMat4(r.rootNode.worldTransform).transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),e[o].x/=e[o].w,e[o].y/=e[o].w;var a,s,u=e[1].x-e[0].x,c=e[1].y-e[0].y,l=(e[1].x+e[0].x)/2,h=(e[1].y+e[0].y)/2;Math.abs(c/u)<.5?(a="center",s=h>n.y?"bottom":"top"):(s="middle",a=l>n.x?"left":"right"),r.setSpriteAlign(a,s,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(t){var e=this._model.coordinateSystem,n=e.dataToPoint(t),r=this._axisPointerLineMesh,i=r.geometry,o=this._model.getModel("axisPointer"),a=this._api.getDevicePixelRatio();function s(t){return Ai.firstNotNull(t.model.get("axisPointer.show"),o.get("show"))}function u(t){var e=t.model.getModel("axisPointer",o),n=e.getModel("lineStyle"),r=bo.parseColor(n.get("color")),i=Sa(n.get("width"),1),a=Sa(n.get("opacity"),1);return r[3]*=a,{color:r,lineWidth:i}}i.convertToDynamicArray(!0);for(var c=0;c<this._faces.length;c++){var l=this._faces[c];if(!l.rootNode.invisible){for(var h=l.faceInfo,f=h[3]<0?e.getAxis(h[2]).getExtentMin():e.getAxis(h[2]).getExtentMax(),d=Oa[h[2]],p=0;p<2;p++){var m=h[p],g=h[1-p],v=e.getAxis(m),y=e.getAxis(g);if(s(v)){var _=[0,0,0],b=[0,0,0],x=Oa[m],w=Oa[g];_[x]=b[x]=n[x],_[d]=b[d]=f,_[w]=y.getExtentMin(),b[w]=y.getExtentMax();var T=u(v);i.addLine(_,b,T.color,T.lineWidth*a)}}if(s(e.getAxis(h[2]))){_=n.slice(),b=n.slice();b[d]=f;T=u(e.getAxis(h[2]));i.addLine(_,b,T.color,T.lineWidth*a)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(t),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(t){var e=this._model,n=this._axisPointerLabelsMesh,i=this._axisPointerLabelsSurface,o=e.coordinateSystem,a=e.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),i.clear();var s={x:"y",y:"x",z:"y"};this._axes.forEach((function(e,u){var c=o.getAxis(e.dim),l=c.model,h=l.getModel("axisPointer",a),f=h.getModel("label"),d=h.get("lineStyle.color");if(f.get("show")&&h.get("show")){var p=t[u],m=f.get("formatter"),g=c.scale.getLabel({value:p});if(null!=m)g=m(g,t);else if("interval"===c.scale.type||"log"===c.scale.type){var v=r["q"].getPrecisionSafe(c.scale.getTicks()[0]);g=p.toFixed(v+2)}var y=f.get("color"),_=new r["n"].Text({style:Object(Uo["c"])(f,{text:g,fill:y||d,align:"left",verticalAlign:"top"})}),b=i.add(_),x=_.getBoundingRect(),w=this._api.getDevicePixelRatio(),T=e.rootNode.position.toArray(),S=Oa[s[e.dim]];T[S]+=(e.flipped?-1:1)*f.get("margin"),T[Oa[e.dim]]=c.dataToCoord(t[u]),n.geometry.addSprite(T,[x.width*w,x.height*w],b,e.textAlign,e.textVerticalAlign)}}),this),i.getZr().refreshImmediately(),n.material.set("uvScale",i.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}}),Ea=n("cf7e");function Aa(t){Ea["a"].call(this,t),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}Aa.prototype={constructor:Aa,model:null,containPoint:function(t){return this.getAxis("x").contain(t[0])&&this.getAxis("y").contain(t[2])&&this.getAxis("z").contain(t[1])},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])&&this.getAxis("z").containData(t[2])},dataToPoint:function(t,e,n){return e=e||[],e[0]=this.getAxis("x").dataToCoord(t[0],n),e[2]=this.getAxis("y").dataToCoord(t[1],n),e[1]=this.getAxis("z").dataToCoord(t[2],n),e},pointToData:function(t,e,n){return e=e||[],e[0]=this.getAxis("x").coordToData(t[0],n),e[1]=this.getAxis("y").coordToData(t[2],n),e[2]=this.getAxis("z").coordToData(t[1],n),e}},r["x"].inherits(Aa,Ea["a"]);var Ca=Aa;function Da(t,e,n){r["a"].call(this,t,e,n)}Da.prototype={constructor:Da,getExtentMin:function(){var t=this._extent;return Math.min(t[0],t[1])},getExtentMax:function(){var t=this._extent;return Math.max(t[0],t[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},r["x"].inherits(Da,r["a"]);var La=Da,Ia=n("f934"),Pa=function(){this._pool={},this._allocatedTextures=[]};Pa.prototype={constructor:Pa,get:function(t){var e=ka(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];if(!n.length){var r=new tn(t);return this._allocatedTextures.push(r),r}return n.pop()},put:function(t){var e=ka(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];n.push(t)},clear:function(t){for(var e=0;e<this._allocatedTextures.length;e++)this._allocatedTextures[e].dispose(t);this._pool={},this._allocatedTextures=[]}};var Ra={width:512,height:512,type:w.UNSIGNED_BYTE,format:w.RGBA,wrapS:w.CLAMP_TO_EDGE,wrapT:w.CLAMP_TO_EDGE,minFilter:w.LINEAR_MIPMAP_LINEAR,magFilter:w.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},Na=Object.keys(Ra);function ka(t){m.defaultsWithPropList(t,Ra,Na),ja(t);for(var e="",n=0;n<Na.length;n++){var r=Na[n],i=t[r].toString();e+=i}return e}function ja(t){var e=Fa(t.width,t.height);t.format===w.DEPTH_COMPONENT&&(t.useMipmap=!1),e&&t.useMipmap||(t.minFilter==w.NEAREST_MIPMAP_NEAREST||t.minFilter==w.NEAREST_MIPMAP_LINEAR?t.minFilter=w.NEAREST:t.minFilter!=w.LINEAR_MIPMAP_LINEAR&&t.minFilter!=w.LINEAR_MIPMAP_NEAREST||(t.minFilter=w.LINEAR)),e||(t.wrapS=w.CLAMP_TO_EDGE,t.wrapT=w.CLAMP_TO_EDGE)}function Fa(t,e){return 0===(t&t-1)&&0===(e&e-1)}var Ba=Pa,za="@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end",Ua=["px","nx","py","ny","pz","nz"];function Ha(t,e,n){if("alphaMap"===n)return t.material.get("diffuseMap");if("alphaCutoff"===n){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var r=t.material.get("alphaCutoff");return r||0}return 0}return"uvRepeat"===n?t.material.get("uvRepeat"):"uvOffset"===n?t.material.get("uvOffset"):e.get(n)}function Ga(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}zt["import"](za);var Va=v.extend((function(){return{softShadow:Va.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new ur,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new Ba}}),(function(){this._gaussianPassH=new hi({fragment:zt.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new hi({fragment:zt.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new hi({fragment:zt.source("clay.sm.debug_depth")})}),{render:function(t,e,n,r){n||(n=e.getMainCamera()),this.trigger("beforerender",this,t,e,n),this._renderShadowPass(t,e,n,r),this.trigger("afterrender",this,t,e,n)},renderDebug:function(t,e){t.saveClear();var n=t.viewport,r=0,i=0,o=e||n.width/4,a=o;for(var s in this.softShadow===Va.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var u=this._textures[s];t.setViewport(r,i,o*u.width/u.height,a),this._outputDepthPass.setUniform("depthMap",u),this._outputDepthPass.render(t),r+=o*u.width/u.height}t.setViewport(n),t.restoreClear()},_updateReceivers:function(t,e){if(e.receiveShadow?(this._receivers.push(e),e.material.set("shadowEnabled",1),e.material.set("pcfKernel",this.kernelPCF)):e.material.set("shadowEnabled",0),this.softShadow===Va.VSM)e.material.define("fragment","USE_VSM"),e.material.undefine("fragment","PCF_KERNEL_SIZE");else{e.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?e.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):e.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(t,e){var n=this;e.traverse((function(e){e.isRenderable()&&n._updateReceivers(t,e)}));for(var r=0;r<e.lights.length;r++){var i=e.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(t,e,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var o=t.gl;if(r||e.update(),n&&n.update(),e.updateLights(),this._update(t,e),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,o.enable(o.DEPTH_TEST),o.depthMask(!0),o.disable(o.BLEND),o.clearColor(1,1,1,1);for(var a,s=[],u=[],c=[],l=[],h=[],f=[],d=0;d<this._lightsCastShadow.length;d++){var p=this._lightsCastShadow[d];if("DIRECTIONAL_LIGHT"===p.type){if(a){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(a=p),this.renderDirectionalLightShadow(t,e,n,p,h,l,c)}else"SPOT_LIGHT"===p.type?this.renderSpotLightShadow(t,e,p,u,s):"POINT_LIGHT"===p.type&&this.renderPointLightShadow(t,e,p,f);this._shadowMapNumber[p.type]++}for(var m in this._shadowMapNumber){var g=this._shadowMapNumber[m],v=m+"_SHADOWMAP_COUNT";for(d=0;d<this._receivers.length;d++){var y=this._receivers[d],_=y.material;_.fragmentDefines[v]!==g&&(g>0?_.define("fragment",v,g):_.isDefined("fragment",v)&&_.undefine("fragment",v))}}for(d=0;d<this._receivers.length;d++){y=this._receivers[d],_=y.material;a?_.define("fragment","SHADOW_CASCADE",a.shadowCascade):_.undefine("fragment","SHADOW_CASCADE")}var b=e.shadowUniforms;if(c.length>0){var x=c.map(O);if(b.directionalLightShadowMaps={value:c,type:"tv"},b.directionalLightMatrices={value:l,type:"m4v"},b.directionalLightShadowMapSizes={value:x,type:"1fv"},a){var w=h.slice(),T=h.slice();w.pop(),T.shift(),w.reverse(),T.reverse(),l.reverse(),b.shadowCascadeClipsNear={value:w,type:"1fv"},b.shadowCascadeClipsFar={value:T,type:"1fv"}}}if(s.length>0){var S=s.map(O);b=e.shadowUniforms;b.spotLightShadowMaps={value:s,type:"tv"},b.spotLightMatrices={value:u,type:"m4v"},b.spotLightShadowMapSizes={value:S,type:"1fv"}}f.length>0&&(b.pointLightShadowMaps={value:f,type:"tv"})}function O(t){return t.height}},renderDirectionalLightShadow:function(){var t=new In,e=new Oe,n=new Pe,r=new Oe,i=new Oe,o=new Oe,a=new Oe;return function(s,u,c,l,h,f,d){var p=this._getDepthMaterial(l),m={getMaterial:function(t){return t.shadowDepthMaterial||p},isMaterialChanged:Ga,getUniform:Ha,ifRender:function(t){return t.castShadow},sortCompare:ie.opaqueSortCompare};if(!u.viewBoundingBoxLastFrame.isFinite()){var g=u.getBoundingBox();u.viewBoundingBoxLastFrame.copy(g).applyTransform(c.viewMatrix)}var v=Math.min(-u.viewBoundingBoxLastFrame.min.z,c.far),y=Math.max(-u.viewBoundingBoxLastFrame.max.z,c.near),_=this._getDirectionalLightCamera(l,u,c),b=o.array;a.copy(_.projectionMatrix),Gt.invert(i.array,_.worldTransform.array),Gt.multiply(i.array,i.array,c.worldTransform.array),Gt.multiply(b,a.array,i.array);for(var x=[],w=c instanceof Zn,T=(c.near+c.far)/(c.near-c.far),S=2*c.near*c.far/(c.near-c.far),O=0;O<=l.shadowCascade;O++){var M=y*Math.pow(v/y,O/l.shadowCascade),E=y+(v-y)*O/l.shadowCascade,A=M*l.cascadeSplitLogFactor+E*(1-l.cascadeSplitLogFactor);x.push(A),h.push(-(-A*T+S)/-A)}var C=this._getTexture(l,l.shadowCascade);d.push(C);var D=s.viewport,L=s.gl;this._frameBuffer.attach(C),this._frameBuffer.bind(s),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT);for(O=0;O<l.shadowCascade;O++){var I=x[O],P=x[O+1];w?Gt.perspective(e.array,c.fov/180*Math.PI,c.aspect,I,P):Gt.ortho(e.array,c.left,c.right,c.bottom,c.top,I,P),t.setFromProjection(e),t.getTransformedBoundingBox(n,i),n.applyProjection(a);var R=n.min.array,N=n.max.array;R[0]=Math.max(R[0],-1),R[1]=Math.max(R[1],-1),N[0]=Math.min(N[0],1),N[1]=Math.min(N[1],1),r.ortho(R[0],N[0],R[1],N[1],1,-1),_.projectionMatrix.multiplyLeft(r);var k=l.shadowResolution||512;s.setViewport((l.shadowCascade-O-1)*k,0,k,k,1);var j=u.updateRenderList(_);s.renderPass(j.opaque,_,m),this.softShadow===Va.VSM&&this._gaussianFilter(s,C,C.width);var F=new Oe;F.copy(_.viewMatrix).multiplyLeft(_.projectionMatrix),f.push(F.array),_.projectionMatrix.copy(a)}this._frameBuffer.unbind(s),s.setViewport(D)}}(),renderSpotLightShadow:function(t,e,n,r,i){var o=this._getTexture(n),a=this._getSpotLightCamera(n),s=t.gl;this._frameBuffer.attach(o),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var u=this._getDepthMaterial(n),c={getMaterial:function(t){return t.shadowDepthMaterial||u},isMaterialChanged:Ga,getUniform:Ha,ifRender:function(t){return t.castShadow},sortCompare:ie.opaqueSortCompare},l=e.updateRenderList(a);t.renderPass(l.opaque,a,c),this._frameBuffer.unbind(t),this.softShadow===Va.VSM&&this._gaussianFilter(t,o,o.width);var h=new Oe;h.copy(a.worldTransform).invert().multiplyLeft(a.projectionMatrix),i.push(o),r.push(h.array)},renderPointLightShadow:function(t,e,n,r){var i=this._getTexture(n),o=t.gl;r.push(i);var a=this._getDepthMaterial(n),s={getMaterial:function(t){return t.shadowDepthMaterial||a},getUniform:Ha,sortCompare:ie.opaqueSortCompare},u={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},c=new Pe,l=n.getWorldPosition().array,h=new Pe,f=n.range;h.min.setArray(l),h.max.setArray(l);var d=new fe(f,f,f);h.max.add(d),h.min.sub(d);var p={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};e.traverse((function(t){if(t.isRenderable()&&t.castShadow){var e=t.geometry;if(!e.boundingBox){for(var n=0;n<Ua.length;n++)u[Ua[n]].push(t);return}if(c.transformFrom(e.boundingBox,t.worldTransform),!c.intersectBoundingBox(h))return;c.updateVertices();for(n=0;n<Ua.length;n++)p[Ua[n]]=!1;for(n=0;n<8;n++){var r=c.vertices[n],i=r[0]-l[0],o=r[1]-l[1],a=r[2]-l[2],s=Math.abs(i),f=Math.abs(o),d=Math.abs(a);s>f?s>d?p[i>0?"px":"nx"]=!0:p[a>0?"pz":"nz"]=!0:f>d?p[o>0?"py":"ny"]=!0:p[a>0?"pz":"nz"]=!0}for(n=0;n<Ua.length;n++)p[Ua[n]]&&u[Ua[n]].push(t)}}));for(var m=0;m<6;m++){var g=Ua[m],v=this._getPointLightCamera(n,g);this._frameBuffer.attach(i,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+m),this._frameBuffer.bind(t),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),t.renderPass(u[g],v,s)}this._frameBuffer.unbind(t)},_getDepthMaterial:function(t){var e=this._lightMaterials[t.__uid__],n="POINT_LIGHT"===t.type;if(!e){var r=n?"clay.sm.distance.":"clay.sm.depth.";e=new Z({precision:this.precision,shader:new zt(zt.source(r+"vertex"),zt.source(r+"fragment"))}),this._lightMaterials[t.__uid__]=e}return null!=t.shadowSlopeScale&&e.setUniform("slopeScale",t.shadowSlopeScale),null!=t.shadowBias&&e.setUniform("bias",t.shadowBias),this.softShadow===Va.VSM?e.define("fragment","USE_VSM"):e.undefine("fragment","USE_VSM"),n&&(e.set("lightPosition",t.getWorldPosition().array),e.set("range",t.range)),e},_gaussianFilter:function(t,e,n){var r={width:n,height:n,type:We.FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(t),this._gaussianPassH.setUniform("texture",e),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(t),this._frameBuffer.attach(e),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(t),this._frameBuffer.unbind(t),this._texturePool.put(i)},_getTexture:function(t,e){var n=t.__uid__,r=this._textures[n],i=t.shadowResolution||512;return e=e||1,r||(r="POINT_LIGHT"===t.type?new Yn:new tn,r.width=i*e,r.height=i,this.softShadow===Va.VSM?(r.type=We.FLOAT,r.anisotropic=4):(r.minFilter=w.NEAREST,r.magFilter=w.NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(t,e){this._lightCameras.point||(this._lightCameras.point={px:new Zn,nx:new Zn,py:new Zn,ny:new Zn,pz:new Zn,nz:new Zn});var n=this._lightCameras.point[e];switch(n.far=t.range,n.fov=90,n.position.set(0,0,0),e){case"px":n.lookAt(fe.POSITIVE_X,fe.NEGATIVE_Y);break;case"nx":n.lookAt(fe.NEGATIVE_X,fe.NEGATIVE_Y);break;case"py":n.lookAt(fe.POSITIVE_Y,fe.POSITIVE_Z);break;case"ny":n.lookAt(fe.NEGATIVE_Y,fe.NEGATIVE_Z);break;case"pz":n.lookAt(fe.POSITIVE_Z,fe.NEGATIVE_Y);break;case"nz":n.lookAt(fe.NEGATIVE_Z,fe.NEGATIVE_Y);break}return t.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var t=new Oe,e=new Pe,n=new Pe;return function(r,i,o){this._lightCameras.directional||(this._lightCameras.directional=new oi);var a=this._lightCameras.directional;e.copy(i.viewBoundingBoxLastFrame),e.intersection(o.frustum.boundingBox),a.position.copy(e.min).add(e.max).scale(.5).transformMat4(o.worldTransform),a.rotation.copy(r.rotation),a.scale.copy(r.scale),a.updateWorldTransform(),Oe.invert(t,a.worldTransform),Oe.multiply(t,t,o.worldTransform),n.copy(e).applyTransform(t);var s=n.min.array,u=n.max.array;return a.position.set((s[0]+u[0])/2,(s[1]+u[1])/2,u[2]).transformMat4(a.worldTransform),a.near=0,a.far=-s[2]+u[2],isNaN(this.lightFrustumBias)?a.far*=4:a.far+=this.lightFrustumBias,a.left=s[0],a.right=u[0],a.top=u[1],a.bottom=s[1],a.update(!0),a}}(),_getSpotLightCamera:function(t){this._lightCameras.spot||(this._lightCameras.spot=new Zn);var e=this._lightCameras.spot;return e.fov=2*t.penumbraAngle,e.far=t.range,e.worldTransform.copy(t.worldTransform),e.updateProjectionMatrix(),Gt.invert(e.viewMatrix.array,e.worldTransform.array),e},dispose:function(t){var e=t.gl||t;for(var n in this._frameBuffer&&this._frameBuffer.dispose(e),this._textures)this._textures[n].dispose(e);this._texturePool.clear(t.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var o=i.material;o.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),o.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),o.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),o.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});Va.VSM=1,Va.PCF=2;var Wa=Va,qa=v.extend((function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(t,e){var n,r,i=this.outputs[t],o=i.parameters,a=i._parametersCopy;if(a||(a=i._parametersCopy={}),o)for(var s in o)"width"!==s&&"height"!==s&&(a[s]=o[s]);return n=o.width instanceof Function?o.width.call(this,e):o.width,r=o.height instanceof Function?o.height.call(this,e):o.height,a.width===n&&a.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e.gl),a.width=n,a.height=r,a},setParameter:function(t,e){},getParameter:function(t){},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},render:function(){},getOutput:function(t,e){if(null==e)return e=t,this._outputTextures[e];var n=this.outputs[e];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[e]:this._outputTextures[e]:this._rendering?(this._prevOutputTextures[e]||(this._prevOutputTextures[e]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[e]):(this.render(t),this._outputTextures[e]):void 0},removeReference:function(t){if(this._outputReferences[t]--,0===this._outputReferences[t]){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},link:function(t,e,n){this.inputLinks[t]={node:e,pin:n},e.outputLinks[n]||(e.outputLinks[n]=[]),e.outputLinks[n].push({node:this,pin:t}),this.pass.material.enableTexture(t)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(t){if(!this._rendering){for(var e in this._rendering=!0,this.inputLinks){var n=this.inputLinks[e];n.node.updateReference(n.pin)}this._rendering=!1}t&&this._outputReferences[t]++},beforeFrame:function(){for(var t in this._rendered=!1,this.outputLinks)this._outputReferences[t]=0},afterFrame:function(){for(var t in this.outputLinks)if(this._outputReferences[t]>0){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}}}),Xa=qa,Ya=v.extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(t){this.nodes.indexOf(t)>=0||(this.nodes.push(t),this._dirty=!0)},removeNode:function(t){"string"===typeof t&&(t=this.getNodeByName(t));var e=this.nodes.indexOf(t);e>=0&&(this.nodes.splice(e,1),this._dirty=!0)},getNodeByName:function(t){for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].name===t)return this.nodes[e]},update:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();for(t=0;t<this.nodes.length;t++){var e=this.nodes[t];if(e.inputs)for(var n in e.inputs)if(e.inputs[n])if(!e.pass||e.pass.material.isUniformEnabled(n)){var r=e.inputs[n],i=this.findPin(r);i?e.link(n,i.node,i.pin):"string"===typeof r?console.warn("Node "+r+" not exist"):console.warn("Pin of "+r.node+"."+r.pin+" not exist")}else console.warn("Pin "+e.name+"."+n+" not used.")}},findPin:function(t){var e;if(("string"===typeof t||t instanceof Xa)&&(t={node:t}),"string"===typeof t.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===t.node&&(e=r)}else e=t.node;if(e){var i=t.pin;if(i||e.outputs&&(i=Object.keys(e.outputs)[0]),e.outputs[i])return{node:e,pin:i}}}}),$a=Ya,Za=$a.extend((function(){return{_outputs:[],_texturePool:new Ba,_frameBuffer:new ur({depthBuffer:!1})}}),{addNode:function(t){$a.prototype.addNode.call(this,t),t._compositor=this},render:function(t,e){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(t,e);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(t){return this._texturePool.get(t)},releaseTexture:function(t){this._texturePool.put(t)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(t){this._texturePool.clear(t)}}),Ka=Za,Ja=Xa.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new ur}),{render:function(t){this._rendering=!0;var e,n=t.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var i in this.outputs){var o=this.updateParameter(i,t),a=this.outputs[i],s=this._compositor.allocateTexture(o);this._outputTextures[i]=s;var u=a.attachment||n.COLOR_ATTACHMENT0;"string"==typeof u&&(u=n[u]),r.attach(s,u)}r.bind(t);var c=t.getGLExtension("EXT_draw_buffers");if(c){var l=[];for(var u in this.outputs)u=parseInt(u),u>=n.COLOR_ATTACHMENT0&&u<=n.COLOR_ATTACHMENT0+8&&l.push(u);c.drawBuffersEXT(l)}t.saveClear(),t.clearBit=w.DEPTH_BUFFER_BIT|w.COLOR_BUFFER_BIT,e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),t.restoreClear(),r.unbind(t)}else e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",e),this._rendering=!1,this._rendered=!0}}),Qa=Ja,ts=Xa.extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(t,e){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),es=ts,ns=Xa.extend((function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var t=new hi({fragment:this.shader});this.pass=t}),{render:function(t,e){this.trigger("beforerender",t),this._rendering=!0;var n=t.gl;for(var r in this.inputLinks){var i=this.inputLinks[r],o=i.node.getOutput(t,i.pin);this.pass.setUniform(r,o)}if(this.outputs){this.pass.outputs={};var a={};for(var s in this.outputs){var u=this.updateParameter(s,t);isNaN(u.width)&&this.updateParameter(s,t);var c=this.outputs[s],l=this._compositor.allocateTexture(u);this._outputTextures[s]=l;var h=c.attachment||n.COLOR_ATTACHMENT0;"string"===typeof h&&(h=n[h]),a[h]=l}for(var h in this._compositor.getFrameBuffer().bind(t),a)this._compositor.getFrameBuffer().attach(a[h],h);this.pass.render(t),this._compositor.getFrameBuffer().updateMipmap(t)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(t),this.pass.render(t,e);for(var r in this.inputLinks){i=this.inputLinks[r];i.node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",t)},updateParameter:function(t,e){var n,r,i=this.outputs[t],o=i.parameters,a=i._parametersCopy;if(a||(a=i._parametersCopy={}),o)for(var s in o)"width"!==s&&"height"!==s&&(a[s]=o[s]);return n="function"===typeof o.width?o.width.call(this,e):o.width,r="function"===typeof o.height?o.height.call(this,e):o.height,n=Math.ceil(n),r=Math.ceil(r),a.width===n&&a.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e),a.width=n,a.height=r,a},setParameter:function(t,e){this.pass.setUniform(t,e)},getParameter:function(t){return this.pass.getUniform(t)},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},define:function(t,e){this.pass.material.define("fragment",t,e)},undefine:function(t){this.pass.material.undefine("fragment",t)},removeReference:function(t){if(this._outputReferences[t]--,0===this._outputReferences[t]){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},clear:function(){Xa.prototype.clear.call(this),this.pass.material.disableTexturesAll()}}),rs=ns,is="@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end",os="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",as="@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end",ss="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",us="@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end",cs="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",ls="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",hs="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",fs="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",ds="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",ps="@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end",ms="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",gs="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";function vs(t){t["import"](is),t["import"](os),t["import"](as),t["import"](ss),t["import"](us),t["import"](cs),t["import"](ls),t["import"](hs),t["import"](fs),t["import"](ds),t["import"](ps),t["import"](ms),t["import"](gs)}vs(zt);var ys=/^#source\((.*?)\)/;function _s(t,e){var n=new Ka;e=e||{};var r={textures:{},parameters:{}},i=function(i,o){for(var a=0;a<t.nodes.length;a++){var s=t.nodes[a],u=bs(s,r,e);u&&n.addNode(u)}};for(var o in t.parameters){var a=t.parameters[o];r.parameters[o]=Ts(a)}return Ss(t,r,e,(function(t){r.textures=t,i()})),n}function bs(t,e,n){var r,i,o,a,s=t.type||"filter";if("filter"===s){var u=t.shader.trim(),c=ys.exec(u);if(c?r=zt.source(c[1].trim()):"#"===u.charAt(0)&&(r=e.shaders[u.substr(1)]),r||(r=u),!r)return}if(t.inputs)for(var l in i={},t.inputs)"string"===typeof t.inputs[l]?i[l]=t.inputs[l]:i[l]={node:t.inputs[l].node,pin:t.inputs[l].pin};if(t.outputs)for(var l in o={},t.outputs){var h=t.outputs[l];o[l]={},null!=h.attachment&&(o[l].attachment=h.attachment),null!=h.keepLastFrame&&(o[l].keepLastFrame=h.keepLastFrame),null!=h.outputLastFrame&&(o[l].outputLastFrame=h.outputLastFrame),h.parameters&&(o[l].parameters=Ts(h.parameters))}if(a="scene"===s?new Qa({name:t.name,scene:n.scene,camera:n.camera,outputs:o}):"texture"===s?new es({name:t.name,outputs:o}):new rs({name:t.name,shader:r,inputs:i,outputs:o}),a){if(t.parameters)for(var l in t.parameters){var f=t.parameters[l];"string"===typeof f?(f=f.trim(),"#"===f.charAt(0)?f=e.textures[f.substr(1)]:a.on("beforerender",Os(l,Es(f)))):"function"===typeof f&&a.on("beforerender",f),a.setParameter(l,f)}if(t.defines&&a.pass)for(var l in t.defines){f=t.defines[l];a.pass.material.define("fragment",l,f)}}return a}function xs(t,e){return t}function ws(t,e){return e}function Ts(t){var e={};if(!t)return e;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach((function(n){var r=t[n];null!=r&&("string"===typeof r&&(r=We[r]),e[n]=r)}));var n=t.scale||1;return["width","height"].forEach((function(r){if(null!=t[r]){var i=t[r];"string"===typeof i?(i=i.trim(),e[r]=Ms(r,Es(i),n)):e[r]=i}})),e.width||(e.width=xs),e.height||(e.height=ws),null!=t.useMipmap&&(e.useMipmap=t.useMipmap),e}function Ss(t,e,n,r){if(t.textures){var i={},o=0,a=!1,s=n.textureRootPath;m.each(t.textures,(function(t,e){var n,u=t.path,c=Ts(t.parameters);if(Array.isArray(u)&&6===u.length)s&&(u=u.map((function(t){return m.relative2absolute(t,s)}))),n=new Yn(c);else{if("string"!==typeof u)return;s&&(u=m.relative2absolute(u,s)),n=new tn(c)}n.load(u),o++,n.once("success",(function(){i[e]=n,o--,0===o&&(r(i),a=!0)}))})),0!==o||a||r(i)}else r({})}function Os(t,e){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),o=n.getHeight(),a=e(i,o,r);this.setParameter(t,a)}}function Ms(t,e,n){return n=n||1,function(t){var r=t.getDevicePixelRatio(),i=t.getWidth()*n,o=t.getHeight()*n;return e(i,o,r)}}function Es(t){var e=/^expr\((.*)\)$/.exec(t);if(e)try{var n=new Function("width","height","dpr","return "+e[1]);return n(1,1),n}catch(r){throw new Error("Invalid expression.")}}var As=_s,Cs=As;function Ds(t,e){var n=0,r=1/e,i=t;while(i>0)n+=r*(i%e),i=Math.floor(i/e),r/=e;return n}var Ls=Ds,Is="@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n";function Ps(t){for(var e=new Uint8Array(t*t*4),n=0,r=new fe,i=0;i<t;i++)for(var o=0;o<t;o++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),e[n++]=255*(.5*r.x+.5),e[n++]=255*(.5*r.y+.5),e[n++]=0,e[n++]=255;return e}function Rs(t){return new tn({pixels:Ps(t),wrapS:We.REPEAT,wrapT:We.REPEAT,width:t,height:t})}function Ns(t,e,n){var r=new Float32Array(3*t);e=e||0;for(var i=0;i<t;i++){var o=Ls(i+e,2)*(n?1:2)*Math.PI,a=Ls(i+e,3)*Math.PI,s=Math.random(),u=Math.cos(o)*Math.sin(a)*s,c=Math.cos(a)*s,l=Math.sin(o)*Math.sin(a)*s;r[3*i]=u,r[3*i+1]=c,r[3*i+2]=l}return r}function ks(t){t=t||{},this._ssaoPass=new hi({fragment:zt.source("ecgl.ssao.estimate")}),this._blurPass=new hi({fragment:zt.source("ecgl.ssao.blur")}),this._framebuffer=new ur({depthBuffer:!1}),this._ssaoTexture=new tn,this._blurTexture=new tn,this._blurTexture2=new tn,this._depthTex=t.depthTexture,this._normalTex=t.normalTexture,this.setNoiseSize(4),this.setKernelSize(t.kernelSize||12),null!=t.radius&&this.setParameter("radius",t.radius),null!=t.power&&this.setParameter("power",t.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}zt.import(Is),ks.prototype.setDepthTexture=function(t){this._depthTex=t},ks.prototype.setNormalTexture=function(t){this._normalTex=t,this._ssaoPass.material[t?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},ks.prototype.update=function(t,e,n){var r=t.getWidth(),i=t.getHeight(),o=this._ssaoPass,a=this._blurPass;o.setUniform("kernel",this._kernels[n%this._kernels.length]),o.setUniform("depthTex",this._depthTex),null!=this._normalTex&&o.setUniform("normalTex",this._normalTex),o.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new Oe;Oe.transpose(s,e.worldTransform),o.setUniform("projection",e.projectionMatrix.array),o.setUniform("projectionInv",e.invProjectionMatrix.array),o.setUniform("viewInverseTranspose",s.array);var u=this._ssaoTexture,c=this._blurTexture,l=this._blurTexture2;u.width=r/2,u.height=i/2,c.width=r,c.height=i,l.width=r,l.height=i,this._framebuffer.attach(u),this._framebuffer.bind(t),t.gl.clearColor(1,1,1,1),t.gl.clear(t.gl.COLOR_BUFFER_BIT),o.render(t),a.setUniform("textureSize",[r/2,i/2]),a.setUniform("projection",e.projectionMatrix.array),this._framebuffer.attach(c),a.setUniform("direction",0),a.setUniform("ssaoTexture",u),a.render(t),this._framebuffer.attach(l),a.setUniform("textureSize",[r,i]),a.setUniform("direction",1),a.setUniform("ssaoTexture",c),a.render(t),this._framebuffer.unbind(t);var h=t.clearColor;t.gl.clearColor(h[0],h[1],h[2],h[3])},ks.prototype.getTargetTexture=function(){return this._blurTexture2},ks.prototype.setParameter=function(t,e){"noiseTexSize"===t?this.setNoiseSize(e):"kernelSize"===t?this.setKernelSize(e):"intensity"===t?this._ssaoPass.material.set("intensity",e):this._ssaoPass.setUniform(t,e)},ks.prototype.setKernelSize=function(t){this._kernelSize=t,this._ssaoPass.material.define("fragment","KERNEL_SIZE",t),this._kernels=this._kernels||[];for(var e=0;e<30;e++)this._kernels[e]=Ns(t,e*t,!!this._normalTex)},ks.prototype.setNoiseSize=function(t){var e=this._ssaoPass.getUniform("noiseTex");e?(e.data=Ps(t),e.width=e.height=t,e.dirty()):(e=Rs(t),this._ssaoPass.setUniform("noiseTex",Rs(t))),this._ssaoPass.setUniform("noiseTexSize",[t,t])},ks.prototype.dispose=function(t){this._blurTexture.dispose(t),this._ssaoTexture.dispose(t),this._blurTexture2.dispose(t)};var js=ks,Fs="@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end";function Bs(t){t=t||{},this._ssrPass=new hi({fragment:zt.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new hi({fragment:zt.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new hi({fragment:zt.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new hi({fragment:zt.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",t.normalTexture),this._ssrPass.setUniform("gBufferTexture2",t.depthTexture),this._blurPass1.setUniform("gBufferTexture1",t.normalTexture),this._blurPass1.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.setUniform("gBufferTexture1",t.normalTexture),this._blurPass2.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new tn({type:We.HALF_FLOAT}),this._texture2=new tn({type:We.HALF_FLOAT}),this._texture3=new tn({type:We.HALF_FLOAT}),this._prevTexture=new tn({type:We.HALF_FLOAT}),this._currentTexture=new tn({type:We.HALF_FLOAT}),this._frameBuffer=new ur({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}zt.import(Fs),Bs.prototype.setAmbientCubemap=function(t,e){this._ssrPass.material.set("specularCubemap",t),this._ssrPass.material.set("specularIntensity",e);var n=t&&e;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")},Bs.prototype.update=function(t,e,n,r){var i=t.getWidth(),o=t.getHeight(),a=this._ssrTexture,s=this._texture2,u=this._texture3;a.width=this._prevTexture.width=this._currentTexture.width=i/this._downScale,a.height=this._prevTexture.height=this._currentTexture.height=o/this._downScale,s.width=u.width=i,s.height=u.height=o;var c=this._frameBuffer,l=this._ssrPass,h=this._blurPass1,f=this._blurPass2,d=this._blendPass,p=new Oe,m=new Oe;Oe.transpose(p,e.worldTransform),Oe.transpose(m,e.viewMatrix),l.setUniform("sourceTexture",n),l.setUniform("projection",e.projectionMatrix.array),l.setUniform("projectionInv",e.invProjectionMatrix.array),l.setUniform("toViewSpace",p.array),l.setUniform("toWorldSpace",m.array),l.setUniform("nearZ",e.near);var g=r/this._totalSamples*this._samplePerFrame;if(l.setUniform("jitterOffset",g),l.setUniform("sampleOffset",r*this._samplePerFrame),h.setUniform("textureSize",[a.width,a.height]),f.setUniform("textureSize",[i,o]),f.setUniform("sourceTexture",n),h.setUniform("projection",e.projectionMatrix.array),f.setUniform("projection",e.projectionMatrix.array),c.attach(a),c.bind(t),l.render(t),this._physicallyCorrect&&(c.attach(this._currentTexture),d.setUniform("texture1",this._prevTexture),d.setUniform("texture2",a),d.material.set({weight1:r>=1?.95:0,weight2:r>=1?.05:1}),d.render(t)),c.attach(s),h.setUniform("texture",this._physicallyCorrect?this._currentTexture:a),h.render(t),c.attach(u),f.setUniform("texture",s),f.render(t),c.unbind(t),this._physicallyCorrect){var v=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=v}},Bs.prototype.getTargetTexture=function(){return this._texture3},Bs.prototype.setParameter=function(t,e){"maxIteration"===t?this._ssrPass.material.define("fragment","MAX_ITERATION",e):this._ssrPass.setUniform(t,e)},Bs.prototype.setPhysicallyCorrect=function(t){t?(this._normalDistribution||(this._normalDistribution=gi.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=t},Bs.prototype.setSSAOTexture=function(t){var e=this._blurPass2;t?(e.material.enableTexture("ssaoTex"),e.material.set("ssaoTex",t)):e.material.disableTexture("ssaoTex")},Bs.prototype.isFinished=function(t){return!this._physicallyCorrect||t>this._totalSamples/this._samplePerFrame},Bs.prototype.dispose=function(t){this._ssrTexture.dispose(t),this._texture2.dispose(t),this._texture3.dispose(t),this._prevTexture.dispose(t),this._currentTexture.dispose(t),this._frameBuffer.dispose(t)};var zs=Bs,Us=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925],Hs="@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end";function Gs(t,e,n,r,i){var o=t.gl;e.setUniform(o,"1i",n,i),o.activeTexture(o.TEXTURE0+i),r.isRenderable()?r.bind(t):r.unbind(t)}function Vs(t,e,n,r,i){var o,a,s,u,c=t.gl;return function(i,l,h){if(!u||u.material!==i.material){var f=i.material,d=i.__program,p=f.get("roughness");null==p&&(p=1);var m=f.get("normalMap")||e,g=f.get("roughnessMap"),v=f.get("bumpMap"),y=f.get("uvRepeat"),_=f.get("uvOffset"),b=f.get("detailUvRepeat"),x=f.get("detailUvOffset"),w=!!v&&f.isTextureEnabled("bumpMap"),T=!!g&&f.isTextureEnabled("roughnessMap"),S=f.isDefined("fragment","DOUBLE_SIDED");v=v||n,g=g||r,h!==l?(l.set("normalMap",m),l.set("bumpMap",v),l.set("roughnessMap",g),l.set("useBumpMap",w),l.set("useRoughnessMap",T),l.set("doubleSide",S),null!=y&&l.set("uvRepeat",y),null!=_&&l.set("uvOffset",_),null!=b&&l.set("detailUvRepeat",b),null!=x&&l.set("detailUvOffset",x),l.set("roughness",p)):(d.setUniform(c,"1f","roughness",p),o!==m&&Gs(t,d,"normalMap",m,0),a!==v&&v&&Gs(t,d,"bumpMap",v,1),s!==g&&g&&Gs(t,d,"roughnessMap",g,2),null!=y&&d.setUniform(c,"2f","uvRepeat",y),null!=_&&d.setUniform(c,"2f","uvOffset",_),null!=b&&d.setUniform(c,"2f","detailUvRepeat",b),null!=x&&d.setUniform(c,"2f","detailUvOffset",x),d.setUniform(c,"1i","useBumpMap",+w),d.setUniform(c,"1i","useRoughnessMap",+T),d.setUniform(c,"1i","doubleSide",+S)),o=m,a=v,s=g,u=i}}}function Ws(t){t=t||{},this._depthTex=new tn({format:We.DEPTH_COMPONENT,type:We.UNSIGNED_INT}),this._normalTex=new tn({type:We.HALF_FLOAT}),this._framebuffer=new ur,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,ur.DEPTH_ATTACHMENT),this._normalMaterial=new Z({shader:new zt(zt.source("ecgl.normal.vertex"),zt.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=Qr.createBlank("#000"),this._defaultBumpMap=Qr.createBlank("#000"),this._defaultRoughessMap=Qr.createBlank("#000"),this._debugPass=new hi({fragment:zt.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}zt.import(Hs),Ws.prototype.getDepthTexture=function(){return this._depthTex},Ws.prototype.getNormalTexture=function(){return this._normalTex},Ws.prototype.update=function(t,e,n){var r=t.getWidth(),i=t.getHeight(),o=this._depthTex,a=this._normalTex,s=this._normalMaterial;o.width=r,o.height=i,a.width=r,a.height=i;var u=e.getRenderList(n).opaque;this._framebuffer.bind(t),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.disable(t.gl.BLEND),t.renderPass(u,n,{getMaterial:function(){return s},ifRender:function(t){return t.renderNormal},beforeRender:Vs(t,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:t.opaqueSortCompare}),this._framebuffer.unbind(t)},Ws.prototype.renderDebug=function(t){this._debugPass.render(t)},Ws.prototype.dispose=function(t){this._depthTex.dispose(t),this._normalTex.dispose(t)};var qs=Ws;function Xs(t){t=t||{},this._edgePass=new hi({fragment:zt.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",t.normalTexture),this._edgePass.setUniform("depthTexture",t.depthTexture),this._targetTexture=new tn({type:We.HALF_FLOAT}),this._frameBuffer=new ur,this._frameBuffer.attach(this._targetTexture)}Xs.prototype.update=function(t,e,n,r){var i=t.getWidth(),o=t.getHeight(),a=this._targetTexture;a.width=i,a.height=o;var s=this._frameBuffer;s.bind(t),this._edgePass.setUniform("projectionInv",e.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,o]),this._edgePass.setUniform("texture",n),this._edgePass.render(t),s.unbind(t)},Xs.prototype.getTargetTexture=function(){return this._targetTexture},Xs.prototype.setParameter=function(t,e){this._edgePass.setUniform(t,e)},Xs.prototype.dispose=function(t){this._targetTexture.dispose(t),this._frameBuffer.dispose(t)};var Ys=Xs,$s={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]},Zs="@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end",Ks="@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end";function Js(t,e){return{color:{parameters:{width:t,height:e}}}}zt["import"](os),zt["import"](ss),zt["import"](cs),zt["import"](ls),zt["import"](hs),zt["import"](fs),zt["import"](ds),zt["import"](ms),zt["import"](gs),zt["import"](Zs),zt["import"](Ks);var Qs=["composite","FXAA"];function tu(){this._width,this._height,this._dpr,this._sourceTexture=new tn({type:We.HALF_FLOAT}),this._depthTexture=new tn({format:We.DEPTH_COMPONENT,type:We.UNSIGNED_INT}),this._framebuffer=new ur,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,ur.DEPTH_ATTACHMENT),this._normalPass=new qs,this._compositor=Cs($s);var t=this._compositor.getNodeByName("source");t.texture=this._sourceTexture;var e=this._compositor.getNodeByName("coc");this._sourceNode=t,this._cocNode=e,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map((function(t){return this._compositor.getNodeByName(t)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=Qs.map((function(t){return this._compositor.getNodeByName(t)}),this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new js(n),this._ssrPass=new zs(n),this._edgePass=new Ys(n)}tu.prototype.resize=function(t,e,n){n=n||1;t*=n,e*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=t,r.height=e,i.width=t,i.height=e;var o={getWidth:function(){return t},getHeight:function(){return e},getDevicePixelRatio:function(){return n}};function a(t,e){if("function"===typeof t[e]){var n=t[e].__original||t[e];t[e]=function(t){return n.call(this,o)},t[e].__original=n}}this._compositor.nodes.forEach((function(t){for(var e in t.outputs){var n=t.outputs[e].parameters;n&&(a(n,"width"),a(n,"height"))}for(var r in t.parameters)a(t.parameters,r)})),this._width=t,this._height=e,this._dpr=n},tu.prototype.getWidth=function(){return this._width},tu.prototype.getHeight=function(){return this._height},tu.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},tu.prototype._getPrevNode=function(t){var e=Qs.indexOf(t.name)-1,n=this._finalNodesChain[e];while(n&&!this._compositor.getNodeByName(n.name))e-=1,n=this._finalNodesChain[e];return n},tu.prototype._getNextNode=function(t){var e=Qs.indexOf(t.name)+1,n=this._finalNodesChain[e];while(n&&!this._compositor.getNodeByName(n.name))e+=1,n=this._finalNodesChain[e];return n},tu.prototype._addChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(t.inputs.texture=e.name,n?(t.outputs=Js(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=t.name):t.outputs=null,this._compositor.addNode(t))},tu.prototype._removeChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(n?(e.outputs=Js(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=e.name):e.outputs=null,this._compositor.removeNode(t))},tu.prototype.updateNormal=function(t,e,n,r){this._ifRenderNormalPass()&&this._normalPass.update(t,e,n)},tu.prototype.updateSSAO=function(t,e,n,r){this._ssaoPass.update(t,n,r)},tu.prototype.enableSSAO=function(){this._enableSSAO=!0},tu.prototype.disableSSAO=function(){this._enableSSAO=!1},tu.prototype.enableSSR=function(){this._enableSSR=!0},tu.prototype.disableSSR=function(){this._enableSSR=!1},tu.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},tu.prototype.getSourceFrameBuffer=function(){return this._framebuffer},tu.prototype.getSourceTexture=function(){return this._sourceTexture},tu.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},tu.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},tu.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},tu.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},tu.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},tu.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},tu.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},tu.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},tu.prototype.enableEdge=function(){this._enableEdge=!0},tu.prototype.disableEdge=function(){this._enableEdge=!1},tu.prototype.setBloomIntensity=function(t){this._compositeNode.setParameter("bloomIntensity",t)},tu.prototype.setSSAOParameter=function(t,e){switch(t){case"quality":var n={low:6,medium:12,high:32,ultra:62}[e]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(t,e),this._ssaoPass.setParameter("bias",e/200);break;case"intensity":this._ssaoPass.setParameter(t,e);break;default:0}},tu.prototype.setDOFParameter=function(t,e){switch(t){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(t,e);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",e);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[e]||8;this._dofBlurKernelSize=r;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r);break;default:0}},tu.prototype.setSSRParameter=function(t,e){if(null!=e)switch(t){case"quality":var n={low:10,medium:15,high:30,ultra:80}[e]||20,r={low:32,medium:16,high:8,ultra:4}[e]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-e,1),0));break;case"physical":this.setPhysicallyCorrectSSR(e);break;default:console.warn("Unkown SSR parameter "+t)}},tu.prototype.setPhysicallyCorrectSSR=function(t){this._ssrPass.setPhysicallyCorrect(t)},tu.prototype.setEdgeColor=function(t){var e=bo.parseColor(t);this._edgePass.setParameter("edgeColor",e)},tu.prototype.setExposure=function(t){this._compositeNode.setParameter("exposure",Math.pow(2,t))},tu.prototype.setColorLookupTexture=function(t,e){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?t:"none",e,{minFilter:bo.Texture.NEAREST,magFilter:bo.Texture.NEAREST,flipY:!1})},tu.prototype.setColorCorrection=function(t,e){this._compositeNode.setParameter(t,e)},tu.prototype.isSSREnabled=function(){return this._enableSSR},tu.prototype.composite=function(t,e,n,r,i){var o=this._sourceTexture,a=o;this._enableEdge&&(this._edgePass.update(t,n,o,i),o=a=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(t,n,o,i),a=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=a,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,u=this._dofBlurKernelSize,c=Math.floor(Us.length/2/u),l=i%c,h=0;h<2*u;h++)s[h]=Us[h+l*u*2];for(h=0;h<this._dofBlurNodes.length;h++)this._dofBlurNodes[h].setParameter("percent",i/30),this._dofBlurNodes[h].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(t,r)},tu.prototype.dispose=function(t){this._sourceTexture.dispose(t),this._depthTexture.dispose(t),this._framebuffer.dispose(t),this._compositor.dispose(t),this._normalPass.dispose(t),this._ssaoPass.dispose(t)};var eu=tu;function nu(t){for(var e=[],n=0;n<30;n++)e.push([Ls(n,2),Ls(n,3)]);this._haltonSequence=e,this._frame=0,this._sourceTex=new tn,this._sourceFb=new ur,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new tn,this._outputTex=new tn;var r=this._blendPass=new hi({fragment:zt.source("clay.compositor.blend")});r.material.disableTexturesAll(),r.material.enableTexture(["texture1","texture2"]),this._blendFb=new ur({depthBuffer:!1}),this._outputPass=new hi({fragment:zt.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(t){t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}}nu.prototype={constructor:nu,jitterProjection:function(t,e){var n=t.viewport,r=n.devicePixelRatio||t.getDevicePixelRatio(),i=n.width*r,o=n.height*r,a=this._haltonSequence[this._frame%this._haltonSequence.length],s=new Oe;s.array[12]=(2*a[0]-1)/i,s.array[13]=(2*a[1]-1)/o,Oe.mul(e.projectionMatrix,s,e.projectionMatrix),Oe.invert(e.invProjectionMatrix,e.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(t,e){this._prevFrameTex.width=t,this._prevFrameTex.height=e,this._outputTex.width=t,this._outputTex.height=e,this._sourceTex.width=t,this._sourceTex.height=e,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(t,e,n){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",e||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(t),r.render(t),this._blendFb.unbind(t),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(t));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(t){this._sourceFb.dispose(t),this._blendFb.dispose(t),this._prevFrameTex.dispose(t),this._outputTex.dispose(t),this._sourceTex.dispose(t),this._outputPass.dispose(t),this._blendPass.dispose(t)}};var ru=nu;function iu(t){t=t||"perspective",this.layer=null,this.scene=new Hn,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(t),this._compositor=new eu,this._temporalSS=new ru,this._shadowMapPass=new Wa;for(var e=[],n=0,r=0;r<30;r++){for(var i=[],o=0;o<6;o++)i.push(4*Ls(n,2)-2),i.push(4*Ls(n,3)-2),n++;e.push(i)}this._pcfKernels=e,this.scene.on("beforerender",(function(t,e,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,n)}),this)}iu.prototype.setProjection=function(t){var e=this.camera;e&&e.update(),"perspective"===t?this.camera instanceof Zn||(this.camera=new Zn,e&&this.camera.setLocalTransform(e.localTransform)):this.camera instanceof oi||(this.camera=new oi,e&&this.camera.setLocalTransform(e.localTransform)),this.camera.near=.1,this.camera.far=2e3},iu.prototype.setViewport=function(t,e,n,r,i){this.camera instanceof Zn&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=t,this.viewport.y=e,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},iu.prototype.containPoint=function(t,e){var n=this.viewport,r=this.layer.renderer.getHeight();return e=r-e,t>=n.x&&e>=n.y&&t<=n.x+n.width&&e<=n.y+n.height};var ou=new it;iu.prototype.castRay=function(t,e,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(t,e,ou),this.camera.castRay(ou,n),r.viewport=i,n},iu.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var t=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var e=0;e<t.transparent.length;e++){var n=t.transparent[e],r=n.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},iu.prototype.render=function(t,e){this._doRender(t,e,this._frame),this._frame++},iu.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},iu.prototype.needsTemporalSS=function(){var t=this._enableTemporalSS;return"auto"===t&&(t=this._enablePostEffect),t},iu.prototype.hasDOF=function(){return this._enableDOF},iu.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},iu.prototype._doRender=function(t,e,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(t,r,i,n),e||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(t,r,i,!0)),this._updateShadowPCFKernel(n);var o=t.clearColor;if(t.gl.clearColor(o[0],o[1],o[2],o[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,i),this._compositor.updateNormal(t,r,i,this._temporalSS.getFrame())),this._updateSSAO(t,r,i,this._temporalSS.getFrame()),this._enablePostEffect){var a=this._compositor.getSourceFrameBuffer();a.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),t.render(r,i,!0,!0),a.unbind(t),this.needsTemporalSS()&&e?(this._compositor.composite(t,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),this._compositor.composite(t,r,i,null,0))}else if(this.needsTemporalSS()&&e){a=this._temporalSS.getSourceFrameBuffer();a.bind(t),t.saveClear(),t.clearBit=t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT,t.render(r,i,!0,!0),t.restoreClear(),a.unbind(t),t.setViewport(this.viewport),this._temporalSS.render(t)}else t.setViewport(this.viewport),t.render(r,i,!0,!0)},iu.prototype._updateTransparent=function(t,e,n,r){for(var i=new fe,o=new Oe,a=n.getWorldPosition(),s=e.getRenderList(n).transparent,u=0;u<s.length;u++){var c=s[u],l=c.geometry;Oe.invert(o,c.worldTransform),fe.transformMat4(i,a,o),l.needsSortTriangles&&l.needsSortTriangles()&&l.doSortTriangles(i,r),l.needsSortVertices&&l.needsSortVertices()&&l.doSortVertices(i,r)}},iu.prototype._updateSSAO=function(t,e,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(t,e,n,this._temporalSS.getFrame());for(var i=e.getRenderList(n),o=0;o<i.opaque.length;o++){var a=i.opaque[o];a.renderNormal&&a.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&a.material.set("ssaoMap",this._compositor.getSSAOTexture())}},iu.prototype._updateShadowPCFKernel=function(t){for(var e=this._pcfKernels[t%this._pcfKernels.length],n=this.scene.getRenderList(this.camera),r=n.opaque,i=0;i<r.length;i++)r[i].receiveShadow&&(r[i].material.set("pcfKernel",e),r[i].material.define("fragment","PCF_KERNEL_SIZE",e.length/2))},iu.prototype.dispose=function(t){this._compositor.dispose(t.gl),this._temporalSS.dispose(t.gl),this._shadowMapPass.dispose(t)},iu.prototype.setPostEffect=function(t,e){var n=this._compositor;this._enablePostEffect=t.get("enable");var r=t.getModel("bloom"),i=t.getModel("edge"),o=t.getModel("DOF",t.getModel("depthOfField")),a=t.getModel("SSAO",t.getModel("screenSpaceAmbientOcclusion")),s=t.getModel("SSR",t.getModel("screenSpaceReflection")),u=t.getModel("FXAA"),c=t.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),o.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),c.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),i.get("enable")?n.enableEdge():n.disableEdge(),u.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=o.get("enable"),this._enableSSAO=a.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(i.get("color")),n.setColorLookupTexture(c.get("lookupTexture"),e),n.setExposure(c.get("exposure")),["radius","quality","intensity"].forEach((function(t){n.setSSAOParameter(t,a.get(t))})),["quality","maxRoughness","physical"].forEach((function(t){n.setSSRParameter(t,s.get(t))})),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach((function(t){n.setDOFParameter(t,o.get(t))})),["brightness","contrast","saturation"].forEach((function(t){n.setColorCorrection(t,c.get(t))}))},iu.prototype.setDOFFocusOnPoint=function(t){if(this._enablePostEffect){if(t>this.camera.far||t<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",t),!0}},iu.prototype.setTemporalSuperSampling=function(t){this._enableTemporalSS=t.get("enable")},iu.prototype.isLinearSpace=function(){return this._enablePostEffect},iu.prototype.setRootNode=function(t){if(this.rootNode!==t){for(var e=this.rootNode.children(),n=0;n<e.length;n++)t.add(e[n]);t!==this.scene&&this.scene.add(t),this.rootNode=t}},iu.prototype.add=function(t){this.rootNode.add(t)},iu.prototype.remove=function(t){this.rootNode.remove(t)},iu.prototype.removeAll=function(t){this.rootNode.removeAll(t)},Object.assign(iu.prototype,l);var au=iu;function su(t,e){var n=t.getBoxLayoutParams(),r=Object(Ia["g"])(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=t.get("boxWidth"),o=t.get("boxHeight"),a=t.get("boxDepth");this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(a/2,-a/2),this.getAxis("z").setExtent(-o/2,o/2),this.size=[i,o,a]}function uu(t,e){var n={};function i(t,e){n[t]=n[t]||[1/0,-1/0],n[t][0]=Math.min(e[0],n[t][0]),n[t][1]=Math.max(e[1],n[t][1])}t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();["x","y","z"].forEach((function(t){e.mapDimensionsAll(t,!0).forEach((function(n){i(t,e.getDataExtent(n,!0))}))}))}}),this),["xAxis3D","yAxis3D","zAxis3D"].forEach((function(e){t.eachComponent(e,(function(t){var i=e.charAt(0),o=t.getReferringComponents("grid3D").models[0],a=o.coordinateSystem;if(a===this){var s=a.getAxis(i);if(!s){var u=r["o"].createScale(n[i]||[1/0,-1/0],t);s=new La(i,u),s.type=t.get("type");var c="category"===s.type;s.onBand=c&&t.get("boundaryGap"),s.inverse=t.get("inverse"),t.axis=s,s.model=t,s.getLabelModel=function(){return t.getModel("axisLabel",o.getModel("axisLabel"))},s.getTickModel=function(){return t.getModel("axisTick",o.getModel("axisTick"))},a.addAxis(s)}}}),this)}),this),this.resize(this.model,e)}var cu={dimensions:Ca.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("grid3D",(function(t){t.__viewGL=t.__viewGL||new au;var e=new Ca;e.model=t,e.viewGL=t.__viewGL,t.coordinateSystem=e,n.push(e),e.resize=su,e.update=uu}));var r=["xAxis3D","yAxis3D","zAxis3D"];function i(t,e){return r.map((function(n){var r=t.getReferringComponents(n).models[0];return null==r&&(r=e.getComponent(n)),r}))}return t.eachSeries((function(e){if("cartesian3D"===e.get("coordinateSystem")){var n=e.getReferringComponents("grid3D").models[0];if(null==n){var r=i(e,t);n=r[0].getCoordSysModel();r.forEach((function(t){t.getCoordSysModel()}))}var o=n.coordinateSystem;e.coordinateSystem=o}})),n}},lu=cu,hu=r["c"].extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});r["o"].mixinAxisModelCommonMethods(hu);var fu=hu,du={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},pu=r["x"].merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},du),mu=r["x"].merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},du),gu=r["x"].defaults({scale:!0,min:"dataMin",max:"dataMax"},mu),vu=r["x"].defaults({logBase:10},mu);vu.scale=!0;var yu={categoryAxis3D:pu,valueAxis3D:mu,timeAxis3D:gu,logAxis3D:vu},_u=n("8e43"),bu=["value","category","time","log"],xu=function(t,e,n,i,o){bu.forEach((function(a){var s=n.extend({type:e+"Axis3D."+a,__ordinalMeta:null,mergeDefaultAndTheme:function(t,n){var o=n.getTheme();r["x"].merge(t,o.get(a+"Axis3D")),r["x"].merge(t,this.getDefaultOption()),t.type=i(e,t)},optionUpdated:function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=_u["a"].createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:r["x"].merge(r["x"].clone(yu[a+"Axis3D"]),o||{},!0)});t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis3D",r["x"].curry(i,e))};function wu(t,e){return e.type||(e.data?"category":"value")}function Tu(t){t.registerComponentModel(zo),t.registerComponentView(Ma),t.registerCoordinateSystem("grid3D",lu),["x","y","z"].forEach((function(e){xu(t,e,fu,wu,{name:e.toUpperCase()});const n=t.ComponentView.extend({type:e+"Axis3D"});t.registerComponentView(n)})),t.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"grid3D",query:t},(function(e){e.setView(t)}))})),t.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},(function(t,e){})),t.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},(function(t,e){}))}Object(r["w"])(Tu);var Su={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},Ou={getFilledRegions:function(t,e){var n,i=(t||[]).slice();if("string"===typeof e?(e=r["m"](e),n=e&&e.geoJson):e&&e.features&&(n=e),!n)return[];for(var o={},a=n.features,s=0;s<i.length;s++)o[i[s].name]=i[s];for(s=0;s<a.length;s++){var u=a[s].properties.name;o[u]||i.push({name:u})}return i},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}},Mu=r["c"].extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var t=this.option;t.regions=this.getFilledRegions(t.regions,t.map);var e=r["o"].createDimensions(t.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),n=new r["e"](e,this);n.initData(t.regions);var i={};n.each((function(t){var e=n.getName(t),r=n.getItemModel(t);i[e]=r})),this._regionModelMap=i,this._data=n},getData:function(){return this._data},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new r["f"](null,this)},getRegionPolygonCoords:function(t){var e=this.getData().getName(t),n=this.coordinateSystem.getRegion(e);return n?n.geometries:[]},getFormattedLabel:function(t,e){var n=this._data.getName(t),r=this.getRegionModel(t),i=r.get("normal"===e?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var o={name:n};if("function"===typeof i)return o.status=e,i(o);if("string"===typeof i){var a=o.seriesName;return i.replace("{a}",null!=a?a:"")}return n},defaultOption:{regions:[]}});r["x"].merge(Mu.prototype,Ou),r["x"].merge(Mu.prototype,ko),r["x"].merge(Mu.prototype,jo),r["x"].merge(Mu.prototype,Fo),r["x"].merge(Mu.prototype,Su);var Eu=Mu,Au=Cu;function Cu(t,e,n){n=n||2;var r,i,o,a,s,u,c,l=e&&e.length,h=l?e[0]*n:t.length,f=Du(t,0,h,n,!0),d=[];if(!f)return d;if(l&&(f=ju(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var p=n;p<h;p+=n)s=t[p],u=t[p+1],s<r&&(r=s),u<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=Math.max(o-r,a-i)}return Iu(f,d,n,r,i,c),d}function Du(t,e,n,r,i){var o,a;if(i===rc(t,e,n,r)>0)for(o=e;o<n;o+=r)a=tc(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=tc(o,t[o],t[o+1],a);return a&&Yu(a,a.next)&&(ec(a),a=a.next),a}function Lu(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Yu(r,r.next)&&0!==Xu(r.prev,r,r.next))r=r.next;else{if(ec(r),r=e=r.prev,r===r.next)return null;n=!0}}while(n||r!==e);return e}function Iu(t,e,n,r,i,o,a){if(t){!a&&o&&Uu(t,r,i,o);var s,u,c=t;while(t.prev!==t.next)if(s=t.prev,u=t.next,o?Ru(t,r,i,o):Pu(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),ec(t),t=u.next,c=u.next;else if(t=u,t===c){a?1===a?(t=Nu(t,e,n),Iu(t,e,n,r,i,o,2)):2===a&&ku(t,e,n,r,i,o):Iu(Lu(t),e,n,r,i,o,1);break}}}function Pu(t){var e=t.prev,n=t,r=t.next;if(Xu(e,n,r)>=0)return!1;var i=t.next.next;while(i!==t.prev){if(Wu(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Xu(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ru(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Xu(i,o,a)>=0)return!1;var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Gu(s,u,e,n,r),f=Gu(c,l,e,n,r),d=t.nextZ;while(d&&d.z<=f){if(d!==t.prev&&d!==t.next&&Wu(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Xu(d.prev,d,d.next)>=0)return!1;d=d.nextZ}d=t.prevZ;while(d&&d.z>=h){if(d!==t.prev&&d!==t.next&&Wu(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Xu(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Nu(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Yu(i,o)&&$u(i,r,r.next,o)&&Ku(i,o)&&Ku(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),ec(r),ec(r.next),r=t=o),r=r.next}while(r!==t);return r}function ku(t,e,n,r,i,o){var a=t;do{var s=a.next.next;while(s!==a.prev){if(a.i!==s.i&&qu(a,s)){var u=Qu(a,s);return a=Lu(a,a.next),u=Lu(u,u.next),Iu(a,e,n,r,i,o),void Iu(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function ju(t,e,n,r){var i,o,a,s,u,c=[];for(i=0,o=e.length;i<o;i++)a=e[i]*r,s=i<o-1?e[i+1]*r:t.length,u=Du(t,a,s,r,!1),u===u.next&&(u.steiner=!0),c.push(Vu(u));for(c.sort(Fu),i=0;i<c.length;i++)Bu(c[i],n),n=Lu(n,n.next);return n}function Fu(t,e){return t.x-e.x}function Bu(t,e){if(e=zu(t,e),e){var n=Qu(e,t);Lu(n,n.next)}}function zu(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,h=n.y,f=1/0;r=n.next;while(r!==c)i>=r.x&&r.x>=l&&i!==r.x&&Wu(o<h?i:a,o,l,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),(u<f||u===f&&r.x>n.x)&&Ku(r,t)&&(n=r,f=u)),r=r.next;return n}function Uu(t,e,n,r){var i=t;do{null===i.z&&(i.z=Gu(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Hu(i)}function Hu(t){var e,n,r,i,o,a,s,u,c=1;do{n=t,t=null,o=null,a=0;while(n){for(a++,r=n,s=0,e=0;e<c;e++)if(s++,r=r.nextZ,!r)break;u=c;while(s>0||u>0&&r)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function Gu(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Vu(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function Wu(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function qu(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Zu(t,e)&&Ku(t,e)&&Ku(e,t)&&Ju(t,e)}function Xu(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Yu(t,e){return t.x===e.x&&t.y===e.y}function $u(t,e,n,r){return!!(Yu(t,e)&&Yu(n,r)||Yu(t,r)&&Yu(n,e))||Xu(t,e,n)>0!==Xu(t,e,r)>0&&Xu(n,r,t)>0!==Xu(n,r,e)>0}function Zu(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&$u(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Ku(t,e){return Xu(t.prev,t,t.next)<0?Xu(t,e,t.next)>=0&&Xu(t,t.prev,e)>=0:Xu(t,e,t.prev)<0||Xu(t,t.next,e)<0}function Ju(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function Qu(t,e){var n=new nc(t.i,t.x,t.y),r=new nc(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function tc(t,e,n,r){var i=new nc(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ec(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function nc(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function rc(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function ic(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function oc(t,e,n,r,i){var o=n,a=t[e];ic(t,e,r);for(var s=n;s<r;s++)i(t[s],a)<0&&(ic(t,s,o),o++);return ic(t,r,o),o}function ac(t,e,n,r){if(n<r){var i=Math.floor((n+r)/2),o=oc(t,i,n,r,e);ac(t,e,n,o-1),ac(t,e,o+1,r)}}function sc(){this._parts=[]}Cu.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(rc(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(rc(t,c,l,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},sc.prototype.step=function(t,e,n){var r=t.length;if(0===n){this._parts=[],this._sorted=!1;var i=Math.floor(r/2);this._parts.push({pivot:i,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var o=this._parts;if(0===o.length)return this._sorted=!0,!0;if(o.length<512){for(var a=0;a<o.length;a++)o[a].pivot=oc(t,o[a].pivot,o[a].left,o[a].right,e);var s=[];for(a=0;a<o.length;a++){var u=o[a].left,c=o[a].pivot-1;c>u&&s.push({pivot:Math.floor((c+u)/2),left:u,right:c});u=o[a].pivot+1,c=o[a].right;c>u&&s.push({pivot:Math.floor((c+u)/2),left:u,right:c})}o=this._parts=s}else for(a=0;a<Math.floor(o.length/10);a++){var l=o.length-1-this._currentSortPartIdx;if(ac(t,e,o[l].left,o[l].right),this._currentSortPartIdx++,this._currentSortPartIdx===o.length)return this._sorted=!0,!0}return!1}},sc.sort=ac;var uc=sc,cc=$o.vec3,lc=cc.create(),hc=cc.create(),fc=cc.create(),dc={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(t,e){var n=this.indices;if(0===e){var r=this.attributes.position;t=t.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,o=0,a=0;a<n.length;){r.get(n[a++],lc),r.get(n[a++],hc),r.get(n[a++],fc);var s=cc.sqrDist(lc,t),u=cc.sqrDist(hc,t),c=cc.sqrDist(fc,t),l=Math.min(s,u);l=Math.min(l,c),3===a?(i=l,l=0):l-=i,this._triangleZList[o++]=l}}var h=this._sortedTriangleIndices;for(a=0;a<h.length;a++)h[a]=a;if(this.triangleCount<2e4)0===e&&this._simpleSort(!0);else for(a=0;a<3;a++)this._progressiveQuickSort(3*e+a);var f=this._indicesTmp,d=this._triangleZListTmp,p=this._triangleZList;for(a=0;a<this.triangleCount;a++){var m=3*h[a],g=3*a;f[g++]=n[m++],f[g++]=n[m++],f[g]=n[m],d[a]=p[h[a]]}var v=this._indicesTmp;this._indicesTmp=this.indices,this.indices=v;v=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=v,this.dirtyIndices()},_simpleSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;function r(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,r):uc.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new uc,this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}};function pc(t){const e=t.getVisual("style");if(e){const n=t.getVisual("drawType");return e[n]}}function mc(t){const e=t.getVisual("style");return e.opacity}function gc(t,e){const n=t.getItemVisual(e,"style");if(n){const e=t.getVisual("drawType");return n[e]}}function vc(t,e){const n=t.getItemVisual(e,"style");return n&&n.opacity}var yc=1,_c=2;function bc(t,e,n){this._labelsMesh=new va,this._labelTextureSurface=new na({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}bc.prototype.getLabelPosition=function(t,e,n){return[0,0,0]},bc.prototype.getLabelDistance=function(t,e,n){return 0},bc.prototype.getMesh=function(){return this._labelsMesh},bc.prototype.updateData=function(t,e,n){null==e&&(e=0),null==n&&(n=t.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-e||(this._labelsVisibilitiesBits=new Uint8Array(n-e));for(var r=["label","show"],i=["emphasis","label","show"],o=e;o<n;o++){var a=t.getItemModel(o),s=a.get(r),u=a.get(i);null==u&&(u=s);var c=(s?yc:0)|(u?_c:0);this._labelsVisibilitiesBits[o-e]=c}this._start=e,this._end=n,this._data=t},bc.prototype.updateLabels=function(t){if(this._data){t=t||[];for(var e=t.length>0,n={},i=0;i<t.length;i++)n[t[i]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var o=["label"],a=["emphasis","label"],s=this._data.hostModel,u=this._data,c=s.getModel(o),l=s.getModel(a,c),h={left:"right",right:"left",top:"center",bottom:"center"},f={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var p=!1;e&&n[d]&&(p=!0);var m=this._labelsVisibilitiesBits[d-this._start]&(p?_c:yc);if(m){var g=u.getItemModel(d),v=g.getModel(p?a:o,p?l:c),y=v.get("distance")||0,_=v.get("position"),b=this._api.getDevicePixelRatio(),x=s.getFormattedLabel(d,p?"emphasis":"normal");if(null==x||""===x)return;var w=new r["n"].Text({style:Object(Uo["c"])(v,{text:x,fill:v.get("color")||gc(u,d)||"#000",align:"left",verticalAlign:"top",opacity:Ai.firstNotNull(v.get("opacity"),vc(u,d),1)})}),T=w.getBoundingRect(),S=1.2;T.height*=S;var O=this._labelTextureSurface.add(w),M=h[_]||"center",E=f[_]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,_,y),[T.width*b,T.height*b],O,M,E,this.getLabelDistance(d,_,y)*b)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},bc.prototype.dispose=function(){this._labelTextureSurface.dispose()};var xc=bc,wc=$o.vec3;function Tc(t){this.rootNode=new bo.Node,this._triangulationResults={},this._shadersMap=bo.COMMON_SHADERS.filter((function(t){return"shadow"!==t})).reduce((function(t,e){return t[e]=bo.createShader("ecgl."+e),t}),{}),this._linesShader=bo.createShader("ecgl.meshLines3D");var e={};bo.COMMON_SHADERS.forEach((function(t){e[t]=new bo.Material({shader:bo.createShader("ecgl."+t)})})),this._groundMaterials=e,this._groundMesh=new bo.Mesh({geometry:new bo.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new xc(512,512,t),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=t}bo.Shader.import(Ta),Tc.prototype={constructor:Tc,extrudeY:!0,update:function(t,e,n,r,i){var o=t.getData();null==r&&(r=0),null==i&&(i=o.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(t,r,i);var a=this._getShader(t.get("shading"));this._prepareMesh(t,a,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(t,n,r,i);var s=t.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(t,s,n);var u=this;this._labelsBuilder.updateData(o,r,i),this._labelsBuilder.getLabelPosition=function(t,e,n){var r=o.getName(t),i=n;if("geo3D"===s.type){var a=s.getRegion(r);if(!a)return[NaN,NaN,NaN];h=a.getCenter();var c=s.dataToPoint([h[0],h[1],i]);return c}var l=u._triangulationResults[t-u._startIndex],h=u.extrudeY?[(l.max[0]+l.min[0])/2,l.max[1]+i,(l.max[2]+l.min[2])/2]:[(l.max[0]+l.min[0])/2,(l.max[1]+l.min[1])/2,l.max[2]+i]},this._data=o,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(t),this._lastHoverDataIndex=0},_initMeshes:function(){var t=this;function e(){var e=new bo.Mesh({name:"Polygon",material:new bo.Material({shader:t._shadersMap.lambert}),geometry:new bo.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(e.geometry,dc),e}var n=e(),r=new bo.Mesh({material:new bo.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Qo({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define("both","VERTEX_COLOR"),n.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(t){var e=this._shadersMap[t];return e||(e=this._shadersMap.lambert),e.__shading=t,e},_prepareMesh:function(t,e,n,r,i){for(var o=0,a=0,s=0,u=0,c=r;c<i;c++){var l=this._getRegionPolygonInfo(c),h=this._getRegionLinesInfo(c,t,this._linesMesh.geometry);o+=l.vertexCount,a+=l.triangleCount,s+=h.vertexCount,u+=h.triangleCount}var f=this._polygonMesh,d=f.geometry;["position","normal","texcoord0","color"].forEach((function(t){d.attributes[t].init(o)})),d.indices=o>65535?new Uint32Array(3*a):new Uint16Array(3*a),f.material.shader!==e&&f.material.attachShader(e,!0),bo.setMaterialFromModel(e.__shading,f.material,t,n),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(u)),this._dataIndexOfVertex=new Uint32Array(o),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(t,e,n,r){for(var i=t.getData(),o=0,a=0,s=!1,u=this._polygonMesh,c=this._linesMesh,l=n;l<r;l++){var h=t.getRegionModel(l),f=h.getModel("itemStyle"),d=Ai.firstNotNull(gc(i,l),f.get("color"),"#fff"),p=Ai.firstNotNull(vc(i,l),1),m=bo.parseColor(d),g=bo.parseColor(f.get("borderColor"));m[3]*=p,g[3]*=p;var v=m[3]<.99;u.material.set("color",[1,1,1,1]),s=s||v;for(var y=Ai.firstNotNull(h.get("height",!0),t.get("regionHeight")),_=this._updatePolygonGeometry(t,u.geometry,l,y,o,a,m),b=o;b<_.vertexOffset;b++)this._dataIndexOfVertex[b]=l;this._vertexRangeOfDataIndex[2*(l-n)]=o,this._vertexRangeOfDataIndex[2*(l-n)+1]=_.vertexOffset,o=_.vertexOffset,a=_.triangleOffset;var x=f.get("borderWidth"),w=x>0;w&&(x*=e.getDevicePixelRatio(),this._updateLinesGeometry(c.geometry,t,l,y,x,t.coordinateSystem.transform)),c.invisible=!w,c.material.set({color:g})}u=this._polygonMesh;u.material.transparent=s,u.material.depthMask=!s,u.geometry.updateBoundingBox(),u.frontFace=this.extrudeY?bo.Mesh.CCW:bo.Mesh.CW,u.material.get("normalMap")&&u.geometry.generateTangents(),u.seriesIndex=t.seriesIndex,u.on("mousemove",this._onmousemove,this),u.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(t){var e=t.getModel("debug.wireframe");if(e.get("show")){var n=bo.parseColor(e.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=Ai.firstNotNull(e.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",n),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(t){var e=this._dataIndexOfVertex[t.triangle[0]];null==e&&(e=-1),e!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(e),this._labelsBuilder.updateLabels([e])),this._lastHoverDataIndex=e,this._polygonMesh.dataIndex=e},_onmouseout:function(t){t.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(t,e,n){var r=t.getModel("groundPlane",t);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=t.get("shading"),o=this._groundMaterials[i];o||(o=this._groundMaterials.lambert),bo.setMaterialFromModel(i,o,r,n),o.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=o,this._groundMesh.material.set("color",bo.parseColor(r.get("color"))),this._groundMesh.scale.set(e.size[0],e.size[2],1)}},_triangulation:function(t,e,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],o=t.coordinateSystem,a=e;a<n;a++){for(var s=[],u=t.getRegionPolygonCoords(a),c=0;c<u.length;c++){var l=u[c].exterior,h=u[c].interiors,f=[],d=[];if(!(l.length<3)){for(var p=0,m=0;m<l.length;m++){var g=l[m];f[p++]=g[0],f[p++]=g[1]}for(m=0;m<h.length;m++)if(!(h[m].length<3)){for(var v=f.length/2,y=0;y<h[m].length;y++){g=h[m][y];f.push(g[0]),f.push(g[1])}d.push(v)}var _=Au(f,d),b=new Float64Array(f.length/2*3),x=[],w=[1/0,1/0,1/0],T=[-1/0,-1/0,-1/0],S=0;for(m=0;m<f.length;)wc.set(x,f[m++],0,f[m++]),o&&o.transform&&wc.transformMat4(x,x,o.transform),wc.min(w,w,x),wc.max(T,T,x),b[S++]=x[0],b[S++]=x[1],b[S++]=x[2];wc.min(r,r,w),wc.max(i,i,T),s.push({points:b,indices:_,min:w,max:T})}}this._triangulationResults.push(s)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(t){for(var e=this._triangulationResults[t-this._startIndex],n=0,r=0,i=0;i<e.length;i++)n+=e[i].points.length/3,r+=e[i].indices.length/3;var o=2*n+4*n,a=2*r+2*n;return{vertexCount:o,triangleCount:a}},_updatePolygonGeometry:function(t,e,n,r,i,o,a){var s=t.get("projectUVOnGround"),u=e.attributes.position,c=e.attributes.normal,l=e.attributes.texcoord0,h=e.attributes.color,f=this._triangulationResults[n-this._startIndex],d=h.value&&a,p=e.indices,m=this.extrudeY?1:2,g=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=wc.mul([],this._geoBoundingBox[0],v),_=wc.mul([],this._geoBoundingBox[1],v),b=Math.max(_[0]-y[0],_[2]-y[2]);function x(t,e,n){for(var r=t.points,o=r.length,s=[],c=[],f=0;f<o;f+=3)s[0]=r[f],s[m]=e,s[g]=r[f+2],c[0]=(r[f]*v[0]-y[0])/b,c[1]=(r[f+2]*v[g]-y[2])/b,u.set(i,s),d&&h.set(i,a),l.set(i++,c)}function w(t,e,n){var r=i;x(t,e,n);for(var a=t.indices.length,s=0;s<a;s++)p[3*o+s]=t.indices[s]+r;o+=t.indices.length/3}for(var T=this.extrudeY?[0,1,0]:[0,0,1],S=wc.negate([],T),O=0;O<f.length;O++){var M=i,E=f[O];w(E,0,0),w(E,r,0);for(var A=E.points.length/3,C=0;C<A;C++)c.set(M+C,S),c.set(M+C+A,T);var D=[0,3,1,1,3,2],L=[[],[],[],[]],I=[],P=[],R=[],N=[],k=0;for(C=0;C<A;C++){for(var j=(C+1)%A,F=(E.points[3*j]-E.points[3*C])*v[0],B=(E.points[3*j+2]-E.points[3*C+2])*v[g],z=Math.sqrt(F*F+B*B),U=0;U<4;U++){var H=0===U||3===U,G=3*(H?C:j);L[U][0]=E.points[G],L[U][m]=U>1?r:0,L[U][g]=E.points[G+2],u.set(i+U,L[U]),s?(N[0]=(E.points[G]*v[0]-y[0])/b,N[1]=(E.points[G+2]*v[g]-y[g])/b):(N[0]=(H?k:k+z)/b,N[1]=(L[U][m]*v[m]-y[m])/b),l.set(i+U,N)}wc.sub(I,L[1],L[0]),wc.sub(P,L[3],L[0]),wc.cross(R,I,P),wc.normalize(R,R);for(U=0;U<4;U++)c.set(i+U,R),d&&h.set(i+U,a);for(U=0;U<6;U++)p[3*o+U]=D[U]+i;i+=4,o+=2,k+=z}}return e.dirty(),{vertexOffset:i,triangleOffset:o}},_getRegionLinesInfo:function(t,e,n){var r=0,i=0,o=e.getRegionModel(t),a=o.getModel("itemStyle"),s=a.get("borderWidth");if(s>0){var u=e.getRegionPolygonCoords(t);u.forEach((function(t){var e=t.exterior,o=t.interiors;r+=n.getPolylineVertexCount(e),i+=n.getPolylineTriangleCount(e);for(var a=0;a<o.length;a++)r+=n.getPolylineVertexCount(o[a]),i+=n.getPolylineTriangleCount(o[a])}),this)}return{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(t,e,n,r,i,o){function a(t){for(var e=new Float64Array(3*t.length),n=0,i=[],a=0;a<t.length;a++)i[0]=t[a][0],i[1]=r+.1,i[2]=t[a][1],o&&wc.transformMat4(i,i,o),e[n++]=i[0],e[n++]=i[1],e[n++]=i[2];return e}var s=[1,1,1,1],u=e.getRegionPolygonCoords(n);u.forEach((function(e){var n=e.exterior,r=e.interiors;t.addPolyline(a(n),s,i);for(var o=0;o<r.length;o++)t.addPolyline(a(r[o]),s,i)}))},highlight:function(t){var e=this._data;if(e){var n=e.getItemModel(t),i=n.getModel(["emphasis","itemStyle"]),o=i.get("color"),a=Ai.firstNotNull(i.get("opacity"),vc(e,t),1);if(null==o){var s=gc(e,t);o=r["h"].lift(s,-.4)}null==a&&(a=vc(e,t));var u=bo.parseColor(o);u[3]*=a,this._setColorOfDataIndex(e,t,u)}},downplay:function(t){var e=this._data;if(e){var n=Ai.firstNotNull(gc(e,t),e.getItemModel(t).get(["itemStyle","color"]),"#fff"),r=Ai.firstNotNull(vc(e,t),1),i=bo.parseColor(n);i[3]*=r,this._setColorOfDataIndex(e,t,i)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(t,e,n){if(!(e<this._startIndex&&e>this._endIndex)){e-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*e];r<this._vertexRangeOfDataIndex[2*e+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};var Sc=Tc,Oc=r["d"].extend({type:"geo3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new Sc(e),this.groupGL=new bo.Node,this._lightRoot=new bo.Node,this._sceneHelper=new ia(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new qo({zr:e.getZr()}),this._control.init()},render:function(t,e,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=t.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var o=t.getModel("viewControl");i.setFromViewControlModel(o,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._geo3DBuilder.update(t,e,n,0,t.getData().count());var a=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(t){t.material&&t.material[a]("fragment","SRGB_DECODE")})),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:t.id})})),i.update()}},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}}),Mc=n("1792"),Ec=n("6bd4"),Ac=$o.vec3,Cc=$o.mat4,Dc=[Mc["a"],Ec["a"]];function Lc(t,e,n,r,i){this.name=t,this.map=e,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=Cc.identity(new Float64Array(16)),this.invTransform=Cc.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}Lc.prototype={constructor:Lc,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(t,e,n){var i=r["r"]||r["s"];try{this.regions=t?i(t):[]}catch(l){throw"Invalid geoJson format\n"+l}e=e||{},n=n||{};for(var o=this.regions,a={},s=0;s<o.length;s++){var u=o[s].name;u=n[u]||u,o[s].name=u,a[u]=o[s],this.addGeoCoord(u,o[s].getCenter());var c=e[u];c&&o[s].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=a,this._geoRect=null,Dc.forEach((function(t){t(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var t,e=this.regions,n=0;n<e.length;n++){var i=e[n].getBoundingRect();t=t||i.clone(),t.union(i)}return this._geoRect=t||new r["n"].BoundingRect(0,0,0,0)},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},setSize:function(t,e,n){this.size=[t,e,n];var r=this.getGeoBoundingRect(),i=t/r.width,o=-n/r.height,a=-t/2-r.x*i,s=n/2-r.y*o,u=this.extrudeY?[a,0,s]:[a,s,0],c=this.extrudeY?[i,1,o]:[i,o,1],l=this.transform;Cc.identity(l),Cc.translate(l,l,u),Cc.scale(l,l,c),Cc.invert(this.invTransform,l)},dataToPoint:function(t,e){e=e||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=t[2];return isNaN(i)&&(i=0),e[0]=t[0],e[r]=t[1],this.altitudeAxis?e[n]=this.altitudeAxis.dataToCoord(i):e[n]=0,e[n]+=this.regionHeight,Ac.transformMat4(e,e,this.transform),e},pointToData:function(t,e){}};var Ic=Lc;function Pc(t,e){var n=t.getBoxLayoutParams(),r=Object(Ia["g"])(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=this.getGeoBoundingRect(),o=i.width/i.height*(t.get("aspectScale")||.75),a=t.get("boxWidth"),s=t.get("boxDepth"),u=t.get("boxHeight");null==u&&(u=5),isNaN(a)&&isNaN(s)&&(a=100),isNaN(s)?s=a/o:isNaN(a)&&(a=s/o),this.setSize(a,u,s),this.regionHeight=t.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(u-this.regionHeight,0))}function Rc(t,e){var n=[1/0,-1/0];if(t.eachSeries((function(t){if(t.coordinateSystem===this&&"series.map3D"!==t.type){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var o=e.getDataExtent(i,!0);n[0]=Math.min(n[0],o[0]),n[1]=Math.max(n[1],o[1])}}}),this),n&&isFinite(n[1]-n[0])){var i=r["o"].createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new r["a"]("altitude",i),this.resize(this.model,e)}}var Nc=0,kc={dimensions:Ic.prototype.dimensions,create:function(t,e){var n=[];if(!r["m"])throw new Error("geo3D component depends on geo component");function i(t,r){var i=kc.createGeo3D(t);t.__viewGL=t.__viewGL||new au,i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=Pc,i.resize(t,e),i.update=Rc}return t.eachComponent("geo3D",(function(t,e){i(t,e)})),t.eachSeriesByType("map3D",(function(t,e){var n=t.get("coordinateSystem");null==n&&(n="geo3D"),"geo3D"===n&&i(t,e)})),t.eachSeries((function(e){if("geo3D"===e.get("coordinateSystem")){if("series.map3D"===e.type)return;var n=e.getReferringComponents("geo3D").models[0];if(n||(n=t.getComponent("geo3D")),!n)throw new Error('geo "'+Ai.firstNotNull(e.get("geo3DIndex"),e.get("geo3DId"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}})),n},createGeo3D:function(t){var e,n=t.get("map");return"string"===typeof n?(e=n,n=r["m"](n)):n&&n.features&&(n={geoJson:n}),null==e&&(e="GEO_ANONYMOUS_"+Nc++),new Ic(e+Nc++,e,n&&n.geoJson,n&&n.specialAreas,t.get("nameMap"))}},jc=kc;function Fc(t){t.registerComponentModel(Eu),t.registerComponentView(Oc),t.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"geo3D",query:t},(function(e){e.setView(t)}))})),t.registerCoordinateSystem("geo3D",jc)}function Bc(t,e){t.id=t.id||t.name||e+""}Object(r["w"])(Fc);var zc=r["c"].extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){zc.superApply(this,"init",arguments),r["x"].each(this.option.layers,(function(t,e){r["x"].merge(t,this.defaultLayerOption),Bc(t,e)}),this)},mergeOption:function(t){var e=this.option.layers;function n(t){return r["x"].reduce(t,(function(t,e,n){return Bc(e,n),t[e.id]=e,t}),{})}if(this.option.layers=null,zc.superApply(this,"mergeOption",arguments),e&&e.length){var i=n(t.layers),o=n(e);for(var a in i)o[a]?r["x"].merge(o[a],i[a],!0):e.push(t.layers[a]);this.option.layers=e}r["x"].each(this.option.layers,(function(t){r["x"].merge(t,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var t=this.getDisplacementTexture(),e=this.get("displacementScale");return t&&"none"!==t||(e=0),e},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var t=this.getDisplacementTexture(),e=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==t||this._displacementScale!==e,this._displacementTexture=t,this._displacementScale=e},isDisplacementChanged:function(){return this._displacementChanged}});r["x"].merge(zc.prototype,ko),r["x"].merge(zc.prototype,jo),r["x"].merge(zc.prototype,Fo),r["x"].merge(zc.prototype,Su);var Uc=zc,Hc=Math.PI,Gc=Math.sin,Vc=Math.cos,Wc=Math.tan,qc=Math.asin,Xc=Math.atan2,Yc=Hc/180,$c=864e5,Zc=2440588,Kc=2451545;function Jc(t){return t.valueOf()/$c-.5+Zc}function Qc(t){return Jc(t)-Kc}var tl=23.4397*Yc;function el(t,e){return Xc(Gc(t)*Vc(tl)-Wc(e)*Gc(tl),Vc(t))}function nl(t,e){return qc(Gc(e)*Vc(tl)+Vc(e)*Gc(tl)*Gc(t))}function rl(t,e,n){return Xc(Gc(t),Vc(t)*Gc(e)-Wc(n)*Vc(e))}function il(t,e,n){return qc(Gc(e)*Gc(n)+Vc(e)*Vc(n)*Vc(t))}function ol(t,e){return Yc*(280.16+360.9856235*t)-e}function al(t){return Yc*(357.5291+.98560028*t)}function sl(t){var e=Yc*(1.9148*Gc(t)+.02*Gc(2*t)+3e-4*Gc(3*t)),n=102.9372*Yc;return t+e+n+Hc}function ul(t){var e=al(t),n=sl(e);return{dec:nl(n,0),ra:el(n,0)}}var cl={getPosition:function(t,e,n){var r=Yc*-n,i=Yc*e,o=Qc(t),a=ul(o),s=ol(o,r)-a.ra;return{azimuth:rl(s,i,a.dec),altitude:il(s,i,a.dec)}}},ll=cl,hl="@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end";bo.Shader["import"](no),bo.Shader["import"](hl);var fl=r["d"].extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(t,e){this.groupGL=new bo.Node,this._sphereGeometry=new bo.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new bo.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new bo.PlaneGeometry,this._earthMesh=new bo.Mesh({renderNormal:!0}),this._atmosphereMesh=new bo.Mesh,this._atmosphereGeometry=new bo.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new bo.Material({shader:new bo.Shader(bo.Shader.source("ecgl.atmosphere.vertex"),bo.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=bo.Mesh.CW,this._lightRoot=new bo.Node,this._sceneHelper=new ia,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new qo({zr:e.getZr()}),this._control.init(),this._layerMeshes={}},render:function(t,e,n){var r=t.coordinateSystem,i=t.get("shading");r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var o=this._earthMesh;o.geometry=this._sphereGeometry;var a="ecgl."+i;o.material&&o.material.shader.name===a||(o.material=bo.createMaterial(a)),bo.setMaterialFromModel(i,o.material,t,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach((function(t){var e=o.material.get(t);e&&(e.flipY=!1)})),o.material.set("color",bo.parseColor(t.get("baseColor")));var s=.99*r.radius;if(o.scale.set(s,s,s),t.get("atmosphere.show")){o.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:t.get("atmosphere.glowPower")||6,glowColor:t.get("atmosphere.color")||"#ffffff"}),o.material.setUniforms({glowPower:t.get("atmosphere.innerGlowPower")||2,glowColor:t.get("atmosphere.color")||"#ffffff"});var u=t.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+u,s+u,s+u)}else o.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var c=o.material.setTextureImage("diffuseMap",t.get("baseTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(o);var l=o.material.setTextureImage("bumpMap",t.get("heightTexture"),n,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(o),o.material[t.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(t,n),this._displaceVertices(t,n),this._updateViewControl(t,n),this._updateLayers(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},_updateLayers:function(t,e){var n=t.coordinateSystem,i=t.get("layers"),o=n.radius,a=[],s=[],u=[],c=[];r["x"].each(i,(function(t){var i=new r["f"](t),l=i.get("type"),h=bo.loadTexture(i.get("texture"),e,{flipY:!1,anisotropic:8});if(h.surface&&h.surface.attachToMesh(this._earthMesh),"blend"===l){var f=i.get("blendTo"),d=Ai.firstNotNull(i.get("intensity"),1);"emission"===f?(u.push(h),c.push(d)):(a.push(h),s.push(d))}else{var p=i.get("id"),m=this._layerMeshes[p];m||(m=this._layerMeshes[p]=new bo.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var g=i.get("shading");"lambert"===g?(m.material=m.__lambertMaterial||new bo.Material({autoUpdateTextureStatus:!1,shader:bo.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),m.__lambertMaterial=m.material):(m.material=m.__colorMaterial||new bo.Material({autoUpdateTextureStatus:!1,shader:bo.createShader("ecgl.color"),transparent:!0,depthMask:!1}),m.__colorMaterial=m.material),m.material.enableTexture("diffuseMap");var v=i.get("distance"),y=o+(null==v?n.radius/100:v);m.scale.set(y,y,y),o=y;var _=this._blankTexture||(this._blankTexture=bo.createBlankTexture("rgba(255, 255, 255, 0)"));m.material.set("diffuseMap",_),bo.loadTexture(i.get("texture"),e,{flipY:!1,anisotropic:8},(function(t){t.surface&&t.surface.attachToMesh(m),m.material.set("diffuseMap",t),e.getZr().refresh()})),i.get("show")?this.groupGL.add(m):this.groupGL.remove(m)}}),this);var l=this._earthMesh.material;l.define("fragment","LAYER_DIFFUSEMAP_COUNT",a.length),l.define("fragment","LAYER_EMISSIVEMAP_COUNT",u.length),l.set("layerDiffuseMap",a),l.set("layerDiffuseIntensity",s),l.set("layerEmissiveMap",u),l.set("layerEmissionIntensity",c);var h=t.getModel("debug.wireframe");if(h.get("show")){l.define("both","WIREFRAME_TRIANGLE");var f=bo.parseColor(h.get("lineStyle.color")||"rgba(0,0,0,0.5)"),d=Ai.firstNotNull(h.get("lineStyle.width"),1);l.set("wireframeLineWidth",d),l.set("wireframeLineColor",f)}else l.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(t,e){var n=t.coordinateSystem,r=t.getModel("viewControl"),i=(n.viewGL.camera,this);function o(){return{type:"globeChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance()-n.radius,center:a.getCenter(),from:i.uid,globeId:t.id}}var a=this._control;a.setViewGL(n.viewGL);var s,u,c=r.get("targetCoord");null!=c&&(u=c[0]+90,s=c[1]),a.setFromViewControlModel(r,{baseDistance:n.radius,alpha:s,beta:u}),a.off("update"),a.on("update",(function(){e.dispatchAction(o())}))},_displaceVertices:function(t,e){var n=t.get("displacementQuality"),r=t.get("debug.wireframe.show"),i=t.coordinateSystem;if(t.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var o=this._sphereGeometry,a={low:100,medium:200,high:400,ultra:800}[n]||200,s=a/2;(o.widthSegments!==a||r)&&(o.widthSegments=a,o.heightSegments=s,o.build()),this._doDisplaceVertices(o,i),r&&o.generateBarycentric()}},_doDisplaceVertices:function(t,e){var n=t.attributes.position.value,r=t.attributes.texcoord0.value,i=t.__originalPosition;i&&i.length===n.length||(i=new Float32Array(n.length),i.set(n),t.__originalPosition=i);for(var o=e.displacementWidth,a=e.displacementHeight,s=e.displacementData,u=0;u<t.vertexCount;u++){var c=3*u,l=2*u,h=i[c+1],f=i[c+2],d=i[c+3],p=r[l++],m=r[l++],g=Math.round(p*(o-1)),v=Math.round(m*(a-1)),y=v*o+g,_=s?s[y]:0;n[c+1]=h+h*_,n[c+2]=f+f*_,n[c+3]=d+d*_}t.generateVertexNormals(),t.dirty(),t.updateBoundingBox()},_updateLight:function(t,e){var n=this._earthMesh;this._sceneHelper.updateLight(t);var i=this._sceneHelper.mainLight,o=t.get("light.main.time")||new Date,a=ll.getPosition(r["q"].parseDate(o),0,0),s=Math.cos(a.altitude);i.position.y=-s*Math.cos(a.azimuth),i.position.x=Math.sin(a.altitude),i.position.z=s*Math.sin(a.azimuth),i.lookAt(n.getWorldPosition())},dispose:function(t,e){this.groupGL.removeAll(),this._control.dispose()}}),dl=$o.vec3;function pl(t){this.radius=t,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}pl.prototype={constructor:pl,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},_getDisplacementScale:function(t,e){var n=(t+180)/360*(this.displacementWidth-1),r=(90-e)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(t,e){var n=t[0],r=t[1],i=t[2]||0,o=this.radius;this.displacementData&&(o*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(o+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var a=Math.cos(r)*o;return e=e||[],e[0]=-a*Math.cos(n+Math.PI),e[1]=Math.sin(r)*o,e[2]=a*Math.sin(n+Math.PI),e},pointToData:function(t,e){var n=t[0],r=t[1],i=t[2],o=dl.len(t);n/=o,r/=o,i/=o;var a=Math.asin(r),s=Math.atan2(i,-n);s<0&&(s=2*Math.PI+s);var u=180*a/Math.PI,c=180*s/Math.PI-180;return e=e||[],e[0]=c,e[1]=u,e[2]=o-this.radius,this.altitudeAxis&&(e[2]=this.altitudeAxis.coordToData(e[2])),e}};var ml=pl;function gl(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.width,o=t.height;n.width=i,n.height=o,r.drawImage(t,0,0,i,o);for(var a=r.getImageData(0,0,i,o).data,s=new Float32Array(a.length/4),u=0;u<a.length/4;u++){var c=a[4*u];s[u]=c/255*e}return{data:s,width:i,height:o}}function vl(t,e){var n=t.getBoxLayoutParams(),r=Object(Ia["g"])(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio()),this.radius=t.get("globeRadius");var i=t.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function yl(t,e){var n=[1/0,-1/0];if(t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var o=e.getDataExtent(i,!0);n[0]=Math.min(n[0],o[0]),n[1]=Math.max(n[1],o[1])}}}),this),n&&isFinite(n[1]-n[0])){var i=r["o"].createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new r["a"]("altitude",i),this.resize(this.model,e)}}var _l={dimensions:ml.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("globe",(function(t){t.__viewGL=t.__viewGL||new au;var r=new ml;r.viewGL=t.__viewGL,t.coordinateSystem=r,r.model=t,n.push(r),r.resize=vl,r.resize(t,e),r.update=yl})),t.eachSeries((function(e){if("globe"===e.get("coordinateSystem")){var n=e.getReferringComponents("globe").models[0];if(n||(n=t.getComponent("globe")),!n)throw new Error('globe "'+Ai.firstNotNull(e.get("globe3DIndex"),e.get("globe3DId"),0)+'" not found');var r=n.coordinateSystem;e.coordinateSystem=r}})),t.eachComponent("globe",(function(t,n){var r=t.coordinateSystem,i=t.getDisplacementTexture(),o=t.getDisplacemenScale();if(t.isDisplacementChanged()){if(t.hasDisplacement()){var a=!0;bo.loadTexture(i,e,(function(n){var r=n.image,i=gl(r,o);t.setDisplacementData(i.data,i.width,i.height),a||e.dispatchAction({type:"globeUpdateDisplacment"})})),a=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(t.displacementData,t.displacementWidth,t.displacementHeight)}})),n}},bl=_l;function xl(t){t.registerComponentModel(Uc),t.registerComponentView(fl),t.registerCoordinateSystem("globe",bl),t.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"globe",query:t},(function(e){e.setView(t)}))})),t.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},(function(t,e){}))}Object(r["w"])(xl);var wl=["zoom","center","pitch","bearing"],Tl=r["c"].extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var t=this;return wl.reduce((function(e,n){return e[n]=t.get(n),e}),{})},setMapboxCameraOption:function(t){null!=t&&wl.forEach((function(e){null!=t[e]&&(this.option[e]=t[e])}),this)},getMapbox:function(){return this._mapbox},setMapbox:function(t){this._mapbox=t}});r["x"].merge(Tl.prototype,jo),r["x"].merge(Tl.prototype,Fo);var Sl=Tl;function Ol(t,e){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Ol.prototype.setUnpainted=function(){},Ol.prototype.resize=function(){this._mapbox.resize()},Ol.prototype.getMapbox=function(){return this._mapbox},Ol.prototype.clear=function(){},Ol.prototype.refresh=function(){this._mapbox.resize()};var Ml=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Ol.prototype._initEvents=function(){var t=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},Ml.forEach((function(e){this._handlers[e]=function(e){var n={};for(var r in e)n[r]=e[r];n.bubbles=!1;var i=new e.constructor(e.type,n);t.dispatchEvent(i)},this.zr.dom.addEventListener(e,this._handlers[e])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},Ol.prototype.dispose=function(){Ml.forEach((function(t){this.zr.dom.removeEventListener(t,this._handlers[t])}),this)};var El=Ol,Al="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";bo.Shader.import(Al);var Cl=r["d"].extend({type:"mapbox3D",__ecgl__:!0,init:function(t,e){var n=e.getZr();this._zrLayer=new El("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new bo.Node,this._sceneHelper=new ia(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,e,r);["zoom","rotate","drag","pitch","rotate","move"].forEach((function(t){r.on(t,i)})),this._groundMesh=new bo.Mesh({geometry:new bo.PlaneGeometry,material:new bo.Material({shader:new bo.Shader({vertex:bo.Shader.source("ecgl.displayShadow.vertex"),fragment:bo.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(t,e,n){var r=this._zrLayer.getMapbox(),i=t.get("style"),o=JSON.stringify(i);o!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=o,r.setCenter(t.get("center")),r.setZoom(t.get("zoom")),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMapbox(r);var a=t.coordinateSystem;a.viewGL.scene.add(this._lightRoot),a.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(a.viewGL.scene),this._sceneHelper.updateLight(t),a.viewGL.setPostEffect(t.getModel("postEffect"),n),a.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._mapbox3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse((function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"mapbox3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var t=this._mapbox3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new bo.Plane(new bo.Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new bo.Vector2(-1,-1)),i=t.viewGL.camera.castRay(new bo.Vector2(1,1)),o=r.intersectPlane(n),a=i.intersectPlane(n),s=o.dist(a)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}}),Dl=$o.mat4,Ll=512,Il=.6435011087932844,Pl=Math.PI,Rl=.1;function Nl(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}Nl.prototype={constructor:Nl,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(t){this.bearing=t.bearing,this.pitch=t.pitch,this.center=t.center,this.zoom=t.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,Ll)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var t=.5/Math.tan(Il/2)*this.height*Rl,e=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=Il/2,r=Math.PI/2+e,i=Math.sin(n)*t/Math.sin(Math.PI-r-n),o=Math.cos(Math.PI/2-e)*i+t,a=1.1*o;this.pitch>50&&(a=1e3);var s=[];Dl.perspective(s,Il,this.width/this.height,1,a),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix();s=Dl.identity([]);var u=this.dataToPoint(this.center);Dl.scale(s,s,[1,-1,1]),Dl.translate(s,s,[0,0,-t]),Dl.rotateX(s,s,e),Dl.rotateZ(s,s,-this.bearing/180*Math.PI),Dl.translate(s,s,[-u[0]*this.getScale()*Rl,-u[1]*this.getScale()*Rl,0]),this.viewGL.camera.viewMatrix.array=s;var c=[];Dl.invert(c,s),this.viewGL.camera.worldTransform.array=c,this.viewGL.camera.decomposeWorldTransform();var l,h=Ll*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var f=this.altitudeExtent[1]-this.altitudeExtent[0];l=this.boxHeight/f*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else l=h/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*Rl;this.viewGL.rootNode.scale.set(this.getScale()*Rl,this.getScale()*Rl,l)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(t,e){return this.projectOnTileWithScale(t,this.getScale()*Ll,e)},projectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],o=r*Pl/180,a=i*Pl/180,s=e*(o+Pl)/(2*Pl),u=e*(Pl-Math.log(Math.tan(Pl/4+.5*a)))/(2*Pl);return n=n||[],n[0]=s,n[1]=u,n},unprojectFromTile:function(t,e){return this.unprojectOnTileWithScale(t,this.getScale()*Ll,e)},unprojectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],o=r/e*(2*Pl)-Pl,a=2*(Math.atan(Math.exp(Pl-i/e*(2*Pl)))-Pl/4);return n=n||[],n[0]=180*o/Pl,n[1]=180*a/Pl,n},dataToPoint:function(t,e){return e=this.projectOnTileWithScale(t,Ll,e),e[0]-=this._origin[0],e[1]-=this._origin[1],e[2]=isNaN(t[2])?0:t[2],isNaN(t[2])||(e[2]=t[2],this.altitudeExtent&&(e[2]-=this.altitudeExtent[0])),e}};var kl=Nl;function jl(){kl.apply(this,arguments)}jl.prototype=new kl,jl.prototype.constructor=jl,jl.prototype.type="mapbox3D";var Fl=jl,Bl=function(t,e,n){function r(t,e){var n=e.getWidth(),r=e.getHeight(),i=e.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=t.get("altitudeScale"),this.boxHeight=t.get("boxHeight")}function i(t,e){if("auto"!==this.model.get("boxHeight")){var n=[1/0,-1/0];t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt")[0];if(r){var i=e.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}}),this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:e.prototype.dimensions,create:function(o,a){var s=[];return o.eachComponent(t,(function(t){var n=t.__viewGL;n||(n=t.__viewGL=new au,n.setRootNode(new bo.Node));var o=new e;o.viewGL=t.__viewGL,o.resize=r,o.resize(t,a),s.push(o),t.coordinateSystem=o,o.model=t,o.update=i})),o.eachSeries((function(e){if(e.get("coordinateSystem")===t){var n=e.getReferringComponents(t).models[0];if(n||(n=o.getComponent(t)),!n)throw new Error(t+' "'+Ai.firstNotNull(e.get(t+"Index"),e.get(t+"Id"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}})),n&&n(s,o,a),s}}},zl=Bl("mapbox3D",Fl,(function(t){t.forEach((function(t){t.setCameraOption(t.model.getMapboxCameraOption())}))})),Ul=zl;function Hl(t){t.registerComponentModel(Sl),t.registerComponentView(Cl),t.registerCoordinateSystem("mapbox3D",Ul),t.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},(function(t,e){e.eachComponent({mainType:"mapbox3D",query:t},(function(e){e.setMapboxCameraOption(t)}))}))}Object(r["w"])(Hl);var Gl=["zoom","center","pitch","bearing"],Vl=r["c"].extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var t=this;return Gl.reduce((function(e,n){return e[n]=t.get(n),e}),{})},setMaptalksCameraOption:function(t){null!=t&&Gl.forEach((function(e){null!=t[e]&&(this.option[e]=t[e])}),this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(t){this._maptalks=t}});r["x"].merge(Vl.prototype,jo),r["x"].merge(Vl.prototype,Fo);var Wl=Vl;function ql(t,e,n,r){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}ql.prototype.setUnpainted=function(){},ql.prototype.resize=function(){this._maptalks.checkSize()},ql.prototype.getMaptalks=function(){return this._maptalks},ql.prototype.clear=function(){},ql.prototype.refresh=function(){this._maptalks.checkSize()};var Xl=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];ql.prototype._initEvents=function(){var t=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},Xl.forEach((function(e){this._handlers[e]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var o=new n.constructor(n.type,r);"mousewheel"===e||"DOMMouseScroll"===e?t.dispatchEvent(o):t.firstElementChild.dispatchEvent(o)},this.zr.dom.addEventListener(e,this._handlers[e])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},ql.prototype.dispose=function(){Xl.forEach((function(t){this.zr.dom.removeEventListener(t,this._handlers[t])}),this),this._maptalks.remove()};var Yl=ql;bo.Shader.import(Al);var $l=r["d"].extend({type:"maptalks3D",__ecgl__:!0,init:function(t,e){this._groundMesh=new bo.Mesh({geometry:new bo.PlaneGeometry,material:new bo.Material({shader:new bo.Shader({vertex:bo.Shader.source("ecgl.displayShadow.vertex"),fragment:bo.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(t,e){var n=e.getZr();this._zrLayer=new Yl("maptalks3D",n,t.get("center"),t.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new bo.Node,this._sceneHelper=new ia(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,e,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach((function(t){r.on(t,i)}))},render:function(t,e,n){this._zrLayer||this._initMaptalksLayer(t,n);var r=this._zrLayer.getMaptalks(),i=t.get("urlTemplate"),o=r.getBaseLayer();i!==this._oldUrlTemplate&&(o?o.setOptions({urlTemplate:i,attribution:t.get("attribution")}):(o=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:t.get("attribution")}),r.setBaseLayer(o))),this._oldUrlTemplate=i,r.setCenter(t.get("center")),r.setZoom(t.get("zoom"),{animation:!1}),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMaptalks(r);var a=t.coordinateSystem;a.viewGL.scene.add(this._lightRoot),a.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(a.viewGL.scene),this._sceneHelper.updateLight(t),a.viewGL.setPostEffect(t.getModel("postEffect"),n),a.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._maptalks3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse((function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"maptalks3DChangeCamera",pitch:e.getPitch(),zoom:Kl(e.getResolution())+1,center:e.getCenter().toArray(),bearing:e.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var t=this._maptalks3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new bo.Plane(new bo.Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new bo.Vector2(-1,-1)),i=t.viewGL.camera.castRay(new bo.Vector2(1,1)),o=r.intersectPlane(n),a=i.intersectPlane(n),s=o.dist(a)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}});const Zl=12756274*Math.PI/(256*Math.pow(2,20));function Kl(t){return 19-Math.log(t/Zl)/Math.LN2}function Jl(){kl.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}Jl.prototype=new kl,Jl.prototype.constructor=Jl,Jl.prototype.type="maptalks3D";var Ql=Jl,th=Bl("maptalks3D",Ql,(function(t){t.forEach((function(t){t.setCameraOption(t.model.getMaptalksCameraOption())}))})),eh=th;function nh(t){t.registerComponentModel(Wl),t.registerComponentView($l),t.registerCoordinateSystem("maptalks3D",eh),t.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},(function(t,e){e.eachComponent({mainType:"maptalks3D",query:t},(function(e){e.setMaptalksCameraOption(t)}))}))}Object(r["w"])(nh);var rh=$o.vec3,ih=r["o"].dataStack.isDimensionStacked;function oh(t){var e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function ah(t,e){var n=t.getData(),i=t.get("barSize");if(null==i){var o,a,s=e.size,u=e.getAxis("x"),c=e.getAxis("y");o="category"===u.type?.7*u.getBandWidth():.6*Math.round(s[0]/Math.sqrt(n.count())),a="category"===c.type?.7*c.getBandWidth():.6*Math.round(s[1]/Math.sqrt(n.count())),i=[o,a]}else r["x"].isArray(i)||(i=[i,i]);var l=e.getAxis("z").scale.getExtent(),h=oh(l),f=["x","y","z"].map((function(e){return t.coordDimToDataDim(e)[0]})),d=ih(n,f[2]),p=d?n.getCalculationInfo("stackResultDimension"):f[2];n.each(f,(function(t,r,o,a){var s=n.get(p,a),u=d?s-o:h?0:l[0],c=e.dataToPoint([t,r,u]),f=e.dataToPoint([t,r,s]),m=rh.dist(c,f),g=[0,f[1]<c[1]?-1:1,0];0===Math.abs(m)&&(m=.1);var v=[i[0],m,i[1]];n.setItemLayout(a,[c,g,v])})),n.setLayout("orient",[1,0,0])}var sh=ah,uh=function(t,e,n){for(var r=t.getDataExtent(e),i=t.getDataExtent(n),o=r[1]-r[0]||r[0],a=i[1]-i[0]||i[0],s=50,u=new Uint8Array(s*s),c=0;c<t.count();c++){var l=t.get(e,c),h=t.get(n,c),f=Math.floor((l-r[0])/o*(s-1)),d=Math.floor((h-i[0])/a*(s-1)),p=d*s+f;u[p]=u[p]||1}var m=0;for(c=0;c<u.length;c++)u[c]&&m++;return m/u.length},ch=$o.vec3,lh=r["o"].dataStack.isDimensionStacked;function hh(t,e){var n=t.getData(),i=t.get("minHeight")||0,o=t.get("barSize"),a=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==o){var s=e.radius*Math.PI,u=uh(n,a[0],a[1]);o=[s/Math.sqrt(n.count()/u),s/Math.sqrt(n.count()/u)]}else r["x"].isArray(o)||(o=[o,o]);var c=ph(n,a);n.each(a,(function(t,r,a,s){var u=n.get(c.dimension,s),l=c.isStacked?u-a:e.altitudeAxis.scale.getExtent()[0],h=Math.max(e.altitudeAxis.dataToCoord(a),i),f=e.dataToPoint([t,r,l]),d=e.dataToPoint([t,r,u]),p=ch.sub([],d,f);ch.normalize(p,p);var m=[o[0],h,o[1]];n.setItemLayout(s,[f,p,m])})),n.setLayout("orient",fe.UP.array)}function fh(t,e){var n=t.getData(),i=t.get("barSize"),o=t.get("minHeight")||0,a=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==i){var s=Math.min(e.size[0],e.size[2]),u=uh(n,a[0],a[1]);i=[s/Math.sqrt(n.count()/u),s/Math.sqrt(n.count()/u)]}else r["x"].isArray(i)||(i=[i,i]);var c=[0,1,0],l=ph(n,a);n.each(a,(function(t,r,a,s){var u=n.get(l.dimension,s),h=l.isStacked?u-a:e.altitudeAxis.scale.getExtent()[0],f=Math.max(e.altitudeAxis.dataToCoord(a),o),d=e.dataToPoint([t,r,h]),p=[i[0],f,i[1]];n.setItemLayout(s,[d,c,p])})),n.setLayout("orient",[1,0,0])}function dh(t,e){var n=t.getData(),i=t.coordDimToDataDim("lng")[0],o=t.coordDimToDataDim("lat")[0],a=t.coordDimToDataDim("alt")[0],s=t.get("barSize"),u=t.get("minHeight")||0;if(null==s){var c=n.getDataExtent(i),l=n.getDataExtent(o),h=e.dataToPoint([c[0],l[0]]),f=e.dataToPoint([c[1],l[1]]),d=Math.min(Math.abs(h[0]-f[0]),Math.abs(h[1]-f[1]))||1,p=uh(n,i,o);s=[d/Math.sqrt(n.count()/p),d/Math.sqrt(n.count()/p)]}else r["x"].isArray(s)||(s=[s,s]),s[0]/=e.getScale()/16,s[1]/=e.getScale()/16;var m=[0,0,1],g=[i,o,a],v=ph(n,g);n.each(g,(function(t,r,i,o){var a=n.get(v.dimension,o),c=v.isStacked?a-i:0,l=e.dataToPoint([t,r,c]),h=e.dataToPoint([t,r,a]),f=Math.max(h[2]-l[2],u),d=[s[0],f,s[1]];n.setItemLayout(o,[l,m,d])})),n.setLayout("orient",[1,0,0])}function ph(t,e){var n=lh(t,e[2]);return{dimension:n?t.getCalculationInfo("stackResultDimension"):e[2],isStacked:n}}function mh(t){t.registerLayout((function(t,e){t.eachSeriesByType("bar3D",(function(t){var e=t.coordinateSystem,n=e&&e.type;"globe"===n?hh(t,e):"cartesian3D"===n?sh(t,e):"geo3D"===n?fh(t,e):("mapbox3D"===n||"maptalks3D"===n)&&dh(t,e)}))}))}var gh={getFormattedLabel:function(t,e,n,i,o){n=n||"normal";var a=t.getData(i),s=a.getItemModel(e),u=t.getDataParams(e,i);null!=o&&u.value instanceof Array&&(u.value=u.value[o]);var c,l=s.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==l&&(l=s.get(["label","formatter"])),"function"===typeof l?(u.status=n,c=l(u)):"string"===typeof l&&(c=r["k"].formatTpl(l,u)),c},normalizeToArray:function(t){return t instanceof Array?t:null==t?[]:[t]}},vh=gh;function yh(t,e){var n=[];return r["x"].each(t.dimensions,(function(r){var i=t.getDimensionInfo(r),o=i.otherDims,a=o[e];null!=a&&!1!==a&&(n[a]=i.name)})),n}var _h=function(t,e,n){function i(t){var i=!0,a=[],s=yh(o,"tooltip");function u(t,e){var s=o.getDimensionInfo(e);if(s&&!1!==s.otherDims.tooltip){var u=s.type,c=(i?"- "+(s.tooltipName||s.name)+": ":"")+("ordinal"===u?t+"":"time"===u?n?"":r["k"].formatTime("yyyy/MM/dd hh:mm:ss",t):r["k"].addCommas(t));c&&a.push(r["k"].encodeHTML(c))}}return s.length?r["x"].each(s,(function(t){u(o.get(t,e),t)})):r["x"].each(t,u),(i?"<br/>":"")+a.join(i?"<br/>":", ")}var o=t.getData(),a=t.getRawValue(e),s=r["x"].isArray(a)?i(a):r["k"].encodeHTML(r["k"].addCommas(a)),u=o.getName(e),c=gc(o,e);r["x"].isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var l=r["k"].getTooltipMarker(c),h=t.name;return"\0-"===h&&(h=""),h=h?r["k"].encodeHTML(h)+(n?": ":"<br/>"):"",n?l+h+s:h+l+(u?r["k"].encodeHTML(u)+": "+s:s)},bh=function(t,e,n){n=n||t.getSource();var i=e||r["l"](t.get("coordinateSystem"))||["x","y","z"],o=r["o"].createDimensions(n,{dimensionsDefine:n.dimensionsDefine||t.get("dimensions"),encodeDefine:n.encodeDefine||t.get("encode"),coordDimensions:i.map((function(e){var n=t.getReferringComponents(e+"Axis3D").models[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:e}}))});"cartesian3D"===t.get("coordinateSystem")&&o.forEach((function(e){if(i.indexOf(e.coordDim)>=0){var n=t.getReferringComponents(e.coordDim+"Axis3D").models[0];n&&"category"===n.get("type")&&(e.ordinalMeta=n.getOrdinalMeta())}}));var a=r["o"].dataStack.enableDataStack(t,o,{byIndex:!0,stackedCoordDimension:"z"}),s=new r["e"](o,t);return s.setCalculationInfo(a),s.initData(n),s},xh=r["g"].extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(t,e){return bh(this)},getFormattedLabel:function(t,e,n,r){var i=vh.getFormattedLabel(this,t,e,n,r);return null==i&&(i=this.getData().get("z",t)),i},formatTooltip:function(t){return _h(this,t)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});r["x"].merge(xh.prototype,Su);var wh=xh,Th=$o.vec3,Sh=$o.mat3,Oh=pn.extend((function(){return{attributes:{position:new pn.Attribute("position","float",3,"POSITION"),normal:new pn.Attribute("normal","float",3,"NORMAL"),color:new pn.Attribute("color","float",4,"COLOR"),prevPosition:new pn.Attribute("prevPosition","float",3),prevNormal:new pn.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,n=this.getBarVertexCount()*t,r=this.getBarTriangleCount()*t;this.vertexCount!==n&&(this.attributes.position.init(n),e?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return 4*(t+1)*(t+1)*2},_getBevelBarTriangleCount:function(t){var e=4*t+3,n=2*t+1;return(e+1)*n*2+4},setColor:function(t,e){for(var n=this.getBarVertexCount(),r=n*t,i=n*(t+1),o=r;o<i;o++)this.attributes.color.set(o,e);this.dirtyAttribute("color")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=Th.create,e=Th.scaleAndAdd,n=t(),r=t(),i=t(),o=t(),a=t(),s=t(),u=t(),c=[],l=[],h=0;h<8;h++)c[h]=t();var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],d=[0,1,2,0,2,3],p=[];for(h=0;h<f.length;h++)for(var m=f[h],g=0;g<2;g++){for(var v=[],y=0;y<3;y++)v.push(m[d[3*g+y]]);p.push(v)}return function(t,h,m,g,v,y){var _=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(t,h,m,g,this.bevelSize,this.bevelSegments,v);else{Th.copy(i,h),Th.normalize(i,i),Th.cross(o,m,i),Th.normalize(o,o),Th.cross(r,i,o),Th.normalize(o,o),Th.negate(a,r),Th.negate(s,i),Th.negate(u,o),e(c[0],t,r,g[0]/2),e(c[0],c[0],o,g[2]/2),e(c[1],t,r,g[0]/2),e(c[1],c[1],u,g[2]/2),e(c[2],t,a,g[0]/2),e(c[2],c[2],u,g[2]/2),e(c[3],t,a,g[0]/2),e(c[3],c[3],o,g[2]/2),e(n,t,i,g[1]),e(c[4],n,r,g[0]/2),e(c[4],c[4],o,g[2]/2),e(c[5],n,r,g[0]/2),e(c[5],c[5],u,g[2]/2),e(c[6],n,a,g[0]/2),e(c[6],c[6],u,g[2]/2),e(c[7],n,a,g[0]/2),e(c[7],c[7],o,g[2]/2);var b=this.attributes;if(this.enableNormal){l[0]=r,l[1]=a,l[2]=i,l[3]=s,l[4]=o,l[5]=u;for(var x=this._vertexOffset,w=0;w<f.length;w++){for(var T=3*this._triangleOffset,S=0;S<6;S++)this.indices[T++]=x+d[S];x+=4,this._triangleOffset+=2}for(w=0;w<f.length;w++){var O=l[w];for(S=0;S<4;S++){var M=f[w][S];b.position.set(this._vertexOffset,c[M]),b.normal.set(this._vertexOffset,O),b.color.set(this._vertexOffset++,v)}}}else{for(w=0;w<p.length;w++){for(T=3*this._triangleOffset,S=0;S<3;S++)this.indices[T+S]=p[w][S]+this._vertexOffset;this._triangleOffset++}for(w=0;w<c.length;w++)b.position.set(this._vertexOffset,c[w]),b.color.set(this._vertexOffset++,v)}}var E=this._vertexOffset;for(w=_;w<E;w++)this._dataIndices[w]=y}}(),_addBevelBar:function(){var t=Th.create(),e=Th.create(),n=Th.create(),r=Sh.create(),i=[],o=[1,-1,-1,1],a=[1,1,-1,-1],s=[2,0];return function(u,c,l,h,f,d,p){Th.copy(e,c),Th.normalize(e,e),Th.cross(n,l,e),Th.normalize(n,n),Th.cross(t,e,n),Th.normalize(n,n),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=e[0],r[4]=e[1],r[5]=e[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],f=Math.min(h[0],h[2])/2*f;for(var m=0;m<3;m++)i[m]=Math.max(h[m]-2*f,0);var g=(h[0]-i[0])/2,v=(h[1]-i[1])/2,y=(h[2]-i[2])/2,_=[],b=[],x=this._vertexOffset,w=[];for(m=0;m<2;m++){w[m]=w[m]=[];for(var T=0;T<=d;T++)for(var S=0;S<4;S++){(0===T&&0===m||1===m&&T===d)&&w[m].push(x);for(var O=0;O<=d;O++){var M=O/d*Math.PI/2+Math.PI/2*S,E=T/d*Math.PI/2+Math.PI/2*m;b[0]=g*Math.cos(M)*Math.sin(E),b[1]=v*Math.cos(E),b[2]=y*Math.sin(M)*Math.sin(E),_[0]=b[0]+o[S]*i[0]/2,_[1]=b[1]+v+s[m]*i[1]/2,_[2]=b[2]+a[S]*i[2]/2,Math.abs(g-v)<1e-6&&Math.abs(v-y)<1e-6||(b[0]/=g*g,b[1]/=v*v,b[2]/=y*y),Th.normalize(b,b),Th.transformMat3(_,_,r),Th.transformMat3(b,b,r),Th.add(_,_,u),this.attributes.position.set(x,_),this.enableNormal&&this.attributes.normal.set(x,b),this.attributes.color.set(x,p),x++}}}var A=4*d+3,C=2*d+1,D=A+1;for(S=0;S<C;S++)for(m=0;m<=A;m++){var L=S*D+m+this._vertexOffset,I=S*D+(m+1)%D+this._vertexOffset,P=(S+1)*D+(m+1)%D+this._vertexOffset,R=(S+1)*D+m+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[P,L,I]),this.setTriangleIndices(this._triangleOffset++,[P,R,L])}this.setTriangleIndices(this._triangleOffset++,[w[0][0],w[0][2],w[0][1]]),this.setTriangleIndices(this._triangleOffset++,[w[0][0],w[0][3],w[0][2]]),this.setTriangleIndices(this._triangleOffset++,[w[1][0],w[1][1],w[1][2]]),this.setTriangleIndices(this._triangleOffset++,[w[1][0],w[1][2],w[1][3]]),this._vertexOffset=x}}()});r["x"].defaults(Oh.prototype,Xo),r["x"].defaults(Oh.prototype,dc);var Mh=Oh,Eh=$o.vec3,Ah=r["b"].extend({type:"bar3D",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this._api=e,this._labelsBuilder=new xc(256,256,e);var n=this;this._labelsBuilder.getLabelPosition=function(t,e,r){if(n._data){var i=n._data.getItemLayout(t),o=i[0],a=i[1],s=i[2][1];return Eh.scaleAndAdd([],o,a,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new bo.Mesh({geometry:new Mh,shadowDepthMaterial:new bo.Material({shader:new bo.Shader(bo.Shader.source("ecgl.sm.depth.vertex"),bo.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===t.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=t.coordinateSystem;if(this._doRender(t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[o]("fragment","SRGB_DECODE")}this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){bo.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var n=t.getData(),r=t.get("shading"),i="color"!==r,o=this,a=this._barMesh,s="ecgl."+r;a.material&&a.material.shader.name===s||(a.material=bo.createMaterial(s,["VERTEX_COLOR"])),bo.setMaterialFromModel(r,a.material,t,e),a.geometry.enableNormal=i,a.geometry.resetOffset();var u=t.get("bevelSize"),c=t.get("bevelSmoothness");a.geometry.bevelSegments=c,a.geometry.bevelSize=u;var l=[],h=new Float32Array(4*n.count()),f=0,d=0,p=!1;n.each((function(t){if(n.hasValue(t)){var e=gc(n,t),r=vc(n,t);null==r&&(r=1),bo.parseColor(e,l),l[3]*=r,h[f++]=l[0],h[f++]=l[1],h[f++]=l[2],h[f++]=l[3],l[3]>0&&(d++,l[3]<.99&&(p=!0))}})),a.geometry.setBarCount(d);var m=n.getLayout("orient"),g=this._barIndexOfData=new Int32Array(n.count());d=0;n.each((function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),r=e[0],i=e[1],a=e[2],s=4*t;l[0]=h[s++],l[1]=h[s++],l[2]=h[s++],l[3]=h[s++],l[3]>0&&(o._barMesh.geometry.addBar(r,i,m,a,l,t),g[t]=d++)}else g[t]=-1})),a.geometry.dirty(),a.geometry.updateBoundingBox();var v=a.material;v.transparent=p,v.depthMask=!p,a.geometry.sortTriangles=p,this._initHandler(t,e)},_initHandler:function(t,e){var n=t.getData(),r=this._barMesh,i="cartesian3D"===t.coordinateSystem.type;r.seriesIndex=t.seriesIndex;var o=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var a=r.geometry.getDataIndexOfVertex(t.triangle[0]);a!==o&&(this._downplay(o),this._highlight(a),this._labelsBuilder.updateLabels([a]),i&&e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",a),n.get("y",a),n.get("z",a,!0)]})),o=a,r.dataIndex=a}),this),r.on("mouseout",(function(t){this._downplay(o),this._labelsBuilder.updateLabels(),o=-1,r.dataIndex=-1,i&&e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var i=e.getItemModel(t),o=i.getModel("emphasis.itemStyle"),a=o.get("color"),s=o.get("opacity");if(null==a){var u=gc(e,t);a=r["h"].lift(u,-.4)}null==s&&(s=vc(e,t));var c=bo.parseColor(a);c[3]*=s,this._barMesh.geometry.setColor(n,c),this._api.getZr().refresh()}}},_downplay:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=gc(e,t),i=vc(e,t),o=bo.parseColor(r);o[3]*=i,this._barMesh.geometry.setColor(n,o),this._api.getZr().refresh()}}},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,i,o){var a=e.getData(),s=Ai.queryDataIndex(a,o),u=this;null!=s?r["x"].each(vh.normalizeToArray(s),(function(e){"highlight"===t?this._highlight(e):this._downplay(e)}),this):a.each((function(e){"highlight"===t?u._highlight(e):u._downplay(e)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});function Ch(t){t.registerChartView(Ah),t.registerSeriesModel(wh),mh(t),t.registerProcessor((function(t,e){t.eachSeriesByType("bar3d",(function(t){var e=t.getData();e.filterSelf((function(t){return e.hasValue(t)}))}))}))}Object(r["w"])(Ch);var Dh=r["g"].extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(t,e){return bh(this)},formatTooltip:function(t){return _h(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}}),Lh=Dh,Ih=n("9680"),Ph=$o.vec3;bo.Shader.import(Ta);var Rh=r["b"].extend({type:"line3D",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this._api=e},render:function(t,e,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new bo.Mesh({geometry:new Qo({useNativeLine:!1,sortTriangles:!0}),material:new bo.Material({shader:bo.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=t.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[o]("fragment","SRGB_DECODE")}this._doRender(t,n),this._data=t.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(t)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(t,e){var n=t.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout("points"),o=[],a=new Float32Array(i.length/3*4),s=0,u=!1;n.each((function(t){var e=gc(n,t),r=vc(n,t);null==r&&(r=1),bo.parseColor(e,o),o[3]*=r,a[s++]=o[0],a[s++]=o[1],a[s++]=o[2],a[s++]=o[3],o[3]<.99&&(u=!0)})),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,a,Ai.firstNotNull(t.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var c=r.material;c.transparent=u,c.depthMask=!u;var l=t.getModel("debug.wireframe");l.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",bo.parseColor(l.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",Ai.firstNotNull(l.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(t,e)},_updateAnimation:function(t){bo.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,t)},_initHandler:function(t,e){var n=t.getData(),r=t.coordinateSystem,i=this._line3DMesh,o=-1;i.seriesIndex=t.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",(function(t){var a=r.pointToData(t.point.array),s=n.indicesOfNearest("x",a[0])[0];s!==o&&(e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s)]}),i.dataIndex=s),o=s}),this),i.on("mouseout",(function(t){o=-1,i.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateNDCPosition:function(){var t=new Oe,e=this._camera;Oe.multiply(t,e.projectionMatrix,e.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var o=[],a=0;a<i;a++){var s=3*a,u=2*a;o[0]=r[s],o[1]=r[s+1],o[2]=r[s+2],o[3]=1,Ph.transformMat4(o,o,t.array),n[u]=o[0]/o[3],n[u+1]=o[1]/o[3]}},_pick:function(t,e,n,r,i,o){var a=this._positionNDC,s=this._data.hostModel,u=s.get("lineStyle.width"),c=-1,l=n.viewport.width,h=n.viewport.height,f=.5*l,d=.5*h;t=(t+1)*f,e=(e+1)*d;for(var p=1;p<a.length/2;p++){var m=(a[2*(p-1)]+1)*f,g=(a[2*(p-1)+1]+1)*d,v=(a[2*p]+1)*f,y=(a[2*p+1]+1)*d;if(Ih["a"](m,g,v,y,u,t,e)){var _=(m-t)*(m-t)+(g-e)*(g-e),b=(v-t)*(v-t)+(y-e)*(y-e);c=_<b?p-1:p}}if(c>=0){var x=3*c,w=new fe(this._points[x],this._points[x+1],this._points[x+2]);o.push({dataIndex:c,point:w,pointWorld:w.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(w)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function Nh(t){t.registerChartView(Rh),t.registerSeriesModel(Lh),t.registerLayout((function(t,e){t.eachSeriesByType("line3D",(function(t){var e=t.getData(),n=t.coordinateSystem;if(n){if("cartesian3D"!==n.type)return void 0;var r=new Float32Array(3*e.count()),i=[],o=[],a=n.dimensions,s=a.map((function(e){return t.coordDimToDataDim(e)[0]}));n&&e.each(s,(function(t,e,a,s){i[0]=t,i[1]=e,i[2]=a,n.dataToPoint(i,o),r[3*s]=o[0],r[3*s+1]=o[1],r[3*s+2]=o[2]})),e.setLayout("points",r)}}))}))}Object(r["w"])(Nh);var kh=r["g"].extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(t,e){return bh(this)},getFormattedLabel:function(t,e,n,r){var i=vh.getFormattedLabel(this,t,e,n,r);if(null==i){var o=this.getData(),a=o.dimensions[o.dimensions.length-1];i=o.get(a,t)}return i},formatTooltip:function(t){return _h(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function jh(t,e,n){e=e||document.createElement("canvas");e.width=t,e.height=t;var r=e.getContext("2d");return n&&n(r),e}function Fh(t,e,n,i){r["x"].isArray(e)||(e=[e,e]);var o=zh.getMarginByStyle(n,i),a=e[0]+o.left+o.right,s=e[1]+o.top+o.bottom,u=r["o"].createSymbol(t,0,0,e[0],e[1]),c=Math.max(a,s);u.x=o.left,u.y=o.top,a>s?u.y+=(c-s)/2:u.x+=(c-a)/2;var l=u.getBoundingRect();return u.x-=l.x,u.y-=l.y,u.setStyle(n),u.update(),u.__size=c,u}function Bh(t,e,n){var r=e.width,i=e.height,o=t.canvas.width,a=t.canvas.height,s=r/o,u=i/a;function c(t){return t<128?1:-1}function l(t,o){var a=1/0;t=Math.floor(t*s),o=Math.floor(o*u);for(var l=o*r+t,h=e.data[4*l],f=c(h),d=Math.max(o-n,0);d<Math.min(o+n,i);d++)for(var p=Math.max(t-n,0);p<Math.min(t+n,r);p++){l=d*r+p;var m=e.data[4*l],g=c(m),v=p-t,y=d-o;if(f!==g){var _=v*v+y*y;_<a&&(a=_)}}return f*Math.sqrt(a)}for(var h=t.createImageData(o,a),f=0;f<a;f++)for(var d=0;d<o;d++){var p=l(d,f),m=p/n*.5+.5,g=4*(f*o+d);h.data[g++]=255*(1-m),h.data[g++]=255*(1-m),h.data[g++]=255*(1-m),h.data[g++]=255}return h}var zh={getMarginByStyle:function(t){var e=t.minMargin||0,n=0;t.stroke&&"none"!==t.stroke&&(n=null==t.lineWidth?1:t.lineWidth);var r=t.shadowBlur||0,i=t.shadowOffsetX||0,o=t.shadowOffsetY||0,a={};return a.left=Math.max(n/2,-i+r,e),a.right=Math.max(n/2,i+r,e),a.top=Math.max(n/2,-o+r,e),a.bottom=Math.max(n/2,o+r,e),a},createSymbolSprite:function(t,e,n,i){var o=Fh(t,e,n),a=zh.getMarginByStyle(n);return{image:jh(o.__size,i,(function(t){r["p"](t,o)})),margin:a}},createSDFFromCanvas:function(t,e,n,r){return jh(e,r,(function(e){var r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height);e.putImageData(Bh(e,i,n),0,0)}))},createSimpleSprite:function(t,e){return jh(t,e,(function(e){var n=t/2;e.beginPath(),e.arc(n,n,60,0,2*Math.PI,!1),e.closePath();var r=e.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=r,e.fill()}))}},Uh=zh,Hh=$o.vec3,Gh={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(t,e){var n=this.indices,r=Hh.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<n.length;i++)n[i]=i}if(0===e){var o,a=this.attributes.position,s=(t=t.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){a.get(i,r);var u=Hh.sqrDist(r,t);isNaN(u)&&(u=1e7,s++),0===i?(o=u,u=0):u-=o,this._zList[i]=u}this._noneCount=s}if(this.vertexCount<2e4)0===e&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*e+i);this.dirtyIndices()},_simpleSort:function(t){var e=this._zList,n=this.indices;function r(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,r):uc.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._zList,n=this.indices;this._quickSort=this._quickSort||new uc,this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}},Vh="@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end",Wh=$o.vec4;bo.Shader.import(Vh);var qh=bo.Mesh.extend((function(){var t=new bo.Geometry({dynamic:!0,attributes:{color:new bo.Geometry.Attribute("color","float",4,"COLOR"),position:new bo.Geometry.Attribute("position","float",3,"POSITION"),size:new bo.Geometry.Attribute("size","float",1),prevPosition:new bo.Geometry.Attribute("prevPosition","float",3),prevSize:new bo.Geometry.Attribute("prevSize","float",1)}});Object.assign(t,Gh);var e=new bo.Material({shader:bo.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});e.enableTexture("sprite"),e.define("both","VERTEX_COLOR"),e.define("both","VERTEX_SIZE");var n=new bo.Texture2D({image:document.createElement("canvas"),flipY:!1});return e.set("sprite",n),t.pick=this._pick.bind(this),{geometry:t,material:e,mode:bo.Mesh.POINTS,sizeScale:1}}),{_pick:function(t,e,n,r,i,o){var a=this._positionNDC;if(a)for(var s=n.viewport,u=2/s.width,c=2/s.height,l=this.geometry.vertexCount-1;l>=0;l--){var h;h=this.geometry.indices?this.geometry.indices[l]:l;var f=a[2*h],d=a[2*h+1],p=this.geometry.attributes.size.get(h)/this.sizeScale,m=p/2;if(t>f-m*u&&t<f+m*u&&e>d-m*c&&e<d+m*c){var g=new bo.Vector3,v=new bo.Vector3;this.geometry.attributes.position.get(h,g.array),bo.Vector3.transformMat4(v,g,this.worldTransform),o.push({vertexIndex:h,point:g,pointWorld:v,target:this,distance:v.distance(r.getWorldPosition())})}}},updateNDCPosition:function(t,e,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var o=Wh.create(),a=0;a<i.vertexCount;a++)i.attributes.position.get(a,o),o[3]=1,Wh.transformMat4(o,o,t.array),Wh.scale(o,o,1/o[3]),r[2*a]=o[0],r[2*a+1]=o[1]}}),Xh=qh,Yh=20,$h=-10;function Zh(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function Kh(t,e){this.rootNode=new bo.Node,this.is2D=t,this._labelsBuilder=new xc(256,256,e),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=e,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}Kh.prototype={constructor:Kh,highlightOnMouseover:!0,update:function(t,e,n,r,i){var o=this._prevMesh;this._prevMesh=this._mesh,this._mesh=o;var a=t.getData();if(null==r&&(r=0),null==i&&(i=a.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new Xh({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}s=this._mesh.material;var u=this._mesh.geometry,c=u.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var l=this._getSymbolInfo(t,r,i),h=n.getDevicePixelRatio(),f=t.getModel("itemStyle").getItemStyle(),d=t.get("large"),p=1;l.maxSize>2?(p=this._updateSymbolSprite(t,f,l,h),s.enableTexture("sprite")):s.disableTexture("sprite"),c.position.init(i-r);var m=[];if(d){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var g=pc(a),v=mc(a);bo.parseColor(g,m),m[3]*=v,s.set({color:m,u_Size:l.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),c.size.init(i-r),c.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var y=a.getLayout("points"),_=c.position.value,b=0;b<i-r;b++){var x=3*b,w=2*b;if(this.is2D?(_[x]=y[w],_[x+1]=y[w+1],_[x+2]=$h):(_[x]=y[x],_[x+1]=y[x+1],_[x+2]=y[x+2]),!d){g=gc(a,b),v=vc(a,b);bo.parseColor(g,m),m[3]*=v,c.color.set(b,m),m[3]<.99&&!0;var T=a.getItemVisual(b,"symbolSize");T=T instanceof Array?Math.max(T[0],T[1]):T,isNaN(T)&&(T=0),c.size.value[b]=T*p*this._sizeScale,this._originalOpacity[b]=m[3]}}this._mesh.sizeScale=p,u.updateBoundingBox(),u.dirty(),this._updateMaterial(t,f);var S=t.coordinateSystem;if(S&&S.viewGL){var O=S.viewGL.isLinearSpace()?"define":"undefine";s[O]("fragment","SRGB_DECODE")}d||this._updateLabelBuilder(t,r,i),this._updateHandler(t,e,n),this._updateAnimation(t),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(t){this._labelsBuilder.updateLabels(t)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(t,e,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i=[];return n.aspect>1?(i[0]=n.maxSize,i[1]=n.maxSize/n.aspect):(i[1]=n.maxSize,i[0]=n.maxSize*n.aspect),i[0]=i[0]||1,i[1]=i[1]||1,this._symbolType===n.type&&Zh(this._symbolSize,i)&&this._lineWidth===e.lineWidth||(Uh.createSymbolSprite(n.type,i,{fill:"#fff",lineWidth:e.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),Uh.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),Yh,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=i,this._lineWidth=e.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(t,e){var n="lighter"===t.get("blendMode")?bo.additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",e.lineWidth/Yh);var i=bo.parseColor(e.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(t,e,n){var r=t.getData(),i=this._mesh.geometry,o=i.attributes.position.value,a=(e=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,e,n),this._labelsBuilder.getLabelPosition=function(t,n,r){var i=3*(t-e);return[o[i],o[i+1],o[i+2]]},this._labelsBuilder.getLabelDistance=function(t,n,r){var o=i.attributes.size.get(t-e)/a;return o/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(t){bo.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,t)},_updateHandler:function(t,e,n){var r,i=t.getData(),o=this._mesh,a=this,s=-1,u=t.coordinateSystem&&"cartesian3D"===t.coordinateSystem.type;u&&(r=t.coordinateSystem.model),o.seriesIndex=t.seriesIndex,o.off("mousemove"),o.off("mouseout"),o.on("mousemove",(function(e){var c=e.vertexIndex+a._startDataIndex;c!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,c),this._labelsBuilder.updateLabels([c])),u&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(t.coordDimToDataDim("x")[0],c),i.get(t.coordDimToDataDim("y")[0],c),i.get(t.coordDimToDataDim("z")[0],c)],grid3DIndex:r.componentIndex})),o.dataIndex=c,s=c}),this),o.on("mouseout",(function(t){var e=t.vertexIndex+a._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,e),this._labelsBuilder.updateLabels()),s=-1,o.dataIndex=-1,u&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:r.componentIndex})}),this)},updateLayout:function(t,e,n){var r=t.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,o=r.getLayout("points");if(this.is2D)for(var a=0;a<o.length/2;a++){var s=3*a,u=2*a;i[s]=o[u],i[s+1]=o[u+1],i[s+2]=$h}else for(a=0;a<o.length;a++)i[a]=o[a];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(t){if(this._mesh){var e=new Oe;Oe.mul(e,t.viewMatrix,this._mesh.worldTransform),Oe.mul(e,t.projectionMatrix,e),this._mesh.updateNDCPosition(e,this.is2D,this._api)}},highlight:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemModel(e),i=n.getModel("emphasis.itemStyle"),o=i.get("color"),a=i.get("opacity");if(null==o){var s=gc(t,e);o=r["h"].lift(s,-.4)}null==a&&(a=vc(t,e));var u=bo.parseColor(o);u[3]*=a,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,u),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=gc(t,e),r=vc(t,e),i=bo.parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(t){if(this._originalOpacity){for(var e=this._mesh.geometry,n=0;n<e.vertexCount;n++){var r=this._originalOpacity[n]*t;e.attributes.color.value[4*n+3]=r}e.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(t){this._mesh&&this._setPositionTextureToMesh(this._mesh,t),this._positionTexture=t},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(t){if(t!==this._sizeScale){if(this._mesh){var e=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",e/this._sizeScale*t);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*t}this._sizeScale=t}},_setPositionTextureToMesh:function(t,e){e&&t.material.set("positionTexture",e),t.material[e?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(t,e,n){if(t.get("large")){var r=Ai.firstNotNull(t.get("symbolSize"),1);return r instanceof Array?(s=Math.max(r[0],r[1]),i=r[0]/r[1]):(s=r,i=1),{maxSize:r,type:t.get("symbol"),aspect:i}}for(var i,o=t.getData(),a=o.getItemVisual(0,"symbol")||"circle",s=0,u=e;u<n;u++){r=o.getItemVisual(u,"symbolSize");var c,l=o.getItemVisual(u,"symbol");if(r instanceof Array)c=r[0]/r[1],s=Math.max(Math.max(r[0],r[1]),s);else{if(isNaN(r))continue;c=1,s=Math.max(r,s)}0,a=l,i=c}return{maxSize:s,type:a,aspect:i}}};var Jh=Kh,Qh=r["b"].extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(t,e,n){if(this.groupGL.removeAll(),t.getData().count()){var r=t.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new Jh(!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(t,e,n),i.updateView(r.viewGL.camera)}else 0}},incrementalPrepareRender:function(t,e,n){var r=t.coordinateSystem;r&&r.viewGL&&(r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new Jh(!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(e,n,r,t.start,t.end),i.updateView(e.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(t){t.updateView(this._camera)}),this)},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,i,o){var a=e.getData(),s=Ai.queryDataIndex(a,o),u="highlight"===t;null!=s?r["x"].each(vh.normalizeToArray(s),(function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];u?n.highlight(a,t):n.downplay(a,t)}}),this):a.each((function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];u?n.highlight(a,t):n.downplay(a,t)}}))},dispose:function(){this._pointsBuilderList.forEach((function(t){t.dispose()})),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function tf(t){t.registerChartView(Qh),t.registerSeriesModel(kh),t.registerLayout({seriesType:"scatter3D",reset:function(t){var e=t.coordinateSystem;if(e){var n=e.dimensions;if(n.length<3)return void 0;var r=n.map((function(e){return t.coordDimToDataDim(e)[0]})),i=[],o=[];return{progress:function(t,n){for(var a=new Float32Array(3*(t.end-t.start)),s=t.start;s<t.end;s++){var u=3*(s-t.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),e.dataToPoint(i,o),a[u]=o[0],a[u+1]=o[1],a[u+2]=o[2]}n.setLayout("points",a)}}}}})}Object(r["w"])(tf);var ef=$o.vec3,nf=$o.vec2,rf=ef.normalize,of=ef.cross,af=ef.sub,sf=ef.add,uf=ef.create,cf=uf(),lf=uf(),hf=uf(),ff=uf(),df=[],pf=[];function mf(t,e){nf.copy(df,t[0]),nf.copy(pf,t[1]);var n=[],r=n[0]=uf(),i=n[1]=uf(),o=n[2]=uf(),a=n[3]=uf();e.dataToPoint(df,r),e.dataToPoint(pf,a),rf(cf,r),af(lf,a,r),rf(lf,lf),of(hf,lf,cf),rf(hf,hf),of(lf,cf,hf),sf(i,cf,lf),rf(i,i),rf(cf,a),af(lf,r,a),rf(lf,lf),of(hf,lf,cf),rf(hf,hf),of(lf,cf,hf),sf(o,cf,lf),rf(o,o),sf(ff,r,a),rf(ff,ff);var s=ef.dot(r,ff),u=ef.dot(ff,i),c=(Math.max(ef.len(r),ef.len(a))-s)/u*2;return ef.scaleAndAdd(i,r,i,c),ef.scaleAndAdd(o,a,o,c),n}function gf(t,e,n){var r=[],i=r[0]=ef.create(),o=r[1]=ef.create(),a=r[2]=ef.create(),s=r[3]=ef.create();e.dataToPoint(t[0],i),e.dataToPoint(t[1],s);var u=ef.dist(i,s);return ef.lerp(o,i,s,.3),ef.lerp(a,i,s,.3),ef.scaleAndAdd(o,o,n,Math.min(.1*u,10)),ef.scaleAndAdd(a,a,n,Math.min(.1*u,10)),r}function vf(t,e){for(var n=new Float32Array(3*t.length),r=0,i=[],o=0;o<t.length;o++)e.dataToPoint(t[o],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function yf(t){var e=[];return t.each((function(n){var r=t.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);e.push(i)})),{coordsList:e}}function _f(t,e){var n=t.getData(),r=t.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var i=yf(n);n.each((function(t){var o=i.coordsList[t],a=r?vf:mf;n.setItemLayout(t,a(o,e))}))}function bf(t,e,n){var r=t.getData(),i=t.get("polyline"),o=yf(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each((function(t){var a=o.coordsList[t],s=i?vf(a,e):gf(a,e,n);r.setItemLayout(t,s)}))}function xf(t,e){t.eachSeriesByType("lines3D",(function(t){var e=t.coordinateSystem;"globe"===e.type?_f(t,e):"geo3D"===e.type?bf(t,e,[0,1,0]):"mapbox3D"!==e.type&&"maptalks3D"!==e.type||bf(t,e,[0,0,1])}))}var wf=r["g"].extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(t,e){var n=new r["e"](["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0})),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),Tf="@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end",Sf=$o.vec3;function Of(t){return t>0?1:-1}bo.Shader.import(Tf);var Mf=bo.Mesh.extend((function(){var t=new bo.Material({shader:new bo.Shader(bo.Shader.source("ecgl.trail2.vertex"),bo.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),e=new Qo({dynamic:!0});return e.createAttribute("dist","float",1),e.createAttribute("distAll","float",1),e.createAttribute("start","float",1),{geometry:e,material:t,culling:!1,$ignorePicking:!0}}),{updateData:function(t,e,n){var r=t.hostModel,i=this.geometry,o=r.getModel("effect"),a=o.get("trailWidth")*e.getDevicePixelRatio(),s=o.get("trailLength"),u=r.get("effect.constantSpeed"),c=1e3*r.get("effect.period"),l=null!=u;l?this.material.set("speed",u/1e3):this.material.set("period",c),this.material[l?"define":"undefine"]("vertex","CONSTANT_SPEED");var h=r.get("polyline");i.trailLength=s,this.material.set("trailLength",s),i.resetOffset(),["position","positionPrev","positionNext"].forEach((function(t){i.attributes[t].value=n.attributes[t].value}));var f=["dist","distAll","start","offset","color"];f.forEach((function(t){i.attributes[t].init(i.vertexCount)})),i.indices=n.indices;var d=[],p=o.get("trailColor"),m=o.get("trailOpacity"),g=null!=p,v=null!=m;this.updateWorldTransform();var y=this.worldTransform.x.len(),_=this.worldTransform.y.len(),b=this.worldTransform.z.len(),x=0,w=0;t.each((function(e){var r=t.getItemLayout(e),o=v?m:vc(t,e),s=gc(t,e);null==o&&(o=1),d=bo.parseColor(g?p:s,d),d[3]*=o;for(var u=h?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),f=0,T=[],S=[],O=x;O<x+u;O++)i.attributes.position.get(O,T),T[0]*=y,T[1]*=_,T[2]*=b,O>x&&(f+=Sf.dist(T,S)),i.attributes.dist.set(O,f),Sf.copy(S,T);w=Math.max(w,f);var M=Math.random()*(l?f:c);for(O=x;O<x+u;O++)i.attributes.distAll.set(O,f),i.attributes.start.set(O,M),i.attributes.offset.set(O,Of(n.attributes.offset.get(O))*a/2),i.attributes.color.set(O,d);x+=u})),this.material.set("spotSize",.1*w*s),this.material.set("spotIntensity",o.get("spotIntensity")),i.dirty()},setAnimationTime:function(t){this.material.set("time",t)}});function Ef(t){return null!=t.radius?t.radius:null!=t.size?Math.max(t.size[0],t.size[1],t.size[2]):100}bo.Shader.import(Ta);var Af=r["b"].extend({type:"lines3D",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this._meshLinesMaterial=new bo.Material({shader:bo.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new bo.Mesh({geometry:new Qo,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new Mf},render:function(t,e,n){this.groupGL.add(this._linesMesh);var r=t.coordinateSystem,i=t.getData();if(r&&r.viewGL){var o=r.viewGL;o.add(this.groupGL),this._updateLines(t,e,n);var a=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[a]("fragment","SRGB_DECODE"),this._trailMesh.material[a]("fragment","SRGB_DECODE")}var s=this._trailMesh;if(s.stopAnimation(),t.get("effect.show")){this.groupGL.add(s),s.updateData(i,n,this._linesMesh.geometry),s.__time=s.__time||0;var u=36e5;this._curveEffectsAnimator=s.animate("",{loop:!0}).when(u,{__time:u}).during((function(){s.setAnimationTime(s.__time)})).start()}else this.groupGL.remove(s),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===t.get("blendMode")?bo.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var t=this._curveEffectsAnimator;t&&(t.isPaused()?t.resume():t.pause())},_updateLines:function(t,e,n){var r=t.getData(),i=t.coordinateSystem,o=this._linesMesh.geometry,a=t.get("polyline");o.expandLine=!0;var s=Ef(i);o.segmentScale=s/20;var u="lineStyle.width".split("."),c=n.getDevicePixelRatio(),l=0;r.each((function(t){var e=r.getItemModel(t),n=e.get(u);null==n&&(n=1),r.setItemVisual(t,"lineWidth",n),l=Math.max(n,l)})),o.useNativeLine=!1;var h=0,f=0;r.each((function(t){var e=r.getItemLayout(t);a?(h+=o.getPolylineVertexCount(e),f+=o.getPolylineTriangleCount(e)):(h+=o.getCubicCurveVertexCount(e[0],e[1],e[2],e[3]),f+=o.getCubicCurveTriangleCount(e[0],e[1],e[2],e[3]))})),o.setVertexCount(h),o.setTriangleCount(f),o.resetOffset();var d=[];r.each((function(t){var e=r.getItemLayout(t),n=gc(r,t),i=vc(r,t),s=r.getItemVisual(t,"lineWidth")*c;null==i&&(i=1),d=bo.parseColor(n,d),d[3]*=i,a?o.addPolyline(e,d,s):o.addCubicCurve(e[0],e[1],e[2],e[3],d,s)})),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function Cf(t){t.registerChartView(Af),t.registerSeriesModel(wf),t.registerLayout(xf),t.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},(function(){})),t.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},(function(){})),t.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},(function(){}))}function Df(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}Object(r["w"])(Cf);var Lf=r["g"].extend({type:"series.polygons3D",getRegionModel:function(t){return this.getData().getItemModel(t)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getItemModel(t),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var i=[],o=0;o<r.length;o++){for(var a=[],s=1;s<r[o].length;s++)a.push(Df(e,r[o][s]));i.push({exterior:Df(e,r[o][0]),interiors:a})}return i},getInitialData:function(t){var e=new r["e"](["value"],this);return e.hasItemOption=!1,e.initData(t.data,[],(function(t,n,r,i){if(t instanceof Array)return NaN;e.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0})),e},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});r["x"].merge(Lf.prototype,Su);var If=Lf,Pf=r["b"].extend({type:"polygons3D",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||(i=new Sc(n),i.extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(t,e,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(t,e,n,r){var i=this._geo3DBuilderList[this._currentStep],o=e.coordinateSystem;i||(i=new Sc(r),i.extrudeY="mapbox3D"!==o.type&&"maptalks3D"!==o.type,this._geo3DBuilderList[this._currentStep]=i),i.update(e,n,r,t.start,t.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(o,i),this._currentStep++},_updateShaderDefines:function(t,e){var n=t.viewGL.isLinearSpace()?"define":"undefine";e.rootNode.traverse((function(e){e.material&&(e.material[n]("fragment","SRGB_DECODE"),"mapbox3D"!==t.type&&"maptalks3D"!==t.type||(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach((function(t){t.dispose()}))}});function Rf(t){t.registerChartView(Pf),t.registerSeriesModel(If)}Object(r["w"])(Rf);var Nf=r["g"].extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(t){return _h(this,t)},getInitialData:function(t,e){var n=t.data;function i(t){return!(isNaN(t.min)||isNaN(t.max)||isNaN(t.step))}function o(t){var e=r["q"].getPrecisionSafe;return Math.max(e(t.min),e(t.max),e(t.step))+1}if(!n)if(t.parametric){var a=t.parametricEquation||{},s=a.u||{},u=a.v||{};["u","v"].forEach((function(t){i(a[t])})),["x","y","z"].forEach((function(t){a[t]}));var c=Math.floor((s.max+s.step-s.min)/s.step),l=Math.floor((u.max+u.step-u.min)/u.step);n=new Float32Array(c*l*5);var h=o(s),f=o(u);for(S=0,O=0;O<l;O++)for(M=0;M<c;M++){var d=M*s.step+s.min,p=O*u.step+u.min,m=r["q"].round(Math.min(d,s.max),h),g=r["q"].round(Math.min(p,u.max),f);E=a.x(m,g),A=a.y(m,g),L=a.z(m,g);n[S++]=E,n[S++]=A,n[S++]=L,n[S++]=m,n[S++]=g}}else{var v=t.equation||{},y=v.x||{},_=v.y||{};if(["x","y"].forEach((function(t){i(v[t])})),"function"!==typeof v.z)return void 0;var b=Math.floor((y.max+y.step-y.min)/y.step),x=Math.floor((_.max+_.step-_.min)/_.step);n=new Float32Array(b*x*3);for(var w=o(y),T=o(_),S=0,O=0;O<x;O++)for(var M=0;M<b;M++){var E=M*y.step+y.min,A=O*_.step+_.min,C=r["q"].round(Math.min(E,y.max),w),D=r["q"].round(Math.min(A,_.max),T),L=v.z(C,D);n[S++]=C,n[S++]=D,n[S++]=L}}var I=["x","y","z"];t.parametric&&I.push("u","v");var P=bh(this,I,n);return P},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});r["x"].merge(Nf.prototype,Su);var kf=Nf,jf=$o.vec3;function Ff(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])}var Bf=r["b"].extend({type:"surface",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node},render:function(t,e,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=t.coordinateSystem,o=t.get("shading"),a=t.getData(),s="ecgl."+o;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===s||(this._surfaceMesh.material=bo.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),bo.setMaterialFromModel(o,this._surfaceMesh.material,t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var u=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[u]("fragment","SRGB_DECODE")}var c=t.get("parametric"),l=t.get("dataShape");l||(l=this._getDataShape(a,c));var h=t.getModel("wireframe"),f=h.get("lineStyle.width"),d=h.get("show")&&f>0;this._updateSurfaceMesh(this._surfaceMesh,t,l,d);var p=this._surfaceMesh.material;d?(p.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",f),p.set("wireframeLineColor",bo.parseColor(h.get("lineStyle.color")))):p.undefine("WIREFRAME_QUAD"),this._initHandler(t,n),this._updateAnimation(t)},_updateAnimation:function(t){bo.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,t)},_createSurfaceMesh:function(){var t=new bo.Mesh({geometry:new bo.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new bo.Material({shader:new bo.Shader(bo.Shader.source("ecgl.sm.depth.vertex"),bo.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return t.geometry.createAttribute("barycentric","float",4),t.geometry.createAttribute("prevPosition","float",3),t.geometry.createAttribute("prevNormal","float",3),Object.assign(t.geometry,dc),t},_initHandler:function(t,e){var n=t.getData(),r=this._surfaceMesh,i=t.coordinateSystem;function o(t,e){for(var n=1/0,i=-1,o=[],a=0;a<t.length;a++){r.geometry.attributes.position.get(t[a],o);var s=jf.dist(e.array,o);s<n&&(n=s,i=t[a])}return i}r.seriesIndex=t.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var s=o(t.triangle,t.point);if(s>=0){var u=[];r.geometry.attributes.position.get(s,u);for(var c=i.pointToData(u),l=1/0,h=-1,f=[],d=0;d<n.count();d++){f[0]=n.get("x",d),f[1]=n.get("y",d),f[2]=n.get("z",d);var p=jf.squaredDistance(f,c);p<l&&(h=d,l=p)}h!==a&&e.dispatchAction({type:"grid3DShowAxisPointer",value:c}),a=h,r.dataIndex=h}else r.dataIndex=-1}),this),r.on("mouseout",(function(t){a=-1,r.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateSurfaceMesh:function(t,e,n,r){var i=t.geometry,o=e.getData(),a=o.getLayout("points"),s=0;o.each((function(t){o.hasValue(t)||s++}));var u=s||r,c=i.attributes.position,l=i.attributes.normal,h=i.attributes.texcoord0,f=i.attributes.barycentric,d=i.attributes.color,p=n[0],m=n[1],g=e.get("shading"),v="color"!==g;if(u){var y=(p-1)*(m-1)*4;c.init(y),r&&f.init(y)}else c.value=new Float32Array(a);d.init(i.vertexCount),h.init(i.vertexCount);var _=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],x=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((p-1)*(m-1)*6),w=function(t,e,n){n[1]=t*m+e,n[0]=t*m+e+1,n[3]=(t+1)*m+e+1,n[2]=(t+1)*m+e},T=!1;if(u){var S=[],O=[],M=0;v?l.init(i.vertexCount):l.value=null;for(var E=[[],[],[]],A=[],C=[],D=jf.create(),L=function(t,e,n){var r=3*e;return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n},I=new Float32Array(a.length),P=new Float32Array(a.length/3*4),R=0;R<o.count();R++)if(o.hasValue(R)){var N=bo.parseColor(gc(o,R)),k=vc(o,R);null!=k&&(N[3]*=k),N[3]<.99&&(T=!0);for(var j=0;j<4;j++)P[4*R+j]=N[j]}var F=[1e7,1e7,1e7];for(R=0;R<p-1;R++)for(var B=0;B<m-1;B++){var z=R*(m-1)+B,U=4*z;w(R,B,S);var H=!1;for(j=0;j<4;j++)L(a,S[j],O),Ff(O)&&(H=!0);for(j=0;j<4;j++)H?c.set(U+j,F):(L(a,S[j],O),c.set(U+j,O)),r&&f.set(U+j,b[j]);for(j=0;j<6;j++)x[M++]=_[j]+U;if(v&&!H)for(j=0;j<2;j++){for(var G=3*j,V=0;V<3;V++){var W=S[_[G]+V];L(a,W,E[V])}jf.sub(A,E[0],E[1]),jf.sub(C,E[1],E[2]),jf.cross(D,A,C);for(V=0;V<3;V++){var q=3*S[_[G]+V];I[q]=I[q]+D[0],I[q+1]=I[q+1]+D[1],I[q+2]=I[q+2]+D[2]}}}if(v)for(R=0;R<I.length/3;R++)L(I,R,D),jf.normalize(D,D),I[3*R]=D[0],I[3*R+1]=D[1],I[3*R+2]=D[2];N=[];var X=[];for(R=0;R<p-1;R++)for(B=0;B<m-1;B++){z=R*(m-1)+B,U=4*z;w(R,B,S);for(j=0;j<4;j++){for(V=0;V<4;V++)N[V]=P[4*S[j]+V];d.set(U+j,N),v&&(L(I,S[j],D),l.set(U+j,D));W=S[j];X[0]=W%m/(m-1),X[1]=Math.floor(W/m)/(p-1),h.set(U+j,X)}z++}}else{for(X=[],R=0;R<o.count();R++){X[0]=R%m/(m-1),X[1]=Math.floor(R/m)/(p-1);N=bo.parseColor(gc(o,R)),k=vc(o,R);null!=k&&(N[3]*=k),N[3]<.99&&(T=!0),d.set(R,N),h.set(R,X)}S=[];var Y=0;for(R=0;R<p-1;R++)for(B=0;B<m-1;B++){w(R,B,S);for(j=0;j<6;j++)x[Y++]=S[_[j]]}v?i.generateVertexNormals():l.value=null}t.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),t.material.transparent=T,t.material.depthMask=!T},_getDataShape:function(t,e){for(var n=-1/0,r=0,i=0,o=!1,a=e?"u":"x",s=t.count(),u=0;u<s;u++){var c=t.get(a,u);c<n&&(i,i=0,r++),n=c,i++}if(r&&1!==i||(o=!0),!o)return[r+1,i];var l=Math.floor(Math.sqrt(s));while(l>0){if(Math.floor(s/l)===s/l)return[l,s/l];l--}return l=Math.floor(Math.sqrt(s)),[l,l]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function zf(t){t.registerChartView(Bf),t.registerSeriesModel(kf),t.registerLayout((function(t,e){t.eachSeriesByType("surface",(function(t){var e=t.coordinateSystem;e&&e.type;var n=t.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(e&&"cartesian3D"===e.type){var o=e.dimensions,a=o.map((function(e){return t.coordDimToDataDim(e)[0]}));n.each(a,(function(t,o,a,s){var u;u=n.hasValue(s)?e.dataToPoint([t,o,a]):i,r[3*s]=u[0],r[3*s+1]=u[1],r[3*s+2]=u[2]}))}n.setLayout("points",r)}))}))}function Uf(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}Object(r["w"])(zf);var Hf=r["g"].extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(t){t=t||{};var e=this.get("coordinateSystem");null!=e&&"geo3D"!==e&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(t){t.data=this.getFilledRegions(t.data,t.map);var e=r["o"].createDimensions(t.data,{coordDimensions:["value"]}),n=new r["e"](e,this);n.initData(t.data);var i={};return n.each((function(t){var e=n.getName(t),r=n.getItemModel(t);i[e]=r})),this._regionModelMap=i,n},formatTooltip:function(t){return _h(this,t)},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new r["f"](null,this)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getName(t);if(e.transform){var r=e.getRegion(n);return r?r.geometries:[]}this._geo||(this._geo=jc.createGeo3D(this));r=this._geo.getRegion(n);for(var i=[],o=0;o<r.geometries.length;o++){var a=r.geometries[o],s=[],u=Uf(e,a.exterior);if(s&&s.length)for(var c=0;c<a.interiors.length;c++)s.push(Uf(e,s[c]));i.push({interiors:s,exterior:u})}return i},getFormattedLabel:function(t,e){var n=vh.getFormattedLabel(this,t,e);return null==n&&(n=this.getData().getName(t)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});r["x"].merge(Hf.prototype,Ou),r["x"].merge(Hf.prototype,ko),r["x"].merge(Hf.prototype,jo),r["x"].merge(Hf.prototype,Fo),r["x"].merge(Hf.prototype,Su);var Gf=Hf,Vf=r["b"].extend({type:"map3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new Sc(e),this.groupGL=new bo.Node},render:function(t,e,n){var r=t.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){r,this._sceneHelper||(this._sceneHelper=new ia,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new qo({zr:n.getZr()}),this._control.init());var o=t.getModel("viewControl");i.setViewGL(r.viewGL),i.setFromViewControlModel(o,0),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:t.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),t.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(t,e,n,0,t.getData().count());var a=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(t){t.material&&t.material[a]("fragment","SRGB_DECODE")}))}},afterRender:function(t,e,n,r){var i=r.renderer,o=t.coordinateSystem;o&&"geo3D"===o.type&&(this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});function Wf(t){Fc(t),t.registerChartView(Vf),t.registerSeriesModel(Gf),t.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"series",subType:"map3D",query:t},(function(e){e.setView(t)}))}))}Object(r["w"])(Wf);var qf=r["g"].extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return r["o"].createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}),Xf=n("1687"),Yf=n("401b");function $f(t){this.viewGL=t}$f.prototype.reset=function(t,e){this._updateCamera(e.getWidth(),e.getHeight(),e.getDevicePixelRatio()),this._viewTransform=Xf["c"](),this.updateTransform(t,e)},$f.prototype.updateTransform=function(t,e){var n=t.coordinateSystem;n.getRoamTransform&&(Xf["e"](this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),e.getZr().refresh())},$f.prototype.dataToPoint=function(t,e,n){n=t.dataToPoint(e,null,n);var r=this._viewTransform;r&&Yf["b"](n,n,r)},$f.prototype.removeTransformInPoint=function(t){return this._viewTransform&&Yf["b"](t,t,this._viewTransform),t},$f.prototype.getZoom=function(){if(this._viewTransform){var t=this._viewTransform;return 1/Math.max(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]))}return 1},$f.prototype._setCameraTransform=function(t){var e=this.viewGL.camera;e.position.set(t[4],t[5],0),e.scale.set(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]),1)},$f.prototype._updateCamera=function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=e,r.right=t,r.near=0,r.far=100};var Zf=$f,Kf=r["b"].extend({type:"scatterGL",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this.viewGL=new au("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new Zf(this.viewGL)},render:function(t,e,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(t,n),t.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new Jh(!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),r.update(t,e,n),this.viewGL.setPostEffect(t.getModel("postEffect"),n)}},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new Jh(!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(e,n,r,t.start,t.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(t,e,n){if(t.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(t,n);var r=this._glViewHelper.getZoom(),i=Math.max((t.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach((function(t){t.setSizeScale(i)}))}},_removeTransformInPoints:function(t){if(t)for(var e=[],n=0;n<t.length;n+=2)e[0]=t[n],e[1]=t[n+1],this._glViewHelper.removeTransformInPoint(e),t[n]=e[0],t[n+1]=e[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach((function(t){t.dispose()}))},remove:function(){this.groupGL.removeAll()}});function Jf(t){t.registerChartView(Kf),t.registerSeriesModel(qf),t.registerLayout({seriesType:"scatterGL",reset:function(t){var e,n=t.coordinateSystem,r=t.getData();if(n){var i=n.dimensions.map((function(t){return r.mapDimension(t)})).slice(0,2),o=[];1===i.length?e=function(t){for(var e=new Float32Array(2*(t.end-t.start)),o=t.start;o<t.end;o++){var a=2*(o-t.start),s=r.get(i[0],o),u=n.dataToPoint(s);e[a]=u[0],e[a+1]=u[1]}r.setLayout("points",e)}:2===i.length&&(e=function(t){for(var e=new Float32Array(2*(t.end-t.start)),a=t.start;a<t.end;a++){var s=2*(a-t.start),u=r.get(i[0],a),c=r.get(i[1],a);o[0]=u,o[1]=c,o=n.dataToPoint(o),e[s]=o[0],e[s+1]=o[1]}r.setLayout("points",e)})}return{progress:e}}})}Object(r["w"])(Jf);var Qf=n("7368"),td=n("6a2f"),ed=td["a"],nd=function(t,e,n,i,o){for(var a=new Qf["a"](i),s=0;s<t.length;s++)a.addNode(Ai.firstNotNull(t[s].id,t[s].name,s),s);var u,c=[],l=[],h=0;for(s=0;s<e.length;s++){var f=e[s],d=f.source,p=f.target;a.addEdge(d,p,h)&&(l.push(f),c.push(Ai.firstNotNull(f.id,d+" > "+p)),h++)}var m=r["o"].createDimensions(t,{coordDimensions:["value"]});u=new r["e"](m,n),u.initData(t);var g=new r["e"](["value"],n);return g.initData(l,c),o&&o(u,g),ed({mainData:u,struct:a,structAttr:"graph",datas:{node:u,edge:g},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a},rd=r["g"].extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(t){rd.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){rd.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(t,e,n,r){var i=vh.getFormattedLabel(this,t,e,n,r);if(null==i){var o=this.getData(),a=o.dimensions[o.dimensions.length-1];i=o.get(a,t)}return i},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],i=this;if(r&&n)return nd(r,n,this,!0,o).data;function o(t,n){t.wrapMethod("getItemModel",(function(t){const e=i._categoriesModels,n=t.getShallow("category"),r=e[n];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t}));const r=e.getModel([]).getModel;function o(t,e){const n=r.call(this,t,e);return n.resolveParentPath=a,n}function a(t){if(t&&("label"===t[0]||"label"===t[1])){const e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}n.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=a,t.getModel=o,t}))}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getData(),o=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),s=i.getName(a.node1.dataIndex),u=i.getName(a.node2.dataIndex),c=[];return null!=s&&c.push(s),null!=u&&c.push(u),c=r["k"].encodeHTML(c.join(" > ")),o.value&&(c+=" : "+r["k"].encodeHTML(o.value)),c}return rd.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=(this.option.categories||[]).map((function(t){return null!=t.value?t:Object.assign({value:0},t)})),e=new r["e"](["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t,!0)}))},setView:function(t){null!=t.zoom&&(this.option.zoom=t.zoom),null!=t.offset&&(this.option.offset=t.offset)},setNodePosition:function(t){for(var e=0;e<t.length/2;e++){var n=t[2*e],r=t[2*e+1],i=this.getData().getRawDataItem(e);i.x=n,i.y=r}},isAnimationEnabled:function(){return rd.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}}),id=rd,od=$o.vec2,ad=[[0,0],[1,1]],sd=pn.extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new pn.Attribute("position","float",2,"POSITION"),normal:new pn.Attribute("normal","float",2),offset:new pn.Attribute("offset","float",1),color:new pn.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.offset.init(t),e.normal.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){var i=od.dist(t,e)+od.dist(n,e)+od.dist(r,n),o=1/(i+1)*this.segmentScale;return o},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),o=Math.ceil(1/i);return this.useNativeLine?2*o:2*o+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),o=Math.ceil(1/i);return this.useNativeLine?0:2*o},getLineVertexCount:function(){return this.getPolylineVertexCount(ad)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(ad)},getPolylineVertexCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/2}return this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/2}return this.useNativeLine?0:2*(e-1)},addCubicCurve:function(t,e,n,r,i,o){null==o&&(o=1);var a=t[0],s=t[1],u=e[0],c=e[1],l=n[0],h=n[1],f=r[0],d=r[1],p=this._getCubicCurveApproxStep(t,e,n,r),m=p*p,g=m*p,v=3*p,y=3*m,_=6*m,b=6*g,x=a-2*u+l,w=s-2*c+h,T=3*(u-l)-a+f,S=3*(c-h)-s+d,O=a,M=s,E=(u-a)*v+x*y+T*g,A=(c-s)*v+w*y+S*g,C=x*_+T*b,D=w*_+S*b,L=T*b,I=S*b,P=0,R=0,N=Math.ceil(1/p),k=new Float32Array(3*(N+1)),j=(k=[],0);for(R=0;R<N+1;R++)k[j++]=O,k[j++]=M,O+=E,M+=A,E+=C,A+=D,C+=L,D+=I,P+=p,P>1&&(O=E>0?Math.min(O,f):Math.max(O,f),M=A>0?Math.min(M,d):Math.max(M,d));this.addPolyline(k,i,o)},addLine:function(t,e,n,r){this.addPolyline([t,e],n,r)},addPolyline:function(){var t=od.create(),e=od.create(),n=od.create(),r=od.create(),i=[],o=[],a=[];return function(s,u,c,l,h){if(s.length){var f="number"!==typeof s[0];if(null==h&&(h=f?s.length:s.length/2),!(h<2)){null==l&&(l=0),null==c&&(c=1),this._itemVertexOffsets.push(this._vertexOffset);for(var d,p=f?"number"!==typeof u[0]:u.length/4===h,m=this.attributes.position,g=this.attributes.color,v=this.attributes.offset,y=this.attributes.normal,_=this.indices,b=this._vertexOffset,x=0;x<h;x++){if(f)i=s[x+l],d=p?u[x+l]:u;else{var w=2*x+l;if(i=i||[],i[0]=s[w],i[1]=s[w+1],p){var T=4*x+l;d=d||[],d[0]=u[T],d[1]=u[T+1],d[2]=u[T+2],d[3]=u[T+3]}else d=u}if(this.useNativeLine)x>1&&(m.copy(b,b-1),g.copy(b,b-1),b++);else{var S;if(x<h-1){if(f)od.copy(o,s[x+1]);else{w=2*(x+1)+l;o=o||[],o[0]=s[w],o[1]=s[w+1]}if(x>0){od.sub(t,i,a),od.sub(e,o,i),od.normalize(t,t),od.normalize(e,e),od.add(r,t,e),od.normalize(r,r);var O=c/2*Math.min(1/od.dot(t,r),2);n[0]=-r[1],n[1]=r[0],S=O}else od.sub(t,o,i),od.normalize(t,t),n[0]=-t[1],n[1]=t[0],S=c/2}else od.sub(t,i,a),od.normalize(t,t),n[0]=-t[1],n[1]=t[0],S=c/2;y.set(b,n),y.set(b+1,n),v.set(b,S),v.set(b+1,-S),od.copy(a,i),m.set(b,i),m.set(b+1,i),g.set(b,d),g.set(b+1,d),b+=2}if(this.useNativeLine)g.set(b,d),m.set(b,i),b++;else if(x>0){var M=3*this._faceOffset;_=this.indices;_[M]=b-4,_[M+1]=b-3,_[M+2]=b-2,_[M+3]=b-3,_[M+4]=b-1,_[M+5]=b-2,this._faceOffset+=2}}this._vertexOffset=b}}}}(),setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")}});r["x"].defaults(sd.prototype,Xo);var ud=sd,cd="@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end";bo.Shader.import(cd);var ld={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function hd(t){var e={type:bo.Texture.FLOAT,minFilter:bo.Texture.NEAREST,magFilter:bo.Texture.NEAREST};this._positionSourceTex=new bo.Texture2D(e),this._positionSourceTex.flipY=!1,this._positionTex=new bo.Texture2D(e),this._positionPrevTex=new bo.Texture2D(e),this._forceTex=new bo.Texture2D(e),this._forcePrevTex=new bo.Texture2D(e),this._weightedSumTex=new bo.Texture2D(e),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new bo.Texture2D(e),this._globalSpeedPrevTex=new bo.Texture2D(e),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new hi({fragment:bo.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new hi({fragment:bo.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new hi({fragment:bo.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new hi({fragment:bo.Shader.source("clay.compositor.output")});var n=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE)};this._edgeForceMesh=new bo.Mesh({geometry:new bo.Geometry({attributes:{node1:new bo.Geometry.Attribute("node1","float",2),node2:new bo.Geometry.Attribute("node2","float",2),weight:new bo.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new bo.Material({transparent:!0,shader:bo.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:bo.Mesh.POINTS}),this._weightedSumMesh=new bo.Mesh({geometry:new bo.Geometry({attributes:{node:new bo.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new bo.Material({transparent:!0,shader:bo.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:bo.Mesh.POINTS}),this._framebuffer=new ur({depthBuffer:!1}),this._dummyCamera=new bo.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}hd.prototype.updateOption=function(t){for(var e in ld)this[e]=ld[e];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,t)for(var e in ld)null!=t[e]&&(this[e]=t[e]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},hd.prototype._updateGravityCenter=function(t){var e=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],o=0;o<e.length;o++)r[0]=Math.min(e[o].x,r[0]),r[1]=Math.min(e[o].y,r[1]),i[0]=Math.max(e[o].x,i[0]),i[1]=Math.max(e[o].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(o=0;o<n.length;o++){var a=n[o].node1,s=n[o].node2;e[a].degree=(e[a].degree||0)+1,e[s].degree=(e[s].degree||0)+1}},hd.prototype.initData=function(t,e){this._nodes=t,this._edges=e,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(t.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var o=0,a=0;a<t.length;a++){var s=t[a];i[o++]=s.x||0,i[o++]=s.y||0,i[o++]=s.mass||1,i[o++]=s.size||1}this._positionSourceTex.pixels=i;var u=this._edgeForceMesh.geometry,c=e.length;u.attributes.node1.init(2*c),u.attributes.node2.init(2*c),u.attributes.weight.init(2*c);var l=[];for(a=0;a<e.length;a++){var h=u.attributes,f=e[a].weight;null==f&&(f=1),h.node1.set(a,this.getNodeUV(e[a].node1,l)),h.node2.set(a,this.getNodeUV(e[a].node2,l)),h.weight.set(a,f),h.node1.set(a+c,this.getNodeUV(e[a].node2,l)),h.node2.set(a+c,this.getNodeUV(e[a].node1,l)),h.weight.set(a+c,f)}var d=this._weightedSumMesh.geometry;d.attributes.node.init(t.length);for(a=0;a<t.length;a++)d.attributes.node.set(a,this.getNodeUV(a,l));u.dirty(),d.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",t.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0},hd.prototype.getNodes=function(){return this._nodes},hd.prototype.getEdges=function(){return this._edges},hd.prototype.step=function(t){this._inited||(this._initFromSource(t),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(t);var e=this._nodeRepulsionPass;e.setUniform("strongGravityMode",this.strongGravityMode),e.setUniform("gravity",this.gravity),e.setUniform("gravityCenter",this._gravityCenter),e.setUniform("scaling",this.scaling),e.setUniform("preventOverlap",this.preventOverlap),e.setUniform("positionTex",this._positionPrevTex),e.render(t);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),t.gl.enable(t.gl.BLEND),t.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT),t.gl.enable(t.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),t.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),t.gl.disable(t.gl.BLEND),i.render(t);var o=this._positionPass;this._framebuffer.attach(this._positionTex),o.setUniform("globalSpeedTex",this._globalSpeedTex),o.setUniform("positionTex",this._positionPrevTex),o.setUniform("forceTex",this._forceTex),o.setUniform("forcePrevTex",this._forcePrevTex),o.render(t),this._framebuffer.unbind(t),this._swapTexture()},hd.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1);for(var r=0;r<e;r++)this.step(t);n&&n()},hd.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},hd.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1)||0,e},hd.prototype.getNodePosition=function(t,e){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,o=r*i;n&&n.length===4*o||(n=this._positionArr=new Float32Array(4*o)),this._framebuffer.bind(t),this._framebuffer.attach(this._positionPrevTex),t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,n),this._framebuffer.unbind(t),e||(e=new Float32Array(2*this._nodes.length));for(var a=0;a<this._nodes.length;a++)e[2*a]=n[4*a],e[2*a+1]=n[4*a+1];return e},hd.prototype.getTextureData=function(t,e){var n=this["_"+e+"Tex"],r=n.width,i=n.height;this._framebuffer.bind(t),this._framebuffer.attach(n);var o=new Float32Array(r*i*4);return t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,o),this._framebuffer.unbind(t),o},hd.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},hd.prototype.isFinished=function(t){return this._frame>t},hd.prototype._swapTexture=function(){var t=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=t;t=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=t;t=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=t},hd.prototype._initFromSource=function(t){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(t),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(t),t.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(t)},hd.prototype._resize=function(t,e){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach((function(n){this[n].width=t,this[n].height=e,this[n].dirty()}),this)},hd.prototype.dispose=function(t){this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.dispose(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.dispose(t),this._globalSpeedPrevTex.dispose(t)};var fd=hd;function dd(){var t={create:function(){return new Float32Array(2)},dist:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},len:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},normalize:function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t}};function e(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var n=e.prototype;function r(){this.position=new Float32Array(2),this.force=t.create(),this.forcePrev=t.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(t,e){this.source=t,this.target=e,this.weight=1}function o(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new e,this.rootRegion.centerOfMass=t.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}n.beforeUpdate=function(){for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},n.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].afterUpdate()},n.addNode=function(t){if(0===this.nSubRegions){if(null==this.node)return void(this.node=t);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(t),this._updateCenterOfMass(t)},n.findSubRegion=function(t,e){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(t,e))return r}},n.contain=function(t,e){return this.bbox[0]<=t&&this.bbox[2]>=t&&this.bbox[1]<=e&&this.bbox[3]>=e},n.setBBox=function(t,e,n,r){this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-t+r-e)/2},n._newSubRegion=function(){var t=this.subRegions[this.nSubRegions];return t||(t=new e,this.subRegions[this.nSubRegions]=t),this.nSubRegions++,t},n._addNodeToSubRegion=function(t){var e=this.findSubRegion(t.position[0],t.position[1]),n=this.bbox;if(!e){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,o=(n[2]-n[0])/2,a=(n[3]-n[1])/2,s=t.position[0]>=r?1:0,u=t.position[1]>=i?1:0;e=this._newSubRegion();e.setBBox(s*o+n[0],u*a+n[1],(s+1)*o+n[0],(u+1)*a+n[1])}e.addNode(t)},n._updateCenterOfMass=function(t){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var e=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;e+=t.position[0]*t.mass,n+=t.position[1]*t.mass,this.mass+=t.mass,this.centerOfMass[0]=e/this.mass,this.centerOfMass[1]=n/this.mass};var a=o.prototype;a.initNodes=function(t,e,n){var i=e.length;this.nodes.length=0;for(var o="undefined"!=typeof n,a=0;a<i;a++){var s=new r;s.position[0]=t[2*a],s.position[1]=t[2*a+1],s.mass=e[a],o&&(s.size=n[a]),this.nodes.push(s)}this._massArr=e,this._swingingArr=new Float32Array(i),o&&(this._sizeArr=n)},a.initEdges=function(t,e){var n=t.length/2;this.edges.length=0;for(var r=0;r<n;r++){var o=t[2*r],a=t[2*r+1],s=this.nodes[o],u=this.nodes[a];if(!s||!u)return void console.error("Node not exists, try initNodes before initEdges");s.outDegree++,u.inDegree++;var c=new i(s,u);e&&(c.weight=e[r]),this.edges.push(c)}},a.updateSettings=function(){if(this.repulsionByDegree)for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.mass=e.inDegree+e.outDegree+1}else for(t=0;t<this.nodes.length;t++){e=this.nodes[t];e.mass=this._massArr[t]}},a.update=function(){var e=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var n=0;n<e;n++)this.rootRegion.addNode(this.nodes[n]);this.rootRegion.afterUpdate()}for(n=0;n<e;n++){var r=this.nodes[n];t.copy(r.forcePrev,r.force),t.set(r.force,0,0)}for(n=0;n<e;n++){var i=this.nodes[n];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,i);else for(var o=n+1;o<e;o++){var a=this.nodes[o];this.applyNodeToNodeRepulsion(i,a,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(i):this.applyNodeGravity(i))}for(n=0;n<this.edges.length;n++)this.applyEdgeAttraction(this.edges[n]);var s=0,u=0,c=t.create();for(n=0;n<e;n++){r=this.nodes[n];var l=t.dist(r.force,r.forcePrev);s+=l*r.mass,t.add(c,r.force,r.forcePrev);var h=.5*t.len(c);u+=h*r.mass,this._swingingArr[n]=l}var f=this.jitterTolerence*this.jitterTolerence*u/s;this._globalSpeed>0&&(f=Math.min(f/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=f;for(n=0;n<e;n++){r=this.nodes[n],l=this._swingingArr[n];var d=.1*f/(1+f*Math.sqrt(l)),p=t.len(r.force);p>0&&(d=Math.min(p*d,10)/p,t.scaleAndAdd(r.position,r.position,r.force,d))}},a.applyRegionToNodeRepulsion=function(){var e=t.create();return function(n,r){if(n.node)this.applyNodeToNodeRepulsion(n.node,r,!0);else{t.sub(e,r.position,n.centerOfMass);var i=e[0]*e[0]+e[1]*e[1];if(i>this.barnesHutTheta*n.size*n.size){var o=this.scaling*r.mass*n.mass/i;t.scaleAndAdd(r.force,r.force,e,o)}else for(var a=0;a<n.nSubRegions;a++)this.applyRegionToNodeRepulsion(n.subRegions[a],r)}}}(),a.applyNodeToNodeRepulsion=function(){var e=t.create();return function(n,r,i){if(n!=r){t.sub(e,n.position,r.position);var o=e[0]*e[0]+e[1]*e[1];if(0!==o){var a;if(this.preventOverlap){var s=Math.sqrt(o);if(s=s-n.size-r.size,s>0)a=this.scaling*n.mass*r.mass/(s*s);else{if(!(s<0))return;a=100*this.scaling*n.mass*r.mass}}else a=this.scaling*n.mass*r.mass/o;t.scaleAndAdd(n.force,n.force,e,a),t.scaleAndAdd(r.force,r.force,e,-a)}}}}(),a.applyEdgeAttraction=function(){var e=t.create();return function(n){var r=n.source,i=n.target;t.sub(e,r.position,i.position);var o,a,s=t.len(e);o=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?n.weight:Math.pow(n.weight,this.edgeWeightInfluence),this.preventOverlap&&(s=s-r.size-i.size,s<=0)||(a=this.linLogMode?-o*Math.log(s+1)/(s+1):-o,t.scaleAndAdd(r.force,r.force,e,a),t.scaleAndAdd(i.force,i.force,e,-a))}}(),a.applyNodeGravity=function(){var e=t.create();return function(n){t.sub(e,this.gravityCenter,n.position);var r=t.len(e);t.scaleAndAdd(n.force,n.force,e,this.gravity*n.mass/(r+1))}}(),a.applyNodeStrongGravity=function(){var e=t.create();return function(n){t.sub(e,this.gravityCenter,n.position),t.scaleAndAdd(n.force,n.force,e,this.gravity*n.mass)}}(),a.updateBBox=function(){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var o=this.nodes[i].position;t=Math.min(t,o[0]),e=Math.min(e,o[1]),n=Math.max(n,o[0]),r=Math.max(r,o[1])}this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r},a.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(t){switch(t.data.cmd){case"init":s=new o,s.initNodes(t.data.nodesPosition,t.data.nodesMass,t.data.nodesSize),s.initEdges(t.data.edges,t.data.edgesWeight);break;case"updateConfig":if(s)for(var e in t.data.config)s[e]=t.data.config[e];break;case"update":var n=t.data.steps;if(s){for(var r=0;r<n;r++)s.update();var i=s.nodes.length,a=new Float32Array(2*i);for(r=0;r<i;r++){var u=s.nodes[r];a[2*r]=u.position[0],a[2*r+1]=u.position[1]}self.postMessage({buffer:a.buffer,globalSpeed:s.getGlobalSpeed()},[a.buffer])}else{var c=new Float32Array;self.postMessage({buffer:c.buffer,globalSpeed:s.getGlobalSpeed()},[c.buffer])}break}}}var pd=dd,md=pd.toString();md=md.slice(md.indexOf("{")+1,md.lastIndexOf("}"));var gd={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},vd=function(t){for(var e in gd)this[e]=gd[e];if(t)for(var e in t)this[e]=t[e];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new tn({type:We.FLOAT,flipY:!1,minFilter:We.NEAREST,magFilter:We.NEAREST})};vd.prototype.initData=function(t,e){var n=new Blob([md]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=t,this._edges=e,this._frame=0;for(var i=t.length,o=e.length,a=new Float32Array(2*i),s=new Float32Array(i),u=new Float32Array(i),c=new Float32Array(2*o),l=new Float32Array(o),h=0;h<t.length;h++){var f=t[h];a[2*h]=f.x,a[2*h+1]=f.y,s[h]=null==f.mass?1:f.mass,u[h]=null==f.size?1:f.size}for(h=0;h<e.length;h++){var d=e[h],p=d.node1,m=d.node2;c[2*h]=p,c[2*h+1]=m,l[h]=null==d.weight?1:d.weight}var g=Math.ceil(Math.sqrt(t.length)),v=g,y=new Float32Array(g*v*4),_=this._positionTex;_.width=g,_.height=v,_.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:a,nodesMass:s,nodesSize:u,edges:c,edgesWeight:l}),this._globalSpeed=1/0},vd.prototype.updateOption=function(t){var e={};for(var n in gd)e[n]=gd[n];var r=this._nodes,i=this._edges,o=r.length;if(e.jitterTolerence=o>5e4?10:o>5e3?1:.1,e.scaling=o>100?2:10,e.barnesHutOptimize=o>1e3,t)for(var n in gd)null!=t[n]&&(e[n]=t[n]);if(!e.gravityCenter){for(var a=[1/0,1/0],s=[-1/0,-1/0],u=0;u<r.length;u++)a[0]=Math.min(r[u].x,a[0]),a[1]=Math.min(r[u].y,a[1]),s[0]=Math.max(r[u].x,s[0]),s[1]=Math.max(r[u].y,s[1]);e.gravityCenter=[.5*(a[0]+s[0]),.5*(a[1]+s[1])]}for(u=0;u<i.length;u++){var c=i[u].node1,l=i[u].node2;r[c].degree=(r[c].degree||0)+1,r[l].degree=(r[l].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:e})},vd.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1),this._frame+=e,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(e)})},vd.prototype._$onupdate=function(t){if(!this._disposed){var e=new Float32Array(t.data.buffer);this._globalSpeed=t.data.globalSpeed,this._positionArr=e,this._updateTexture(e),this._onupdate&&this._onupdate()}},vd.prototype.getNodePositionTexture=function(){return this._positionTex},vd.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1),e},vd.prototype.getNodes=function(){return this._nodes},vd.prototype.getEdges=function(){return this._edges},vd.prototype.isFinished=function(t){return this._frame>t},vd.prototype.getNodePosition=function(t,e){if(e||(e=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)e[n]=this._positionArr[n];return e},vd.prototype._updateTexture=function(t){for(var e=this._positionTex.pixels,n=0,r=0;r<t.length;)e[n++]=t[r++],e[n++]=t[r++],e[n++]=1,e[n++]=1;this._positionTex.dirty()},vd.prototype.dispose=function(t){this._disposed=!0,this._worker=null};var yd=vd,_d=v.extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var t=this.zr;t.on("mousedown",this._mouseDownHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("globalout",this._mouseUpHandler),t.animation.on("frame",this._update)},setTarget:function(t){this._target=t},setZoom:function(t){this._zoom=Math.max(Math.min(t,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(t){this._dx=t[0],this._dy=t[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var t=this._target,e=this._zoom;t.position.x=this._dx,t.position.y=this._dy,t.scale.set(e,e,e),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(t){if(!t.target){var e=t.offsetX,n=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(e,n)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(e,n);this._x=r.x,this._y=r.y}}},_convertPos:function(t,e){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(t-r.x)/r.width*(n.right-n.left)+n.left,y:(e-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(t){var e=this._convertPos(t.offsetX,t.offsetY);this._dx+=e.x-this._x,this._dy+=e.y-this._y,this._x=e.x,this._y=e.y,this._needsUpdate=!0},_mouseUpHandler:function(t){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(t){t=t.event;var e=t.wheelDelta||-t.detail;if(0!==e){var n=t.offsetX,r=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=e>0?1.1:.9,o=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=o/this._zoom;var a=this._convertPos(n,r),s=(a.x-this._dx)*(i-1),u=(a.y-this._dy)*(i-1);this._dx-=s,this._dy-=u,this._zoom=o,this._needsUpdate=!0}}},dispose:function(){var t=this.zr;t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("globalout",this._mouseUpHandler),t.animation.off("frame",this._update)}}),bd=_d,xd="@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end",wd=$o.vec2;bo.Shader.import(xd);var Td=1,Sd=r["b"].extend({type:"graphGL",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this.viewGL=new au("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new Jh(!0,e),this._forceEdgesMesh=new bo.Mesh({material:new bo.Material({shader:bo.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new bo.Geometry({attributes:{node:new bo.Geometry.Attribute("node","float",2),color:new bo.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:bo.Mesh.LINES}),this._edgesMesh=new bo.Mesh({material:new bo.Material({shader:bo.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new ud({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new bd({zr:e.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(t,e,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=t,this._api=n,this._initLayout(t,e,n),this._pointsBuilder.update(t,e,n),this._forceLayoutInstance instanceof fd||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(t,n),this._control.off("update"),this._control.on("update",(function(){n.dispatchAction({type:"graphGLRoam",seriesId:t.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(Ai.firstNotNull(t.get("zoom"),1)),this._control.setOffset(t.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,t.get("focusNodeAdjacency")){var i=t.get("focusNodeAdjacencyOn");"click"===i?n.getZr().on("click",this._clickHandler):"mouseover"===i&&(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?e!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._mouseOutHandler(t),this._lastMouseOverDataIndex=e}},_mouseOutHandler:function(t){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(t,e){var n=this._forceEdgesMesh.geometry,r=e.getEdgeData(),i=0,o=this._forceLayoutInstance,a=2*r.count();n.attributes.node.init(a),n.attributes.color.init(a),r.each((function(e){var a=t[e];n.attributes.node.set(i,o.getNodeUV(a.node1)),n.attributes.node.set(i+1,o.getNodeUV(a.node2));var s=gc(r,a.dataIndex),u=bo.parseColor(s);u[3]*=Ai.firstNotNull(vc(r,a.dataIndex),1),n.attributes.color.set(i,u),n.attributes.color.set(i+1,u),i+=2})),n.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,n=(t=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var r=[],i=[],o=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*t.count()),this._edgeIndicesMap=new Float32Array(t.count()),t.each((function(a){var s=t.graph.getEdgeByIndex(a),u=2*s.node1.dataIndex,c=2*s.node2.dataIndex;r[0]=n[u],r[1]=n[u+1],i[0]=n[c],i[1]=n[c+1];var l=gc(t,s.dataIndex),h=bo.parseColor(l);h[3]*=Ai.firstNotNull(vc(t,s.dataIndex),1);var f=t.getItemModel(s.dataIndex),d=Ai.firstNotNull(f.get(o),1)*this._api.getDevicePixelRatio();e.addLine(r,i,h,d);for(var p=0;p<4;p++)this._originalEdgeColors[4*s.dataIndex+p]=h[p];this._edgeIndicesMap[s.dataIndex]=a}),this),e.dirty()},_updateForceNodesGeometry:function(t){for(var e=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<t.count();r++)this._forceLayoutInstance.getNodeUV(r,n),e.geometry.attributes.position.set(r,n);e.geometry.dirty("position")},_initLayout:function(t,e,n){var i=t.get("layout"),o=t.getGraph(),a=t.getBoxLayoutParams(),s=Object(Ia["g"])(a,{width:n.getWidth(),height:n.getHeight()});"force"===i&&(i="forceAtlas2"),this.stopLayout(t,e,n,{beforeLayout:!0});var u=t.getData(),c=t.getData();if("forceAtlas2"===i){var l=t.getModel("forceAtlas2"),h=this._forceLayoutInstance,f=[],d=[],p=u.getDataExtent("value"),m=c.getDataExtent("value"),g=Ai.firstNotNull(l.get("edgeWeight"),1),v=Ai.firstNotNull(l.get("nodeWeight"),1);"number"===typeof g&&(g=[g,g]),"number"===typeof v&&(v=[v,v]);var y=0,_={},b=new Float32Array(2*u.count());if(o.eachNode((function(t){var e,n,i=t.dataIndex,o=u.get("value",i);if(u.hasItemOption){var a=u.getItemModel(i);e=a.get("x"),n=a.get("y")}null==e&&(e=s.x+Math.random()*s.width,n=s.y+Math.random()*s.height),b[2*y]=e,b[2*y+1]=n,_[t.id]=y++;var c=r["q"].linearMap(o,p,v);isNaN(c)&&(c=isNaN(v[0])?1:v[0]),f.push({x:e,y:n,mass:c,size:u.getItemVisual(i,"symbolSize")})})),u.setLayout("points",b),o.eachEdge((function(t){var e=t.dataIndex,n=u.get("value",e),i=r["q"].linearMap(n,m,g);isNaN(i)&&(i=isNaN(g[0])?1:g[0]),d.push({node1:_[t.node1.id],node2:_[t.node2.id],weight:i,dataIndex:e})})),!h){var x=l.get("GPU");this._forceLayoutInstance&&((!x||this._forceLayoutInstance instanceof fd)&&(x||this._forceLayoutInstance instanceof yd)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),h=this._forceLayoutInstance=x?new fd:new yd}h.initData(f,d),h.updateOption(l.option),this._updateForceEdgesGeometry(h.getEdges(),t),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{b=new Float32Array(2*u.count()),y=0;o.eachNode((function(t){var e,n,r=t.dataIndex;if(u.hasItemOption){var i=u.getItemModel(r);e=i.get("x"),n=i.get("y")}b[y++]=e,b[y++]=n})),u.setLayout("points",b),this._updateAfterLayout(t,e,n)}},_updatePositionTexture:function(){var t=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(t),this._forceEdgesMesh.material.set("positionTex",t)},startLayout:function(t,e,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,o=(n=this._api,this._forceLayoutInstance),a=this._model.getData(),s=this._model.getModel("forceAtlas2");if(o&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(t.getData()),this._pointsBuilder.hideLabels();var u=this,c=this._layoutId=Td++,l=s.getShallow("maxSteps"),h=s.getShallow("steps"),f=0,d=Math.max(2*h,20),p=function(e){if(e===u._layoutId)return o.isFinished(l)?(n.dispatchAction({type:"graphGLStopLayout",from:u.uid}),void n.dispatchAction({type:"graphGLFinishLayout",points:a.getLayout("points"),from:u.uid})):void o.update(i.layer.renderer,h,(function(){u._updatePositionTexture(),f+=h,f>=d&&(u._syncNodePosition(t),f=0),n.getZr().refresh(),Object(xo["a"])((function(){p(e)}))}))};Object(xo["a"])((function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(i.layer.renderer),u._forceLayoutInstanceToDispose=null),p(c)})),this._layouting=!0}}},stopLayout:function(t,e,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(t),this._updateAfterLayout(t,e,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(t){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);t.getData().setLayout("points",e),t.setNodePosition(e)},_updateAfterLayout:function(t,e,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(t,e,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData();this._downplayAll();var o=r.dataIndex,a=i.graph,s=[],u=a.getNodeByIndex(o);s.push(u),u.edges.forEach((function(t){t.dataIndex<0||(t.node1!==u&&s.push(t.node1),t.node2!==u&&s.push(t.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach((function(t){this._pointsBuilder.highlight(i,t.dataIndex)}),this),this._pointsBuilder.updateLabels(s.map((function(t){return t.dataIndex})));var c=[];u.edges.forEach((function(t){t.dataIndex>=0&&(this._highlightEdge(t.dataIndex),c.push(t))}),this),this._focusNodes=s,this._focusEdges=c},unfocusNodeAdjacency:function(t,e,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(t){var e=this._model.getEdgeData().getItemModel(t),n=bo.parseColor(e.get("emphasis.lineStyle.color")||e.get("lineStyle.color")),r=Ai.firstNotNull(e.get("emphasis.lineStyle.opacity"),e.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(t){this._pointsBuilder.downplay(this._model.getData(),t.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(t){this._downplayEdge(t.dataIndex)}),this)},_downplayEdge:function(t){var e=this._getColor(t,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)},_setEdgeFade:function(){var t=[];return function(e,n){this._getColor(e,t),t[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)}}(),_getColor:function(t,e){for(var n=0;n<4;n++)e[n]=this._originalEdgeColors[4*t+n];return e},_fadeOutEdgesAll:function(t){var e=this._model.getData().graph;e.eachEdge((function(e){this._setEdgeFade(e.dataIndex,t)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(t,e){this.viewGL.setViewport(0,0,e.getWidth(),e.getHeight(),e.getDevicePixelRatio());for(var n=this.viewGL.camera,r=t.getData(),i=r.getLayout("points"),o=wd.create(1/0,1/0),a=wd.create(-1/0,-1/0),s=[],u=0;u<i.length;)s[0]=i[u++],s[1]=i[u++],wd.min(o,o,s),wd.max(a,a,s);var c=(a[1]+o[1])/2,l=(a[0]+o[0])/2;if(!(l>n.left&&l<n.right&&c<n.bottom&&c>n.top)){var h=Math.max(a[0]-o[0],10),f=h/e.getWidth()*e.getHeight();h*=1.4,f*=1.4,o[0]-=.2*h,n.left=o[0],n.top=c-f/2,n.bottom=c+f/2,n.right=h+o[0],n.near=0,n.far=100}},dispose:function(){var t=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(t),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function Od(t){return t instanceof Array||(t=[t,t]),t}function Md(t){function e(){}t.registerChartView(Sd),t.registerSeriesModel(id),t.registerVisual((function(t){const e={};t.eachSeriesByType("graphGL",(function(t){var n=t.getCategoriesData(),i=t.getData(),o={};n.each((function(r){var i=n.getName(r);o["ec-"+i]=r;var a=n.getItemModel(r),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(i,e)),n.setItemVisual(r,"style",s);var u=["symbol","symbolSize","symbolKeepAspect"];for(let t=0;t<u.length;t++){var c=a.getShallow(u[t],!0);null!=c&&n.setItemVisual(r,u[t],c)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t);let a=e.getShallow("category");if(null!=a){"string"===typeof a&&(a=o["ec-"+a]);var s=n.getItemVisual(a,"style"),u=i.ensureUniqueItemVisual(t,"style");r["x"].extend(u,s);var c=["symbol","symbolSize","symbolKeepAspect"];for(let e=0;e<c.length;e++)i.setItemVisual(t,c[e],n.getItemVisual(a,c[e]))}}))}))})),t.registerVisual((function(t){t.eachSeriesByType("graphGL",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=Od(t.get("edgeSymbol")),o=Od(t.get("edgeSymbolSize"));n.setVisual("drawType","stroke"),n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),o=e.getEdgeByIndex(t),a=Od(i.getShallow("symbol",!0)),s=Od(i.getShallow("symbolSize",!0)),u=i.getModel("lineStyle").getLineStyle(),c=n.ensureUniqueItemVisual(t,"style");switch(r["x"].extend(c,u),c.stroke){case"source":var l=o.node1.getVisual("style");c.stroke=l&&l.fill;break;case"target":l=o.node2.getVisual("style");c.stroke=l&&l.fill;break}a[0]&&o.setVisual("fromSymbol",a[0]),a[1]&&o.setVisual("toSymbol",a[1]),s[0]&&o.setVisual("fromSymbolSize",s[0]),s[1]&&o.setVisual("toSymbolSize",s[1])}))}))})),t.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){e.setView(t)}))})),t.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},e),t.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},e),t.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},e),t.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},e)}Object(r["w"])(Md);var Ed=r["g"].extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(t,e){var n=this.get("coordinateSystem"),i="geo"===n?["lng","lat"]:r["l"](n)||["x","y"];i.push("vx","vy");var o=r["o"].createDimensions(this.getSource(),{coordDimensions:i,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),a=new r["e"](o,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}}),Ad=pn.extend((function(){return{dynamic:!0,attributes:{position:new pn.Attribute("position","float",3,"POSITION")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,n=4*t,r=2*t;this.vertexCount!==n&&e.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(t){var e=this._vertexOffset;this.attributes.position.set(e,[t[0],t[1],1]),this.attributes.position.set(e+1,[t[0],t[1],-1]),this.attributes.position.set(e+2,[t[0],t[1],2]),this.attributes.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}}),Cd=Ad,Dd="@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n";function Ld(t){var e=document.createElement("canvas");e.width=e.height=t;var n=e.getContext("2d");return n.fillStyle="#fff",n.arc(t/2,t/2,t/2,0,2*Math.PI),n.fill(),e}zt["import"](Dd);var Id=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new tn({type:We.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};Id.prototype={constructor:Id,init:function(){var t={type:We.FLOAT,minFilter:We.NEAREST,magFilter:We.NEAREST,useMipmap:!1};this._spawnTexture=new tn(t),this._particleTexture0=new tn(t),this._particleTexture1=new tn(t),this._frameBuffer=new ur({depthBuffer:!1}),this._particlePass=new hi({fragment:zt.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new hi({fragment:zt.source("clay.compositor.downsample")});var e=new Xe({renderOrder:10,material:new Z({shader:new zt(zt.source("ecgl.vfParticle.renderPoints.vertex"),zt.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Xe.POINTS,geometry:new pn({dynamic:!0,mainAttribute:"texcoord0"})}),n=new Xe({renderOrder:10,material:new Z({shader:new zt(zt.source("ecgl.vfParticle.renderLines.vertex"),zt.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new Cd,culling:!1}),r=new Xe({material:new Z({shader:new zt(zt.source("ecgl.color.vertex"),zt.source("ecgl.color.fragment"))}),geometry:new dr});r.material.enableTexture("diffuseMap"),this._particlePointsMesh=e,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=r,this._camera=new oi,this._thisFrameTexture=new tn,this._lastFrameTexture=new tn},setParticleDensity:function(t,e){for(var n=t*e,r=new Float32Array(4*n),i=0,o=this.particleLife,a=0;a<t;a++)for(var s=0;s<e;s++,i++){r[4*i]=Math.random(),r[4*i+1]=Math.random(),r[4*i+2]=Math.random();var u=(o[1]-o[0])*Math.random()+o[0];r[4*i+3]=u}"line"===this._particleType?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._spawnTexture.width=t,this._spawnTexture.height=e,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=t,this._particleTexture0.height=this._particleTexture1.height=e,this._particlePass.setUniform("textureSize",[t,e])},_setPointsGeometry:function(t,e){var n=t*e,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var o=0,a=0;a<t;a++)for(var s=0;s<e;s++,o++)i.texcoord0.value[2*o]=a/t,i.texcoord0.value[2*o+1]=s/e;r.dirty()},_setLineGeometry:function(t,e){var n=t*e,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<t;i++)for(var o=0;o<e;o++)r.addLine([i/t,o/e]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,n,r){var i=this._getParticleMesh(),o=this._frameBuffer,a=this._particlePass;r&&this._updateDownsampleTextures(t,e),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),a.setUniform("speedScaling",this.particleSpeedScaling),o.attach(this._particleTexture1),a.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),a.setUniform("particleTexture",this._particleTexture0),a.setUniform("deltaTime",n),a.setUniform("elapsedTime",this._elapsedTime),a.render(t,o),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),o.attach(this._thisFrameTexture),o.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),t.renderPass([s,i],this._camera),o.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=n},_downsample:function(t){var e=this._downsampleTextures;if(0!==e.length){var n=0,r=this._thisFrameTexture,i=e[n];while(i)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(t,this._frameBuffer),r=i,i=e[++n]}},getSurfaceTexture:function(){var t=this._downsampleTextures;return t.length>0?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._particlePass.setUniform("region",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2)return e.material.disableTexture("spriteTexture"),void(e.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new tn),this._spriteTexture.image&&this._spriteTexture.image.width===t||(this._spriteTexture.image=Ld(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture("spriteTexture"),e.material.set("spriteTexture",this._spriteTexture),this._particleSize=t},setGradientTexture:function(t){var e=this._getParticleMesh().material;e[t?"enableTexture":"disableTexture"]("gradientTexture"),e.setUniform("gradientTexture",t)},setColorTextureImage:function(t,e){var n=this._getParticleMesh().material;n.setTextureImage("colorTexture",t,e,{flipY:!0})},setParticleType:function(t){this._particleType=t},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t,e){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/e.getDevicePixelRatio())/Math.log(2)),0),i=2,o=this._width*this._supersampling,a=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new tn,n[s].width=o/i,n[s].height=a/i,i*=2;for(;s<n.length;s++)n[s].dispose(t);n.length=r},_swapTexture:function(){var t=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=t;t=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(t){t.disposeFrameBuffer(this._frameBuffer),t.disposeTexture(this.vectorFieldTexture),t.disposeTexture(this._spawnTexture),t.disposeTexture(this._particleTexture0),t.disposeTexture(this._particleTexture1),t.disposeTexture(this._thisFrameTexture),t.disposeTexture(this._lastFrameTexture),t.disposeGeometry(this._particleLinesMesh.geometry),t.disposeGeometry(this._particlePointsMesh.geometry),t.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&t.disposeTexture(this._spriteTexture),this._particlePass.dispose(t),this._downsamplePass.dispose(t),this._downsampleTextures.forEach((function(e){e.dispose(t)}))}};var Pd=Id,Rd=r["b"].extend({type:"flowGL",__ecgl__:!0,init:function(t,e){this.viewGL=new au("orthographic"),this.groupGL=new bo.Node,this.viewGL.add(this.groupGL),this._particleSurface=new Pd;var n=new bo.Mesh({geometry:new bo.PlaneGeometry,material:new bo.Material({shader:new bo.Shader({vertex:bo.Shader.source("ecgl.color.vertex"),fragment:bo.Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(t,e,n){var r=this._particleSurface;r.setParticleType(t.get("particleType")),r.setSupersampling(t.get("supersampling")),this._updateData(t,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=Ai.firstNotNull(t.get("particleDensity"),128);r.setParticleDensity(i,i);var o=this._planeMesh,a=+new Date,s=this,u=!0;o.__percent=0,o.stopAnimation(),o.animate("",{loop:!0}).when(1e5,{__percent:1}).during((function(){var t=+new Date,e=Math.min(t-a,20);a+=e,s._renderer&&(r.update(s._renderer,n,e/1e3,u),o.material.set("diffuseMap",r.getSurfaceTexture())),u=!1})).start();var c=t.getModel("itemStyle"),l=bo.parseColor(c.get("color"));l[3]*=Ai.firstNotNull(c.get("opacity"),1),o.material.set("color",l),r.setColorTextureImage(t.get("colorTexture"),n),r.setParticleSize(t.get("particleSize")),r.particleSpeedScaling=t.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,t.get("particleTrail"))},updateTransform:function(t,e,n){this._updateData(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._renderer=i},_updateData:function(t,e){var n=t.coordinateSystem,r=n.dimensions.map((function(e){return t.coordDimToDataDim(e)[0]})),i=t.getData(),o=i.getDataExtent(r[0]),a=i.getDataExtent(r[1]),s=t.get("gridWidth"),u=t.get("gridHeight");if(null==s||"auto"===s){var c=(o[1]-o[0])/(a[1]-a[0]);s=Math.round(Math.sqrt(c*i.count()))}null!=u&&"auto"!==u||(u=Math.ceil(i.count()/s));var l=this._particleSurface.vectorFieldTexture,h=l.pixels;if(h&&h.length===u*s*4)for(var f=0;f<h.length;f++)h[f]=0;else h=l.pixels=new Float32Array(s*u*4);var d=0,p=1/0,m=new Float32Array(2*i.count()),g=0,v=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],(function(t,e,r,i){var o=n.dataToPoint([t,e]);m[g++]=o[0],m[g++]=o[1],v[0][0]=Math.min(o[0],v[0][0]),v[0][1]=Math.min(o[1],v[0][1]),v[1][0]=Math.max(o[0],v[1][0]),v[1][1]=Math.max(o[1],v[1][1]);var a=Math.sqrt(r*r+i*i);d=Math.max(d,a),p=Math.min(p,a)})),i.each(["vx","vy"],(function(t,e,n){var r=Math.round((m[2*n]-v[0][0])/(v[1][0]-v[0][0])*(s-1)),i=u-1-Math.round((m[2*n+1]-v[0][1])/(v[1][1]-v[0][1])*(u-1)),o=4*(i*s+r);h[o]=t/d*.5+.5,h[o+1]=e/d*.5+.5,h[o+3]=1})),l.width=s,l.height=u,"bmap"===t.get("coordinateSystem")&&this._fillEmptyPixels(l),l.dirty(),this._updatePlanePosition(v[0],v[1],t,e),this._updateGradientTexture(i.getVisual("visualMeta"),[p,d])},_fillEmptyPixels:function(t){var e=t.pixels,n=t.width,r=t.height;function i(t,i,o){t=Math.max(Math.min(t,n-1),0),i=Math.max(Math.min(i,r-1),0);var a=4*(i*(n-1)+t);return 0!==e[a+3]&&(o[0]=e[a],o[1]=e[a+1],!0)}function o(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1]}for(var a=[],s=[],u=[],c=[],l=[],h=0,f=0;f<r;f++)for(var d=0;d<n;d++){var p=4*(f*(n-1)+d);0===e[p+3]&&(h=a[0]=a[1]=0,i(d-1,f,s)&&(h++,o(s,a,a)),i(d+1,f,u)&&(h++,o(u,a,a)),i(d,f-1,c)&&(h++,o(c,a,a)),i(d,f+1,l)&&(h++,o(l,a,a)),a[0]/=h,a[1]/=h,e[p]=a[0],e[p+1]=a[1]),e[p+3]=1}},_updateGradientTexture:function(t,e){if(t&&t.length){this._gradientTexture=this._gradientTexture||new bo.Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext("2d"),o=i.createLinearGradient(0,.5,r.width,.5);t[0].stops.forEach((function(t){var n;e[1]===e[0]?n=0:(n=t.value/e[1],n=Math.min(Math.max(n,0),1)),o.addColorStop(n,t.color)})),i.fillStyle=o,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(t,e,n,r){var i=this._limitInViewportAndFullFill(t,e,n,r);t=i.leftTop,e=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((t[0]+e[0])/2,r.getHeight()-(t[1]+e[1])/2,0);var o=e[0]-t[0],a=e[1]-t[1];this._planeMesh.scale.set(o/2,a/2,1),this._particleSurface.resize(Math.max(Math.min(o,2048),1),Math.max(Math.min(a,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(t,e,n,r){var i=[Math.max(t[0],0),Math.max(t[1],0)],o=[Math.min(e[0],r.getWidth()),Math.min(e[1],r.getHeight())];if("bmap"===n.get("coordinateSystem")){var a=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]),s=Math.floor(a[1]-a[0])>=359;s&&(i[0]>0&&(i[0]=0),o[0]<r.getWidth()&&(o[0]=r.getWidth()))}var u=e[0]-t[0],c=e[1]-t[1],l=o[0]-i[0],h=o[1]-i[1],f=[(i[0]-t[0])/u,1-h/c-(i[1]-t[1])/c,l/u,h/c];return{leftTop:i,rightBottom:o,region:f}},_updateCamera:function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=e,r.right=t,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function Nd(t){t.registerChartView(Rd),t.registerSeriesModel(Ed)}Object(r["w"])(Nd);var kd=n("6d8b"),jd=r["g"].extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),jd.superApply(this,"init",arguments)},mergeOption:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),jd.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(kd["e"])(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(kd["e"])(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"===typeof t[0]){for(var n=t.length,r=new Uint32Array(n),i=new Float64Array(n),o=0,a=0,s=0,u=0;u<n;){s++;var c=t[u++];r[a++]=o+e,r[a++]=c;for(var l=0;l<c;l++){var h=t[u++],f=t[u++];i[o++]=h,i[o++]=f}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new r["e"](["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0})),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}),Fd=jd,Bd=r["b"].extend({type:"linesGL",__ecgl__:!0,init:function(t,e){this.groupGL=new bo.Node,this.viewGL=new au("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new Zf(this.viewGL),this._nativeLinesShader=bo.createShader("ecgl.lines3D"),this._meshLinesShader=bo.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(t)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(t,r,0,t.getData().count()),this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(e),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(e,i,t.start,t.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(t,e,n){t.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(t,n)},_createLinesMesh:function(t){var e=new bo.Mesh({$ignorePicking:!0,material:new bo.Material({shader:bo.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new ud({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:bo.Mesh.LINES,culling:!1});return e},_updateLinesMesh:function(t,e,n,r){var i=t.getData();e.material.blend="lighter"===t.get("blendMode")?bo.additiveBlend:null;var o=t.get("lineStyle.curveness")||0,a=t.get("polyline"),s=e.geometry,u=t.coordinateSystem,c=Ai.firstNotNull(t.get("lineStyle.width"),1);c>1?(e.material.shader!==this._meshLinesShader&&e.material.attachShader(this._meshLinesShader),e.mode=bo.Mesh.TRIANGLES):(e.material.shader!==this._nativeLinesShader&&e.material.attachShader(this._nativeLinesShader),e.mode=bo.Mesh.LINES),n=n||0,r=r||i.count(),s.resetOffset();var l=0,h=0,f=[],d=[],p=[],m=[],g=[],v=.3,y=.7;function _(){d[0]=f[0]*y+m[0]*v-(f[1]-m[1])*o,d[1]=f[1]*y+m[1]*v-(m[0]-f[0])*o,p[0]=f[0]*v+m[0]*y-(f[1]-m[1])*o,p[1]=f[1]*v+m[1]*y-(m[0]-f[0])*o}if(a||0!==o)for(var b=n;b<r;b++)if(a){var x=t.getLineCoordsCount(b);l+=s.getPolylineVertexCount(x),h+=s.getPolylineTriangleCount(x)}else t.getLineCoords(b,g),this._glViewHelper.dataToPoint(u,g[0],f),this._glViewHelper.dataToPoint(u,g[1],m),_(),l+=s.getCubicCurveVertexCount(f,d,p,m),h+=s.getCubicCurveTriangleCount(f,d,p,m);else{var w=r-n;l+=w*s.getLineVertexCount(),h+=w*s.getLineVertexCount()}s.setVertexCount(l),s.setTriangleCount(h);var T=n,S=[];for(b=n;b<r;b++){bo.parseColor(gc(i,T),S);var O=Ai.firstNotNull(vc(i,T),1);S[3]*=O;x=t.getLineCoords(b,g);for(var M=0;M<x;M++)this._glViewHelper.dataToPoint(u,g[M],g[M]);a?s.addPolyline(g,S,c,0,x):0!==o?(f=g[0],m=g[1],_(),s.addCubicCurve(f,d,p,m,S,c)):s.addPolyline(g,S,c,0,2),T++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function zd(t){t.registerChartView(Bd),t.registerSeriesModel(Fd)}Object(r["w"])(zd)},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),a=n("06cf").f,s=n("83ab"),u=i((function(){a(1)})),c=!s||u;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e444:function(t,e){t.exports=!0},e507:function(t,e,n){var r=n("512c");r(r.S+r.F,"Object",{assign:n("072d")})},e538:function(t,e,n){var r=n("b622");e.f=r},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6cf:function(t,e,n){"use strict";var r,i,o,a,s=n("23e7"),u=n("c430"),c=n("da84"),l=n("d066"),h=n("fea9"),f=n("6eeb"),d=n("e2cc"),p=n("d44e"),m=n("2626"),g=n("861d"),v=n("1c0b"),y=n("19aa"),_=n("c6b6"),b=n("8925"),x=n("2266"),w=n("1c7e"),T=n("4840"),S=n("2cf49").set,O=n("b575"),M=n("cdf9"),E=n("44de"),A=n("f069"),C=n("e667"),D=n("69f3"),L=n("94ca"),I=n("b622"),P=n("2d00"),R=I("species"),N="Promise",k=D.get,j=D.set,F=D.getterFor(N),B=h,z=c.TypeError,U=c.document,H=c.process,G=l("fetch"),V=A.f,W=V,q="process"==_(H),X=!!(U&&U.createEvent&&c.dispatchEvent),Y="unhandledrejection",$="rejectionhandled",Z=0,K=1,J=2,Q=1,tt=2,et=L(N,(function(){var t=b(B)!==String(B);if(!t){if(66===P)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!B.prototype["finally"])return!0;if(P>=51&&/native code/.test(B))return!1;var e=B.resolve(1),n=function(t){t((function(){}),(function(){}))},r=e.constructor={};return r[R]=n,!(e.then((function(){}))instanceof n)})),nt=et||!w((function(t){B.all(t)["catch"]((function(){}))})),rt=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;O((function(){var i=e.value,o=e.state==K,a=0;while(r.length>a){var s,u,c,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{h?(o||(e.rejection===tt&&ut(t,e),e.rejection=Q),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),c=!0)),s===l.promise?d(z("Promise-chain cycle")):(u=rt(s))?u.call(s,f,d):f(s)):d(i)}catch(m){p&&!c&&p.exit(),d(m)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&at(t,e)}))}},ot=function(t,e,n){var r,i;X?(r=U.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(i=c["on"+t])?i(r):t===Y&&E("Unhandled promise rejection",n)},at=function(t,e){S.call(c,(function(){var n,r=e.value,i=st(e);if(i&&(n=C((function(){q?H.emit("unhandledRejection",r,t):ot(Y,t,r)})),e.rejection=q||st(e)?tt:Q,n.error))throw n.value}))},st=function(t){return t.rejection!==Q&&!t.parent},ut=function(t,e){S.call(c,(function(){q?H.emit("rejectionHandled",t):ot($,t,e.value)}))},ct=function(t,e,n,r){return function(i){t(e,n,i,r)}},lt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=J,it(t,e,!0))},ht=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw z("Promise can't be resolved itself");var i=rt(n);i?O((function(){var r={done:!1};try{i.call(n,ct(ht,t,r,e),ct(lt,t,r,e))}catch(o){lt(t,r,o,e)}})):(e.value=n,e.state=K,it(t,e,!1))}catch(o){lt(t,{done:!1},o,e)}}};et&&(B=function(t){y(this,B,N),v(t),r.call(this);var e=k(this);try{t(ct(ht,this,e),ct(lt,this,e))}catch(n){lt(this,e,n)}},r=function(t){j(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=d(B.prototype,{then:function(t,e){var n=F(this),r=V(T(this,B));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=q?H.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&it(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=k(t);this.promise=t,this.resolve=ct(ht,t,e),this.reject=ct(lt,t,e)},A.f=V=function(t){return t===B||t===o?new i(t):W(t)},u||"function"!=typeof h||(a=h.prototype.then,f(h.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return M(B,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:et},{Promise:B}),p(B,N,!1,!0),m(N),o=l(N),s({target:N,stat:!0,forced:et},{reject:function(t){var e=V(this);return e.reject.call(void 0,t),e.promise}}),s({target:N,stat:!0,forced:u||et},{resolve:function(t){return M(u&&this===o?B:this,t)}}),s({target:N,stat:!0,forced:nt},{all:function(t){var e=this,n=V(e),r=n.resolve,i=n.reject,o=C((function(){var n=v(e.resolve),o=[],a=0,s=1;x(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=V(e),r=n.reject,i=C((function(){var i=v(e.resolve);x(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e86a:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"d",(function(){return _}));var r,i,o=n("9850"),a=n("6d8b"),s=n("d51b"),u={},c="12px sans-serif";function l(t,e){return r||(r=Object(a["f"])().getContext("2d")),i!==e&&(i=r.font=e||c),r.measureText(t)}var h={measureText:l};function f(t,e){e=e||c;var n=u[e];n||(n=u[e]=new s["a"](500));var r=n.get(t);return null==r&&(r=h.measureText(t,e).width,n.put(t,r)),r}function d(t,e,n,r){var i=f(t,e),a=v(e),s=m(0,i,n),u=g(0,a,r),c=new o["a"](s,u,i,a);return c}function p(t,e,n,r){var i=((t||"")+"").split("\n"),a=i.length;if(1===a)return d(i[0],e,n,r);for(var s=new o["a"](0,0,0,0),u=0;u<i.length;u++){var c=d(i[u],e,n,r);0===u?s.copy(c):s.union(c)}return s}function m(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function g(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function v(t){return f("国",t)}function y(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function _(t,e,n){var r=e.position||"inside",i=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,u=n.x,c=n.y,l="left",h="top";if(r instanceof Array)u+=y(r[0],n.width),c+=y(r[1],n.height),l=null,h=null;else switch(r){case"left":u-=i,c+=s,l="right",h="middle";break;case"right":u+=i+a,c+=s,h="middle";break;case"top":u+=a/2,c-=i,l="center",h="bottom";break;case"bottom":u+=a/2,c+=o+i,l="center";break;case"inside":u+=a/2,c+=s,l="center",h="middle";break;case"insideLeft":u+=i,c+=s,h="middle";break;case"insideRight":u+=a-i,c+=s,l="right",h="middle";break;case"insideTop":u+=a/2,c+=i,l="center";break;case"insideBottom":u+=a/2,c+=o-i,l="center",h="bottom";break;case"insideTopLeft":u+=i,c+=i;break;case"insideTopRight":u+=a-i,c+=i,l="right";break;case"insideBottomLeft":u+=i,c+=o-i,h="bottom";break;case"insideBottomRight":u+=a-i,c+=o-i,l="right",h="bottom";break}return t=t||{},t.x=u,t.y=c,t.align=l,t.verticalAlign=h,t}},e887:function(t,e,n){"use strict";var r=n("6d8b"),i=n("2dc5"),o=n("8918"),a=n("625e"),s=n("e0d3"),u=n("7d6c"),c=n("9fbc"),l=n("cccd"),h=s["o"](),f=Object(l["a"])(),d=function(){function t(){this.group=new i["a"],this.uid=o["c"]("viewChart"),this.renderTask=Object(c["a"])({plan:g,reset:v}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.highlight=function(t,e,n,r){m(t.getData(),r,"emphasis")},t.prototype.downplay=function(t,e,n,r){m(t.getData(),r,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},t.markUpdateMethod=function(t,e){h(t).updateMethod=e},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function p(t,e,n){t&&("emphasis"===e?u["r"]:u["C"])(t,n)}function m(t,e,n){var i=s["u"](t,e),o=e&&null!=e.highlightKey?Object(u["v"])(e.highlightKey):null;null!=i?Object(r["k"])(s["r"](i),(function(e){p(t.getItemGraphicEl(e),n,o)})):t.eachItemGraphicEl((function(t){p(t,n,o)}))}function g(t){return f(t.model)}function v(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&h(i).updateMethod,u=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==u&&a[u](e,n,r,i),y[u]}a["b"](d,["dispose"]),a["c"](d);var y={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};e["a"]=d},e893:function(t,e,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),a=n("9bf2");t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},ea34:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},ec6f:function(t,e,n){"use strict";n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"f",(function(){return v}));var r=n("6d8b"),i=n("07fd"),o=n("e0d3"),a=n("0f99"),s=function(){function t(t){this.data=t.data||(t.sourceFormat===i["d"]?{}:[]),this.sourceFormat=t.sourceFormat||i["h"],this.seriesLayoutBy=t.seriesLayoutBy||i["a"],this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];null==r.type&&Object(a["b"])(this,n)===a["a"].Must&&(r.type="ordinal")}}return t}();function u(t){return t instanceof s}function c(t,e,n){n=n||f(t);var i=e.seriesLayoutBy,o=d(t,n,i,e.sourceHeader,e.dimensions),a=new s({data:t,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:Object(r["d"])(e)});return a}function l(t){return new s({data:t,sourceFormat:Object(r["E"])(t)?i["g"]:i["f"]})}function h(t){return new s({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Object(r["d"])(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function f(t){var e=i["h"];if(Object(r["E"])(t))e=i["g"];else if(Object(r["t"])(t)){0===t.length&&(e=i["c"]);for(var n=0,o=t.length;n<o;n++){var a=t[n];if(null!=a){if(Object(r["t"])(a)){e=i["c"];break}if(Object(r["A"])(a)){e=i["e"];break}}}}else if(Object(r["A"])(t))for(var s in t)if(Object(r["q"])(t,s)&&Object(r["u"])(t[s])){e=i["d"];break}return e}function d(t,e,n,a,s){var u,c;if(!t)return{dimensionsDefine:m(s),startIndex:c,dimensionsDetectedCount:u};if(e===i["c"]){var l=t;"auto"===a||null==a?g((function(t){null!=t&&"-"!==t&&(Object(r["C"])(t)?null==c&&(c=1):c=0)}),n,l,10):c=Object(r["z"])(a)?a:a?1:0,s||1!==c||(s=[],g((function(t,e){s[e]=null!=t?t+"":""}),n,l,1/0)),u=s?s.length:n===i["b"]?l.length:l[0]?l[0].length:null}else if(e===i["e"])s||(s=p(t));else if(e===i["d"])s||(s=[],Object(r["k"])(t,(function(t,e){s.push(e)})));else if(e===i["f"]){var h=Object(o["h"])(t[0]);u=Object(r["t"])(h)&&h.length||1}else i["g"];return{startIndex:c,dimensionsDefine:m(s),dimensionsDetectedCount:u}}function p(t){var e,n=0;while(n<t.length&&!(e=t[n++]));if(e){var i=[];return Object(r["k"])(e,(function(t,e){i.push(e)})),i}}function m(t){if(t){var e=Object(r["g"])();return Object(r["H"])(t,(function(t,n){t=Object(r["A"])(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var o=e.get(i.name);return o?i.name+="-"+o.count++:e.set(i.name,{count:1}),i}))}}function g(t,e,n,r){if(e===i["b"])for(var o=0;o<n.length&&o<r;o++)t(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<r;o++)t(a[o],o)}}function v(t){var e=t.sourceFormat;return e===i["e"]||e===i["d"]}},eda2:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"k",(function(){return s})),n.d(e,"j",(function(){return u})),n.d(e,"d",(function(){return h})),n.d(e,"i",(function(){return f})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return g})),n.d(e,"h",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"l",(function(){return x}));var r=n("6d8b"),i=n("3842"),o=n("f876");function a(t){if(!Object(i["j"])(t))return r["C"](t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function s(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var u=r["M"],c=/([&<>"'])/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(t){return null==t?"":(t+"").replace(c,(function(t,e){return l[e]}))}function f(t,e,n){var s="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function u(t){return t&&r["T"](t)?t:"-"}function c(t){return!(null==t||isNaN(t)||!isFinite(t))}var l="time"===e,h=t instanceof Date;if(l||h){var f=l?Object(i["o"])(t):t;if(!isNaN(+f))return Object(o["h"])(f,s,n);if(h)return"-"}if("ordinal"===e)return r["D"](t)?u(t):r["z"](t)&&c(t)?t+"":"-";var d=Object(i["n"])(t);return c(d)?a(d):r["D"](t)?u(t):"-"}var d=["a","b","c","d","e","f","g"],p=function(t,e){return"{"+t+(null==e?"":e)+"}"};function m(t,e,n){r["t"](e)||(e=[e]);var i=e.length;if(!i)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var s=d[a];t=t.replace(p(s),p(s,0))}for(var u=0;u<i;u++)for(var c=0;c<o.length;c++){var l=e[u][o[c]];t=t.replace(p(d[c],u),n?h(l):l)}return t}function g(t,e,n){return r["k"](e,(function(e,r){t=t.replace("{"+r+"}",n?h(e):e)})),t}function v(t,e){var n=r["C"](t)?{color:t,extraCssText:e}:t||{},i=n.color,o=n.type;e=n.extraCssText;var a=n.renderMode||"html";if(!i)return"";if("html"===a)return"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+h(i)+";"+(e||"")+'"></span>';var s=n.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function y(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=Object(i["o"])(e),a=n?"UTC":"",s=r["get"+a+"FullYear"](),u=r["get"+a+"Month"]()+1,c=r["get"+a+"Date"](),l=r["get"+a+"Hours"](),h=r["get"+a+"Minutes"](),f=r["get"+a+"Seconds"](),d=r["get"+a+"Milliseconds"]();return t=t.replace("MM",Object(o["y"])(u,2)).replace("M",u).replace("yyyy",s).replace("yy",s%100+"").replace("dd",Object(o["y"])(c,2)).replace("d",c).replace("hh",Object(o["y"])(l,2)).replace("h",l).replace("mm",Object(o["y"])(h,2)).replace("m",h).replace("ss",Object(o["y"])(f,2)).replace("s",f).replace("SSS",Object(o["y"])(d,3)),t}function _(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function b(t,e){return e=e||"transparent",r["C"](t)?t:r["A"](t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function x(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}},edae:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return u}));var r="[ECharts] ",i="undefined"!==typeof console&&console.warn&&console.log;function o(t){i&&console.warn(r+t)}function a(t){i&&console.error(r+t)}function s(t){0}function u(t){throw new Error(t)}},ee1a:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("6d8b"),i=n("80b9");function o(t,e,n){n=n||{};var i,o,s,u=n.byIndex,c=n.stackedCoordDimension;a(e)?i=e:(o=e.schema,i=o.dimensions,s=e.store);var l,h,f,d,p=!(!t||!t.get("stack"));if(Object(r["k"])(i,(function(t,e){Object(r["C"])(t)&&(i[e]=t={name:t}),p&&!t.isExtraCoord&&(u||l||!t.ordinalMeta||(l=t),h||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(h=t))})),!h||u||l||(u=!0),h){f="__\0ecstackresult_"+t.id,d="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var m=h.coordDim,g=h.type,v=0;Object(r["k"])(i,(function(t){t.coordDim===m&&v++}));var y={name:f,coordDim:m,coordDimIndex:v,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},_={name:d,coordDim:d,coordDimIndex:v+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(y.storeDimIndex=s.ensureCalculationDimension(d,g),_.storeDimIndex=s.ensureCalculationDimension(f,g)),o.appendCalculationDimension(y),o.appendCalculationDimension(_)):(i.push(y),i.push(_))}return{stackedDimension:h&&h.name,stackedByDimension:l&&l.name,isStackedByIndex:u,stackedOverDimension:d,stackResultDimension:f}}function a(t){return!Object(i["d"])(t.schema)}function s(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function u(t,e){return s(t,e)?t.getCalculationInfo("stackResultDimension"):e}},ee29:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var r=n("e0d3"),i=n("9850"),o=n("deab"),a=n("861c"),s=n("3842"),u=n("8582"),c=n("89b6"),l=n("6d8b"),h=n("2355"),f=n("7837");function d(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function p(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:d(r&&r.shape.points)}}var m=["align","verticalAlign","width","height","fontSize"],g=new u["a"],v=Object(r["o"])(),y=Object(r["o"])();function _(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null!=e[i]&&(t[i]=e[i])}}var b=["x","y","rotation"],x=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,r,o){var a=r.style,s=r.__hostTarget,u=s.textConfig||{},c=r.getComputedTransform(),l=r.getBoundingRect().plain();i["a"].applyTransform(l,l,c),c?g.setLocalTransform(c):(g.x=g.y=g.rotation=g.originX=g.originY=0,g.scaleX=g.scaleY=1);var h,f=r.__hostTarget;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();i["a"].applyTransform(h,h,d)}var p=h&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:p,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:l,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:p&&p.ignore,x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY,rotation:g.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:u.position,attachedRot:u.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Object(l["w"])(r)||Object(l["F"])(r).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var i=t.getTextContent(),o=Object(a["a"])(t);i&&!i.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,i,r)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(t,e){return function(){Object(c["e"])(t,e)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],a=o.label,u=a.__hostTarget,l=o.defaultAttr,h=void 0;h="function"===typeof o.layoutOption?o.layoutOption(p(o,u)):o.layoutOption,h=h||{},o.computedLayoutOption=h;var f=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:l.attachedPos,rotation:null!=h.rotate?h.rotate*f:l.attachedRot,offset:[h.dx||0,h.dy||0]});var d=!1;if(null!=h.x?(a.x=Object(s["p"])(h.x,e),a.setStyle("x",0),d=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=h.y?(a.y=Object(s["p"])(h.y,n),a.setStyle("y",0),d=!0):(a.y=l.y,a.setStyle("y",l.style.y)),h.labelLinePoints){var g=u.getTextGuideLine();g&&(g.setShape({points:h.labelLinePoints}),d=!1)}var y=v(a);y.needsUpdateLabelLine=d,a.rotation=null!=h.rotate?h.rotate*f:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var _=0;_<m.length;_++){var b=m[_];a.setStyle(b,null!=h[b]?h[b]:l.style[b])}if(h.draggable){if(a.draggable=!0,a.cursor="move",u){var x=o.seriesModel;if(null!=o.dataIndex){var w=o.seriesModel.getData(o.dataType);x=w.getItemModel(o.dataIndex)}a.on("drag",r(u,x.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),r=Object(h["b"])(this._labelList),i=Object(l["n"])(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),o=Object(l["n"])(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));Object(h["c"])(i,0,e),Object(h["d"])(o,0,n);var a=Object(l["n"])(r,(function(t){return t.layoutOption.hideOverlap}));Object(h["a"])(a)},t.prototype.processLabelsOverall=function(){var t=this;Object(l["k"])(this._chartViewList,(function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,i=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore)return!0;var o=!r,a=e.getTextContent();!o&&a&&(o=v(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),i&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=Object(a["a"])(t),i=r.dataIndex;if(n&&null!=i){var o=e.getData(r.dataType),s=o.getItemModel(i),u={},l=o.getItemVisual(i,"style"),h=o.getVisual("drawType");u.stroke=l[h];var f=s.getModel("labelLine");Object(c["d"])(t,Object(c["a"])(s),u),Object(c["e"])(t,f)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Object(o["d"])(t)){var i=v(n),s=i.oldLayout,u=Object(a["a"])(t),c=u.dataIndex,h={x:n.x,y:n.y,rotation:n.rotation},d=e.getData(u.dataType);if(s){n.attr(s);var p=t.prevStates;p&&(Object(l["r"])(p,"select")>=0&&n.attr(i.oldLayoutSelect),Object(l["r"])(p,"emphasis")>=0&&n.attr(i.oldLayoutEmphasis)),Object(o["h"])(n,h,e,c)}else if(n.attr(h),!Object(f["f"])(n).valueAnimation){var m=Object(l["P"])(n.style.opacity,1);n.style.opacity=0,Object(o["c"])(n,{style:{opacity:m}},e,c)}if(i.oldLayout=h,n.states.select){var g=i.oldLayoutSelect={};_(g,h,b),_(g,n.states.select,b)}if(n.states.emphasis){var x=i.oldLayoutEmphasis={};_(x,h,b),_(x,n.states.emphasis,b)}Object(f["a"])(n,c,d,e,e)}if(r&&!r.ignore&&!r.invisible){i=y(r),s=i.oldLayout;var w={points:r.shape.points};s?(r.attr({shape:s}),Object(o["h"])(r,{shape:w},e)):(r.setShape(w),r.style.strokePercent=0,Object(o["c"])(r,{style:{strokePercent:1}},e)),i.oldLayout=w}},t}(),w=x,T=Object(r["o"])();function S(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){var r=T(e).labelManager;r||(r=T(e).labelManager=new w),r.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,n){var r=T(e).labelManager;n.updatedSeries.forEach((function(t){r.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()}))}},ef08:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},ef59:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return m})),n.d(e,"d",(function(){return g})),n.d(e,"c",(function(){return v}));var r=n("4319"),i=n("22d1"),o={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},a={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},s=n("6d8b"),u="ZH",c="EN",l=c,h={},f={},d=i["a"].domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(u)>-1?u:l}():l;function p(t,e){t=t.toUpperCase(),f[t]=new r["a"](e),h[t]=e}function m(t){if(Object(s["C"])(t)){var e=h[t.toUpperCase()]||{};return t===u||t===c?Object(s["d"])(e):Object(s["I"])(Object(s["d"])(e),Object(s["d"])(h[l]),!1)}return Object(s["I"])(Object(s["d"])(t),Object(s["d"])(h[l]),!1)}function g(t){return f[t]}function v(){return f[l]}p(c,o),p(u,a)},f069:function(t,e,n){"use strict";var r=n("1c0b"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},f183:function(t,e,n){var r=n("d012"),i=n("861d"),o=n("5135"),a=n("9bf2").f,s=n("90e3"),u=n("bb2f"),c=s("meta"),l=0,h=Object.isExtensible||function(){return!0},f=function(t){a(t,c,{value:{objectID:"O"+ ++l,weakData:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!h(t))return"F";if(!e)return"E";f(t)}return t[c].objectID},p=function(t,e){if(!o(t,c)){if(!h(t))return!0;if(!e)return!1;f(t)}return t[c].weakData},m=function(t){return u&&g.REQUIRED&&h(t)&&!o(t,c)&&f(t),t},g=t.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:m};r[c]=!0},f279:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f}));var r=n("7fae"),i=n("9850"),o=n("e263"),a=n("401b"),s=n("0655"),u=n("1687"),c=[],l=function(){function t(t){this.name=t}return t.prototype.getCenter=function(){},t}(),h=function(t){function e(e,n,r){var i=t.call(this,e)||this;if(i.type="geoJSON",i.geometries=n,r)r=[r[0],r[1]];else{var o=i.getBoundingRect();r=[o.x+o.width/2,o.y+o.height/2]}return i._center=r,i}return Object(r["b"])(e,t),e.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],r=[-e,-e],s=[],u=[],c=this.geometries,l=0;l<c.length;l++)if("polygon"===c[l].type){var h=c[l].exterior;o["d"](h,s,u),a["l"](n,n,s),a["k"](r,r,u)}return 0===l&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new i["a"](n[0],n[1],r[0]-n[0],r[1]-n[1])},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++)if("polygon"===n[r].type){var o=n[r].exterior,a=n[r].interiors;if(s["a"](o,t[0],t[1])){for(var u=0;u<(a?a.length:0);u++)if(s["a"](a[u],t[0],t[1]))continue t;return!0}}return!1},e.prototype.transformTo=function(t,e,n,r){var o=this.getBoundingRect(),s=o.width/o.height;n?r||(r=n/s):n=s*r;for(var u=new i["a"](t,e,n,r),c=o.calculateTransform(u),l=this.geometries,h=0;h<l.length;h++)if("polygon"===l[h].type){for(var f=l[h].exterior,d=l[h].interiors,p=0;p<f.length;p++)a["b"](f[p],f[p],c);for(var m=0;m<(d?d.length:0);m++)for(p=0;p<d[m].length;p++)a["b"](d[m][p],d[m][p],c)}o=this._rect,o.copy(u),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e.prototype.getCenter=function(){return this._center},e.prototype.setCenter=function(t){this._center=t},e}(l),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return Object(r["b"])(e,t),e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this._calculateCenter()),t},e.prototype._calculateCenter=function(){var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],r=u["d"](c),i=t;while(i&&!i.isGeoSVGGraphicRoot)u["f"](r,i.getLocalTransform(),r),i=i.parent;return u["e"](r,r),a["b"](n,n,r),n},e}(l)},f3bb:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("6d8b"),i=n("e0d3");function o(t,e){function n(e,n){var r=[];return e.eachComponent({mainType:"series",subType:t,query:n},(function(t){r.push(t.seriesIndex)})),r}Object(r["k"])([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){e(t[0],(function(e,i,o){e=Object(r["m"])({},e),o.dispatchAction(Object(r["m"])(e,{type:t[1],seriesIndex:n(i,e)}))}))}))}function a(t,e,n,o,a){var s=t+e;n.isSilent(s)||o.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,o=a.selected,u=0;u<o.length;u++)if(o[u].seriesIndex===e){var c=t.getData(),l=Object(i["u"])(c,a.fromActionPayload);n.trigger(s,{type:s,seriesId:t.id,name:Object(r["t"])(l)?c.getName(l[0]):c.getName(l),selected:Object(r["m"])({},t.option.selectedMap)})}}))}function s(t,e,n){t.on("selectchanged",(function(t){var r=n.getModel();t.isFromClick?(a("map","selectchanged",e,r,t),a("pie","selectchanged",e,r,t)):"select"===t.fromAction?(a("map","selected",e,r,t),a("pie","selected",e,r,t)):"unselect"===t.fromAction&&(a("map","unselected",e,r,t),a("pie","unselected",e,r,t))}))}},f5df:function(t,e,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),a))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},f5df1:function(t,e,n){},f6b4:function(t,e,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},f6d8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("6d8b"),i=n("217c"),o=n("2b17"),a=n("e0d3");function s(t){var e,n,s,c,l=t.series,h=t.dataIndex,f=t.multipleSeries,d=l.getData(),p=d.mapDimensionsAll("defaultedTooltip"),m=p.length,g=l.getRawValue(h),v=Object(r["t"])(g),y=Object(i["e"])(l,h);if(m>1||v&&!m){var _=u(g,l,h,p,y);e=_.inlineValues,n=_.inlineValueTypes,s=_.blocks,c=_.inlineValues[0]}else if(m){var b=d.getDimensionInfo(p[0]);c=e=Object(o["e"])(d,h,p[0]),n=b.type}else c=e=v?g[0]:g;var x=Object(a["n"])(l),w=x&&l.name||"",T=d.getName(h),S=f?w:T;return Object(i["c"])("section",{header:w,noHeader:f||!x,sortParam:c,blocks:[Object(i["c"])("nameValue",{markerType:"item",markerColor:y,name:S,noName:!Object(r["T"])(S),value:e,valueType:n})].concat(s||[])})}function u(t,e,n,a,s){var u=e.getData(),c=Object(r["N"])(t,(function(t,e,n){var r=u.getDimensionInfo(n);return t||r&&!1!==r.tooltip&&null!=r.displayName}),!1),l=[],h=[],f=[];function d(t,e){var n=u.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(c?f.push(Object(i["c"])("nameValue",{markerType:"subItem",markerColor:s,name:n.displayName,value:t,valueType:n.type})):(l.push(t),h.push(n.type)))}return a.length?Object(r["k"])(a,(function(t){d(Object(o["e"])(u,n,t),t)})):Object(r["k"])(t,d),{inlineValues:l,inlineValueTypes:h,blocks:f}}},f72b:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n("6d8b"),i=n("ec6f"),o=n("07fd"),a=n("0f99"),s=n("04f7"),u=n("d0ce"),c=n("2b17"),l=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,a=this._getUpstreamSourceManagers(),s=!!a.length;if(f(n)){var u=n,c=void 0,l=void 0,h=void 0;if(s){var d=a[0];d.prepareSource(),h=d.getSource(),c=h.data,l=h.sourceFormat,e=[d._getVersionSign()]}else c=u.get("data",!0),l=Object(r["E"])(c)?o["g"]:o["f"],e=[];var p=this._getSourceMetaRawOption()||{},m=h&&h.metaRawOption||{},g=Object(r["P"])(p.seriesLayoutBy,m.seriesLayoutBy)||null,v=Object(r["P"])(p.sourceHeader,m.sourceHeader)||null,y=Object(r["P"])(p.dimensions,m.dimensions),_=g!==m.seriesLayoutBy||!!v!==!!m.sourceHeader||y;t=_?[Object(i["b"])(c,{seriesLayoutBy:g,sourceHeader:v,dimensions:y},l)]:[]}else{var b=n;if(s){var x=this._applyTransform(a);t=x.sourceList,e=x.upstreamSignList}else{var w=b.get("source",!0);t=[Object(i["b"])(w,this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,o=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(null!=a){var u="";1!==t.length&&d(u)}var c=[],l=[];return Object(r["k"])(t,(function(t){t.prepareSource();var e=t.getSource(a||0),n="";null==a||e||d(n),c.push(e),l.push(t._getVersionSign())})),o?e=Object(s["a"])(o,c,{datasetIndex:n.componentIndex}):null!=a&&(e=[Object(i["a"])(c[0])]),{sourceList:e,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var r=0,i=this._storeList,o=i[r];o||(o=i[r]={});var a=o[n];if(!a){var s=this._getUpstreamSourceManagers()[0];f(this._sourceHost)&&s?a=s._innerGetDataStore(t,e,n):(a=new u["b"],a.initData(new c["a"](e,t.length),t)),o[n]=a}return a},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(f(t)){var e=Object(a["f"])(t);return e?[e.getSourceManager()]:[]}return Object(r["H"])(Object(a["e"])(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(f(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function h(t){var e=t.option.transform;e&&Object(r["R"])(t.option.transform)}function f(t){return"series"===t.mainType}function d(t){throw new Error(t)}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},f876:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"i",(function(){return p})),n.d(e,"B",(function(){return g})),n.d(e,"y",(function(){return v})),n.d(e,"m",(function(){return y})),n.d(e,"q",(function(){return _})),n.d(e,"l",(function(){return b})),n.d(e,"h",(function(){return x})),n.d(e,"r",(function(){return w})),n.d(e,"n",(function(){return S})),n.d(e,"j",(function(){return O})),n.d(e,"w",(function(){return M})),n.d(e,"f",(function(){return E})),n.d(e,"o",(function(){return A})),n.d(e,"u",(function(){return C})),n.d(e,"z",(function(){return D})),n.d(e,"s",(function(){return L})),n.d(e,"k",(function(){return I})),n.d(e,"x",(function(){return P})),n.d(e,"g",(function(){return R})),n.d(e,"p",(function(){return N})),n.d(e,"v",(function(){return k})),n.d(e,"A",(function(){return j})),n.d(e,"t",(function(){return F}));var r=n("6d8b"),i=n("3842"),o=n("ef59"),a=n("4319"),s=1e3,u=60*s,c=60*u,l=24*c,h=365*l,f={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},d="{yyyy}-{MM}-{dd}",p={year:"{yyyy}",month:"{yyyy}-{MM}",day:d,hour:d+" "+f.hour,minute:d+" "+f.minute,second:d+" "+f.second,millisecond:f.none},m=["year","month","day","hour","minute","second","millisecond"],g=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function v(t,e){return t+="","0000".substr(0,e-t.length)+t}function y(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function _(t){return t===y(t)}function b(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function x(t,e,n,r){var s=i["o"](t),u=s[O(n)](),c=s[M(n)]()+1,l=Math.floor((c-1)/4)+1,h=s[E(n)](),f=s["get"+(n?"UTC":"")+"Day"](),d=s[A(n)](),p=(d-1)%12+1,m=s[C(n)](),g=s[D(n)](),y=s[L(n)](),_=r instanceof a["a"]?r:Object(o["d"])(r||o["a"])||Object(o["c"])(),b=_.getModel("time"),x=b.get("month"),w=b.get("monthAbbr"),T=b.get("dayOfWeek"),S=b.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,u%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,x[c-1]).replace(/{MMM}/g,w[c-1]).replace(/{MM}/g,v(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,v(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,T[f]).replace(/{ee}/g,S[f]).replace(/{e}/g,f+"").replace(/{HH}/g,v(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,v(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,v(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,v(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,v(y,3)).replace(/{S}/g,y+"")}function w(t,e,n,i,o){var a=null;if("string"===typeof n)a=n;else if("function"===typeof n)a=n(t.value,e,{level:t.level});else{var s=r["m"]({},f);if(t.level>0)for(var u=0;u<m.length;++u)s[m[u]]="{primary|"+s[m[u]]+"}";var c=n?!1===n.inherit?n:r["j"](n,s):s,l=T(t.value,o);if(c[l])a=c[l];else if(c.inherit){var h=g.indexOf(l);for(u=h-1;u>=0;--u)if(c[l]){a=c[l];break}a=a||s.none}if(r["t"](a)){var d=null==t.level?0:t.level>=0?t.level:a.length+t.level;d=Math.min(d,a.length-1),a=a[d]}}return x(new Date(t.value),a,o,i)}function T(t,e){var n=i["o"](t),r=n[M(e)]()+1,o=n[E(e)](),a=n[A(e)](),s=n[C(e)](),u=n[D(e)](),c=n[L(e)](),l=0===c,h=l&&0===u,f=h&&0===s,d=f&&0===a,p=d&&1===o,m=p&&1===r;return m?"year":p?"month":d?"day":f?"hour":h?"minute":l?"second":"millisecond"}function S(t,e,n){var r="number"===typeof t?i["o"](t):t;switch(e=e||T(t,n),e){case"year":return r[O(n)]();case"half-year":return r[M(n)]()>=6?1:0;case"quarter":return Math.floor((r[M(n)]()+1)/4);case"month":return r[M(n)]();case"day":return r[E(n)]();case"half-day":return r[A(n)]()/24;case"hour":return r[A(n)]();case"minute":return r[C(n)]();case"second":return r[D(n)]();case"millisecond":return r[L(n)]()}}function O(t){return t?"getUTCFullYear":"getFullYear"}function M(t){return t?"getUTCMonth":"getMonth"}function E(t){return t?"getUTCDate":"getDate"}function A(t){return t?"getUTCHours":"getHours"}function C(t){return t?"getUTCMinutes":"getMinutes"}function D(t){return t?"getUTCSeconds":"getSeconds"}function L(t){return t?"getUTCMilliseconds":"getMilliseconds"}function I(t){return t?"setUTCFullYear":"setFullYear"}function P(t){return t?"setUTCMonth":"setMonth"}function R(t){return t?"setUTCDate":"setDate"}function N(t){return t?"setUTCHours":"setHours"}function k(t){return t?"setUTCMinutes":"setMinutes"}function j(t){return t?"setUTCSeconds":"setSeconds"}function F(t){return t?"setUTCMilliseconds":"setMilliseconds"}},f893:function(t,e,n){t.exports={default:n("8119"),__esModule:!0}},f934:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return d})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return m})),n.d(e,"d",(function(){return g})),n.d(e,"h",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"c",(function(){return _}));var r=n("6d8b"),i=n("9850"),o=n("3842"),a=n("eda2"),s=r["k"],u=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function l(t,e,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild((function(u,c){var l,h,f=u.getBoundingRect(),d=e.childAt(c+1),p=d&&d.getBoundingRect();if("horizontal"===t){var m=f.width+(p?-p.x+f.x:0);l=o+m,l>r||u.newline?(o=0,l=m,a+=s+n,s=f.height):s=Math.max(s,f.height)}else{var g=f.height+(p?-p.y+f.y:0);h=a+g,h>i||u.newline?(o+=s+n,a=0,h=g,s=f.width):s=Math.max(s,f.width)}u.newline||(u.x=o,u.y=a,u.markRedraw(),"horizontal"===t?o=l+n:a=h+n)}))}var h=l;r["i"](l,"vertical"),r["i"](l,"horizontal");function f(t,e,n){var r=e.width,i=e.height,s=Object(o["p"])(t.left,r),u=Object(o["p"])(t.top,i),c=Object(o["p"])(t.right,r),l=Object(o["p"])(t.bottom,i);return(isNaN(s)||isNaN(parseFloat(t.left)))&&(s=0),(isNaN(c)||isNaN(parseFloat(t.right)))&&(c=r),(isNaN(u)||isNaN(parseFloat(t.top)))&&(u=0),(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=i),n=a["j"](n||0),{width:Math.max(c-s-n[1]-n[3],0),height:Math.max(l-u-n[0]-n[2],0)}}function d(t,e,n){n=a["j"](n||0);var r=e.width,s=e.height,u=Object(o["p"])(t.left,r),c=Object(o["p"])(t.top,s),l=Object(o["p"])(t.right,r),h=Object(o["p"])(t.bottom,s),f=Object(o["p"])(t.width,r),d=Object(o["p"])(t.height,s),p=n[2]+n[0],m=n[1]+n[3],g=t.aspect;switch(isNaN(f)&&(f=r-l-m-u),isNaN(d)&&(d=s-h-p-c),null!=g&&(isNaN(f)&&isNaN(d)&&(g>r/s?f=.8*r:d=.8*s),isNaN(f)&&(f=g*d),isNaN(d)&&(d=f/g)),isNaN(u)&&(u=r-l-f-m),isNaN(c)&&(c=s-h-d-p),t.left||t.right){case"center":u=r/2-f/2-n[3];break;case"right":u=r-f-m;break}switch(t.top||t.bottom){case"middle":case"center":c=s/2-d/2-n[0];break;case"bottom":c=s-d-p;break}u=u||0,c=c||0,isNaN(f)&&(f=r-m-u-(l||0)),isNaN(d)&&(d=s-p-c-(h||0));var v=new i["a"](u+n[3],c+n[0],f,d);return v.margin=n,v}function p(t,e,n,o,a){var s=!a||!a.hv||a.hv[0],u=!a||!a.hv||a.hv[1],c=a&&a.boundingMode||"all";if(s||u){var l;if("raw"===c)l="group"===t.type?new i["a"](0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();l=l.clone(),l.applyTransform(h)}var f=d(r["j"]({width:l.width,height:l.height},e),n,o),p=s?f.x-l.x:0,m=u?f.y-l.y:0;"raw"===c?(t.x=p,t.y=m):(t.x+=p,t.y+=m),t.markRedraw()}}function m(t,e){return null!=t[c[e][0]]||null!=t[c[e][1]]&&null!=t[c[e][2]]}function g(t){var e=t.layoutMode||t.constructor.layoutMode;return r["A"](e)?e:e?{type:e}:null}function v(t,e,n){var i=n&&n.ignoreSize;!r["t"](i)&&(i=[i,i]);var o=u(c[0],0),a=u(c[1],1);function u(n,r){var o={},a=0,u={},c=0,f=2;if(s(n,(function(e){u[e]=t[e]})),s(n,(function(t){l(e,t)&&(o[t]=u[t]=e[t]),h(o,t)&&a++,h(u,t)&&c++})),i[r])return h(e,n[1])?u[n[2]]=null:h(e,n[2])&&(u[n[1]]=null),u;if(c!==f&&a){if(a>=f)return o;for(var d=0;d<n.length;d++){var p=n[d];if(!l(o,p)&&l(t,p)){o[p]=t[p];break}}return o}return u}function l(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function f(t,e,n){s(t,(function(t){e[t]=n[t]}))}f(c[0],t,o),f(c[1],t,a)}function y(t){return _({},t)}function _(t,e){return e&&t&&s(u,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}},f95e:function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var r=n("2cf4"),i=n("6d8b"),o=n("21a10"),a=n("6fd3"),s=n("3437"),u=n("5210"),c=n("9850"),l=n("4bc4");function h(){return!1}function f(t,e,n){var r=i["f"](),o=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=o+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=o*n,r.height=a*n,r}var d=function(t){function e(e,n,o){var a,s=t.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,o=o||r["e"],"string"===typeof e?a=f(e,n,o):i["A"](e)&&(a=e,e=a.id),s.id=e,s.dom=a;var u=a.style;return u&&(a.onselectstart=h,u.webkitUserSelect="none",u.userSelect="none",u.webkitTapHighlightColor="rgba(0,0,0,0)",u["-webkit-touch-callout"]="none",u.padding="0",u.margin="0",u.borderWidth="0"),s.domBack=null,s.ctxBack=null,s.painter=n,s.config=null,s.dpr=o,s}return Object(o["a"])(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=f("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,o=[],a=this.maxRepaintRectCount,s=!1,u=new c["a"](0,0,0,0);function h(t){if(t.isFinite()&&!t.isZero())if(0===o.length){var e=new c["a"](0,0,0,0);e.copy(t),o.push(e)}else{for(var n=!1,r=1/0,i=0,l=0;l<o.length;++l){var h=o[l];if(h.intersect(t)){var f=new c["a"](0,0,0,0);f.copy(h),f.union(t),o[l]=f,n=!0;break}if(s){u.copy(t),u.union(h);var d=t.width*t.height,p=h.width*h.height,m=u.width*u.height,g=m-d-p;g<r&&(r=g,i=l)}}if(s&&(o[i].union(t),n=!0),!n){e=new c["a"](0,0,0,0);e.copy(t),o.push(e)}s||(s=o.length>=a)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=t[f];if(d){var p=d.shouldBePainted(n,r,!0,!0),m=d.__isRendered&&(d.__dirty&l["a"]||!p)?d.getPrevPaintRect():null;m&&h(m);var g=p&&(d.__dirty&l["a"]||!d.__isRendered)?d.getPaintRect():null;g&&h(g)}}for(f=this.__prevStartIndex;f<this.__prevEndIndex;++f){d=e[f],p=d.shouldBePainted(n,r,!0,!0);if(d&&(!p||!d.__zr)&&d.__isRendered){m=d.getPrevPaintRect();m&&h(m)}}do{i=!1;for(f=0;f<o.length;)if(o[f].isZero())o.splice(f,1);else{for(var v=f+1;v<o.length;)o[f].intersect(o[v])?(i=!0,o[f].union(o[v]),o.splice(v,1)):v++;f++}}while(i);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var r=this.dom,o=this.ctx,a=r.width,c=r.height;e=e||this.clearColor;var l=this.motionBlur&&!t,h=this.lastFrameAlpha,f=this.dpr,d=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/f,c/f));var p=this.domBack;function m(t,n,r,a){if(o.clearRect(t,n,r,a),e&&"transparent"!==e){var c=void 0;i["x"](e)?(c=e.__canvasGradient||Object(s["a"])(o,e,{x:0,y:0,width:r,height:a}),e.__canvasGradient=c):i["y"](e)&&(c=Object(u["c"])(o,e,{dirty:function(){d.setUnpainted(),d.__painter.refresh()}})),o.save(),o.fillStyle=c||e,o.fillRect(t,n,r,a),o.restore()}l&&(o.save(),o.globalAlpha=h,o.drawImage(p,t,n,r,a),o.restore())}!n||l?m(0,0,a,c):n.length&&i["k"](n,(function(t){m(t.x*f,t.y*f,t.width*f,t.height*f)}))},e}(a["a"]),p=d,m=n("98b7"),g=n("0da8"),v=n("22d1"),y=1e5,_=314159,b=.01,x=.001;function w(t){return parseInt(t,10)}function T(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function S(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var O=function(){function t(t,e,n,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=i["m"]({},n||{}),this.dpr=n.devicePixelRatio||r["e"],this._singleCanvas=a,this.root=t;var s=t.style;s&&(s.webkitTapHighlightColor="transparent",s.webkitUserSelect="none",s.userSelect="none",s["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var u=this._zlevelList;this._prevDisplayList=[];var c=this._layers;if(a){var l=t,h=l.width,f=l.height;null!=n.width&&(h=n.width),null!=n.height&&(f=n.height),this.dpr=n.devicePixelRatio||1,l.width=h*this.dpr,l.height=f*this.dpr,this._width=h,this._height=f;var d=new p(l,this,this.dpr);d.__builtin__=!0,d.initContext(),c[_]=d,d.zlevel=_,u.push(_),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var m=this._domRoot=S(this._width,this._height);t.appendChild(m)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===i?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(y)),r||(r=n.ctx,r.save()),Object(u["a"])(r,a,i,o===e-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(y)},t.prototype.paintOne=function(t,e){Object(u["b"])(t,e)},t.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e,n),o=i.finished,a=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;Object(m["a"])((function(){s._paintList(t,e,n,r)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(_).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],c=this._layers[u];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&o.push(c)}for(var l=!0,h=!1,f=function(i){var s,u=o[i],c=u.ctx,f=a&&u.createRepaintRects(t,e,d._width,d._height),p=n?u.__startIndex:u.__drawIndex,m=!n&&u.incremental&&Date.now,g=m&&Date.now(),v=u.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(u.__startIndex===u.__endIndex)u.clear(!1,v,f);else if(p===u.__startIndex){var y=t[p];y.incremental&&y.notClear&&!n||u.clear(!1,v,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=u.__startIndex);var _=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=p;s<u.__endIndex;s++){var i=t[s];if(i.__inHover&&(h=!0),r._doPaintEl(i,u,a,e,n,s===u.__endIndex-1),m){var o=Date.now()-g;if(o>15)break}}n.prevElClipPaths&&c.restore()};if(f)if(0===f.length)s=u.__endIndex;else for(var b=d.dpr,x=0;x<f.length;++x){var w=f[x];c.save(),c.beginPath(),c.rect(w.x*b,w.y*b,w.width*b,w.height*b),c.clip(),_(w),c.restore()}else c.save(),_(),c.restore();u.__drawIndex=s,u.__drawIndex<u.__endIndex&&(l=!1)},d=this,p=0;p<o.length;p++)f(p);return v["a"].wxa&&i["k"](this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:l,needsRefreshHover:h}},t.prototype._doPaintEl=function(t,e,n,r,i,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!r||s&&s.intersect(r))&&(Object(u["a"])(a,t,i,o),t.setPrevPaintRect(s))}else Object(u["a"])(a,t,i,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=_);var n=this._layers[t];return n||(n=new p("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?i["I"](n,this._layerConfig[t],!0):this._layerConfig[t-b]&&i["I"](n,this._layerConfig[t-b],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,u=-1;if(n[t])i["G"]("ZLevel "+t+" has been used already");else if(T(e)){if(o>0&&t>r[0]){for(u=0;u<o-1;u++)if(r[u]<t&&r[u+1]>t)break;s=n[r[u]]}if(r.splice(u+1,0,t),n[t]=e,!e.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(e.dom,c.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}else i["G"]("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];t.call(e,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__&&t.call(e,o,i)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__||t.call(e,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){s&&(s.__endIndex!==t&&(s.__dirty=!0),s.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){var r=t[n];if(r.zlevel!==t[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o,a,s=null,u=0;for(a=0;a<t.length;a++){r=t[a];var c=r.zlevel,h=void 0;o!==c&&(o=c,u=0),r.incremental?(h=this.getLayer(c+x,this._needsManuallyCompositing),h.incremental=!0,u=1):h=this.getLayer(c+(u>0?b:0),this._needsManuallyCompositing),h.__builtin__||i["G"]("ZLevel "+c+" has been used by unkown layer "+h.id),h!==s&&(h.__used=!0,h.__startIndex!==a&&(h.__dirty=!0),h.__startIndex=a,h.incremental?h.__drawIndex=-1:h.__drawIndex=a,e(a),s=h),r.__dirty&l["a"]&&!r.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=a))}e(a),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,i["k"](this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?i["I"](n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===t||o===t+b){var a=this._layers[o];i["I"](a,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(i["r"](n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(_).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[_].dom;var e=new p("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,i=e.dom.height;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,r,i):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,c=a.length;s<c;s++){var l=a[s];Object(u["a"])(n,l,o,s===c-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||w(s[n])||w(a.style[n]))-(w(s[i])||0)-(w(s[o])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),o=t.getBoundingRect(),a=t.style,s=a.shadowBlur*e,c=a.shadowOffsetX*e,l=a.shadowOffsetY*e,h=t.hasStroke()?a.lineWidth:0,f=Math.max(h/2,-c+s),d=Math.max(h/2,c+s),p=Math.max(h/2,-l+s),m=Math.max(h/2,l+s),v=o.width+f+d,y=o.height+p+m;n.width=v*e,n.height=y*e,r.scale(e,e),r.clearRect(0,0,v,y),r.dpr=e;var _={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=f-o.x,t.y=p-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Object(u["a"])(r,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var b=new g["a"]({style:{x:0,y:0,image:n}});return i["m"](t,_),b},t}(),M=O;function E(t){t.registerPainter("canvas",M)}},fadd:function(t,e,n){"use strict";function r(t,e,n){var r;while(t){if(e(t)&&(r=t,n))break;t=t.__hostTarget||t.parent}return r}n.d(e,"a",(function(){return r}))},faf5:function(t,e,n){t.exports=!n("0bad")&&!n("4b8b")((function(){return 7!=Object.defineProperty(n("05f5")("div"),"a",{get:function(){return 7}}).a}))},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),a=n("23cb"),s=n("50c4"),u=n("fc6a"),c=n("8418"),l=n("b622"),h=n("1dde"),f=n("ae40"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,r,l,h=u(this),f=s(h.length),d=a(t,f),p=a(void 0===e?f:e,f);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(h,d,p);for(r=new(void 0===n?Array:n)(v(p-d,0)),l=0;d<p;d++,l++)d in h&&c(r,l,h[d]);return r.length=l,r}})},fc5e:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fcd4:function(t,e,n){e.f=n("cc15")},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise},fed5:function(t,e){e.f=Object.getOwnPropertySymbols},ffe7:function(t,e,n){
/*!
 * Fuse.js v3.4.4 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(2),a=n(8),s=n(0),u=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,o=n.distance,s=void 0===o?100:o,u=n.threshold,c=void 0===u?.6:u,l=n.maxPatternLength,h=void 0===l?32:l,f=n.caseSensitive,d=void 0!==f&&f,p=n.tokenSeparator,m=void 0===p?/ +/g:p,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,_=void 0===y?1:y,b=n.id,x=void 0===b?null:b,w=n.keys,T=void 0===w?[]:w,S=n.shouldSort,O=void 0===S||S,M=n.getFn,E=void 0===M?a:M,A=n.sortFn,C=void 0===A?function(t,e){return t.score-e.score}:A,D=n.tokenize,L=void 0!==D&&D,I=n.matchAllTokens,P=void 0!==I&&I,R=n.includeMatches,N=void 0!==R&&R,k=n.includeScore,j=void 0!==k&&k,F=n.verbose,B=void 0!==F&&F;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:s,threshold:c,maxPatternLength:h,isCaseSensitive:d,tokenSeparator:m,findAllMatches:v,minMatchCharLength:_,id:x,keys:T,includeMatches:N,includeScore:j,shouldSort:O,getFn:E,sortFn:C,verbose:B,tokenize:L,matchAllTokens:P},this.setCollection(e)}var e,n,u;return e=t,(n=[{key:"setCollection",value:function(t){return this.list=t,t}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(t,'"'));var n=this._prepareSearchers(t),r=n.tokenSearchers,i=n.fullSearcher,o=this._search(r,i),a=o.weights,s=o.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),e.limit&&"number"==typeof e.limit&&(s=s.slice(0,e.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[];if(this.options.tokenize)for(var n=t.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)e.push(new o(n[r],this.options));return{tokenSearchers:e,fullSearcher:new o(t,this.options)}}},{key:"_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var o=0,a=n.length;o<a;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e});return{weights:null,results:i}}for(var s={},u=0,c=n.length;u<c;u+=1)for(var l=n[u],h=0,f=this.options.keys.length;h<f;h+=1){var d=this.options.keys[h];if("string"!=typeof d){if(s[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error("Key weight has to be > 0 and <= 1");d=d.name}else s[d]={weight:1};this._analyze({key:d,value:this.options.getFn(l,d),record:l,index:u},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e})}return{weights:s,results:i}}},{key:"_analyze",value:function(t,e){var n=t.key,r=t.arrayIndex,i=void 0===r?-1:r,o=t.value,a=t.record,u=t.index,c=e.tokenSearchers,l=void 0===c?[]:c,h=e.fullSearcher,f=void 0===h?[]:h,d=e.resultMap,p=void 0===d?{}:d,m=e.results,g=void 0===m?[]:m;if(null!=o){var v=!1,y=-1,_=0;if("string"==typeof o){this._log("\nKey: ".concat(""===n?"-":n));var b=f.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat(b.score)),this.options.tokenize){for(var x=o.split(this.options.tokenSeparator),w=[],T=0;T<l.length;T+=1){var S=l[T];this._log('\nPattern: "'.concat(S.pattern,'"'));for(var O=!1,M=0;M<x.length;M+=1){var E=x[M],A=S.search(E),C={};A.isMatch?(C[E]=A.score,v=!0,O=!0,w.push(A.score)):(C[E]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(E,'", score: ').concat(C[E]))}O&&(_+=1)}y=w[0];for(var D=w.length,L=1;L<D;L+=1)y+=w[L];y/=D,this._log("Token score average:",y)}var I=b.score;y>-1&&(I=(I+y)/2),this._log("Score average:",I);var P=!this.options.tokenize||!this.options.matchAllTokens||_>=l.length;if(this._log("\nCheck Matches: ".concat(P)),(v||b.isMatch)&&P){var R=p[u];R?R.output.push({key:n,arrayIndex:i,value:o,score:I,matchedIndices:b.matchedIndices}):(p[u]={item:a,output:[{key:n,arrayIndex:i,value:o,score:I,matchedIndices:b.matchedIndices}]},g.push(p[u]))}}else if(s(o))for(var N=0,k=o.length;N<k;N+=1)this._analyze({key:n,arrayIndex:N,value:o[N],record:a,index:u},{resultMap:p,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:"_computeScore",value:function(t,e){this._log("\n\nComputing score:\n");for(var n=0,r=e.length;n<r;n+=1){for(var i=e[n].output,o=i.length,a=1,s=1,u=0;u<o;u+=1){var c=t?t[i[u].key].weight:1,l=(1===c?i[u].score:i[u].score||.001)*c;1!==c?s=Math.min(s,l):(i[u].nScore=l,a*=l)}e[n].score=1===s?a:s,this._log(e[n])}}},{key:"_sort",value:function(t){this._log("\n\nSorting...."),t.sort(this.options.sortFn)}},{key:"_format",value:function(t){var e=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(t,(function(t,e){if("object"===r(e)&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}))),n=null}var i=[];this.options.includeMatches&&i.push((function(t,e){var n=t.output;e.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),e.matches.push(a)}}})),this.options.includeScore&&i.push((function(t,e){e.score=t.score}));for(var o=0,a=t.length;o<a;o+=1){var s=t[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),i.length){for(var u={item:s.item},c=0,l=i.length;c<l;c+=1)i[c](s,u);e.push(u)}else e.push(s.item)}return e}},{key:"_log",value:function(){var t;this.options.verbose&&(t=console).log.apply(t,arguments)}}])&&i(e.prototype,n),u&&i(e,u),t}();t.exports=u},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(3),o=n(4),a=n(7),s=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,o=n.distance,s=void 0===o?100:o,u=n.threshold,c=void 0===u?.6:u,l=n.maxPatternLength,h=void 0===l?32:l,f=n.isCaseSensitive,d=void 0!==f&&f,p=n.tokenSeparator,m=void 0===p?/ +/g:p,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,_=void 0===y?1:y;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:s,threshold:c,maxPatternLength:h,isCaseSensitive:d,tokenSeparator:m,findAllMatches:v,minMatchCharLength:_},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=h&&(this.patternAlphabet=a(this.pattern))}var e,n,s;return e=t,(n=[{key:"search",value:function(t){if(this.options.isCaseSensitive||(t=t.toLowerCase()),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};var e=this.options,n=e.maxPatternLength,r=e.tokenSeparator;if(this.pattern.length>n)return i(t,this.pattern,r);var a=this.options,s=a.location,u=a.distance,c=a.threshold,l=a.findAllMatches,h=a.minMatchCharLength;return o(t,this.pattern,this.patternAlphabet,{location:s,distance:u,threshold:c,findAllMatches:l,minMatchCharLength:h})}}])&&r(e.prototype,n),s&&r(e,s),t}();t.exports=s},function(t,e){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(e.replace(n,"\\$&").replace(r,"|")),o=t.match(i),a=!!o,s=[];if(a)for(var u=0,c=o.length;u<c;u+=1){var l=o[u];s.push([t.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(t,e,n){var r=n(5),i=n(6);t.exports=function(t,e,n,o){for(var a=o.location,s=void 0===a?0:a,u=o.distance,c=void 0===u?100:u,l=o.threshold,h=void 0===l?.6:l,f=o.findAllMatches,d=void 0!==f&&f,p=o.minMatchCharLength,m=void 0===p?1:p,g=s,v=t.length,y=h,_=t.indexOf(e,g),b=e.length,x=[],w=0;w<v;w+=1)x[w]=0;if(-1!==_){var T=r(e,{errors:0,currentLocation:_,expectedLocation:g,distance:c});if(y=Math.min(T,y),-1!==(_=t.lastIndexOf(e,g+b))){var S=r(e,{errors:0,currentLocation:_,expectedLocation:g,distance:c});y=Math.min(S,y)}}_=-1;for(var O=[],M=1,E=b+v,A=1<<b-1,C=0;C<b;C+=1){for(var D=0,L=E;D<L;)r(e,{errors:C,currentLocation:g+L,expectedLocation:g,distance:c})<=y?D=L:E=L,L=Math.floor((E-D)/2+D);E=L;var I=Math.max(1,g-L+1),P=d?v:Math.min(g+L,v)+b,R=Array(P+2);R[P+1]=(1<<C)-1;for(var N=P;N>=I;N-=1){var k=N-1,j=n[t.charAt(k)];if(j&&(x[k]=1),R[N]=(R[N+1]<<1|1)&j,0!==C&&(R[N]|=(O[N+1]|O[N])<<1|1|O[N+1]),R[N]&A&&(M=r(e,{errors:C,currentLocation:k,expectedLocation:g,distance:c}))<=y){if(y=M,(_=k)<=g)break;I=Math.max(1,2*g-_)}}if(r(e,{errors:C+1,currentLocation:g,expectedLocation:g,distance:c})>y)break;O=R}return{isMatch:_>=0,score:0===M?.001:M,matchedIndices:i(x,m)}}},function(t,e){t.exports=function(t,e){var n=e.errors,r=void 0===n?0:n,i=e.currentLocation,o=void 0===i?0:i,a=e.expectedLocation,s=void 0===a?0:a,u=e.distance,c=void 0===u?100:u,l=r/t.length,h=Math.abs(s-o);return c?l+h/c:h?1:l}},function(t,e){t.exports=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,a=t.length;o<a;o+=1){var s=t[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}},function(t,e){t.exports=function(t){for(var e={},n=t.length,r=0;r<n;r+=1)e[t.charAt(r)]=0;for(var i=0;i<n;i+=1)e[t.charAt(i)]|=1<<n-i-1;return e}},function(t,e,n){var r=n(0);t.exports=function(t,e){return function t(e,n,i){if(n){var o=n.indexOf("."),a=n,s=null;-1!==o&&(a=n.slice(0,o),s=n.slice(o+1));var u=e[a];if(null!=u)if(s||"string"!=typeof u&&"number"!=typeof u)if(r(u))for(var c=0,l=u.length;c<l;c+=1)t(u[c],s,i);else s&&t(u,s,i);else i.push(u.toString())}else i.push(e);return i}(t,e,[])}}])}))}}]);